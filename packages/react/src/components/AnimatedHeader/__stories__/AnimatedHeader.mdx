import { ArgTypes, Canvas, Meta } from '@storybook/blocks';
import * as AnimatedHeaderStories from './AnimatedHeader.stories';
import AnimatedHeader from '../components/AnimatedHeader/AnimatedHeader';

<Meta isTemplate />

# Animated Header

- **Initiative owner(s):** Drew Glapa
- **Status:** Draft
- **Target library:** TBD
- **Target library maintainer(s) / PR Reviewer(s):** N/A
- **Support channel:** `#carbon-labs`

{/* <!-- START doctoc generated TOC please keep comment here to allow auto update --> */}
{/* <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> */}

> ðŸ’¡ Check our
> [Stackblitz](https://stackblitz.com/github/carbon-design-system/carbon-labs/tree/main/examples/react/AnimatedHeader)
> example implementation.

[![Edit carbon-labs](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/carbon-design-system/carbon-labs/tree/main/examples/react/AnimatedHeader)

## Table of Contents

- [Overview](#overview)
- [Getting started](#getting-started)

{/* <!-- END doctoc generated TOC please keep comment here to allow auto update --> */}

## Overview

The animated header is meant to be used on homepages only. It ensures
consistency throughout landing experiences, providing a cohesive appearance and
clear call to action for users. The skeleton for this header component ensures
consistency while flexible page elements allow teams to tailor the leadspace to
their individual user and product needs.

Lead spaces include a welcome text, a short description communicating the
products value proposition and feature most relevant content for the user.
Whether these are links to specific tasks, workspaces or other information is
defined by each product and their userâ€™s needs. In product-imagery has to be
very settled and subtil to not distract users in performing their tasks.

<Canvas
  of={AnimatedHeaderStories.ThemeG10}
  additionalActions={[
    {
      title: 'Open in Stackblitz',
      onClick: () => stackblitzPrefillConfig(AnimatedHeaderStories.ThemeG10),
    },
  ]}
/>

### Anatomy

**Title:** Welcomes the user (Welcome, username)

**Content:** Short sentence in max. 3 lines related to product context; Action
button (optional), Expose content that need highest attention from the user or
content that trigger an action and allow users to directly start working and
gain value (within one click). It is recommended to display content on cards to
achieve highest contrast to the background.

**Visual / brand image:** Line-style illustration

**Collapse / Expand:** Icon to collapse or expand the header

### Theming

The default theme for Animated Header is _g10_ (Light theme).

Animated header supports both _g10_ (Light theme) and _g100_ (Dark Theme).

To use dark theme in your product/app wrap the componenet in the Carbon
[GlobalTheme](https://react.carbondesignsystem.com/?path=/docs/components-theme--overview#setting-the-global-theme)
component. Following the example from the Carbon website it would like this:

```
import { useEffect } from 'react';
import { GlobalTheme } from '@carbon/react';

function App() {
  const theme = 'g100'; // â† your implementation, e.g. fetching user settings

  useEffect(() => {
    document.documentElement.dataset.carbonTheme = theme;
  }, [theme]);

  return (
    <GlobalTheme theme={theme}>
      <AnimatedHeader />
    </GlobalTheme>;
  );
}
```

### Accessibility

Use the `ariaLabels` prop to provide custom `aria-label`s for the header and all
subcomponents.

There are two ways to provide `aria-label`s for the tiles:

**1. Add `ariaLabel` Directly to Your Tile Data (Recommended)**

Add an `ariaLabel` property to each tile object in your data. This approach
keeps all relevant information together and is easiest to maintain.

```jsx
 const headerTiles = [
  {
    id: 1,
    label: 'AI Chat Tile w/ two glass tiles',
    tiles: [
      {
        id: 'ai-tile',
        href: '#',
        title: 'Short description of the type of prompt',
        mainIcon: Term,
        ariaLabel: 'Start a conversation with the AI assistant',
      }
    ]
  }
```

**2. Provide Tile Labels in the `ariaLabels.tiles` Map (Override Option)**

Alternatively, you can specify tile `aria-label`s by tile ID in the `tiles`
object within the `ariaLabels` prop. Note: If both are provided, the value in
`ariaLabels.tiles` will override the label in the tile data. This method is
helpful if you need to customize labels at runtime or for localization, but it
separates the label from the tile data and can be harder to maintain.

```jsx
const ariaLabels = {
  welcome: 'Welcomes the user',
  description: 'Short description of the product',
  collapseButton: 'Collapse header details',
  expandButton: 'Expand header details',
  tilesContainer: 'Feature tiles list',
  tiles: {
    'ai-tile': 'Start a conversation with AI assistant',
    'tile-1': 'Load data with Data explorer',
    'tile-2': 'Monitor system performance with Monitoring hub',
  },
  tasksDropdown: 'Select a task group',
  workspaceDropdown: 'Choose your workspace',
};
```

## Getting started

Here's a quick example to get you started.

```bash
yarn add @carbon/react
yarn add @carbon-labs/react-animated-header
```

### JS (via import)

```javascript
import { AnimatedHeader } from '@carbon-labs/react-animated-header/es/index';

function App() {
  return <AnimatedHeader />;
}

export default App;
```

### SCSS

In your styles file import

```
@use '@carbon/react';
@use '@carbon-labs/react-animated-header/scss/animated-header';
```

## Component API

<ArgTypes />

## Example usages

Example of Animated Header with all prop types enabled.

```jsx
  <AnimatedHeader
    tasksControllerConfig={tasksControllerConfigDropdown as TasksControllerConfig}
    workspaceSelectorConfig={WorkspaceSelectorConfig}
    description="Connect, monitor, and manage data."
    productName="[Product name]"
    userName="Drew"
    welcomeText="Welcome"
    isLoading={false}
    expandButtonLabel="Expand"
    collapseButtonLabel="Collapse"
    tileClickHandler={handleTileClicks}
    ariaLabels={ariaLabels as AriaLabels}
  />
```
