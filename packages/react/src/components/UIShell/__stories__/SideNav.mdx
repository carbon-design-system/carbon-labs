import { ArgTypes, Canvas, Meta } from '@storybook/addon-docs/blocks';
import * as SideNavStories from './SideNav.stories';

<Meta isTemplate />

# SideNav

## Table of Contents

- [Overview](#overview)
- Examples
  - [SideNavSlot](#sidenavslot)
  - [SideNavTitle](#sidenavtitle)
  - [Treeview](#treeview)
  - [Double wide](#double-wide)
- [Component API](#component-api)

## Overview

The `SideNav` is composed using components from both `@carbon/react` and
`@carbon-labs/react-ui-shell`. It supports features like treeview navigation,
double wide menus, and custom slots for interactive elements. The component can
be used within the `Header` for global navigation or within the page for in-page
navigation.

The `navType` prop can be used to control the behavior of the side navigation.
Setting the prop to `SIDE_NAV_TYPE.RAIL_PANEL` will change the interaction model
of the side navigation. Note that `SIDE_NAV_TYPE.RAIL_PANEL` requires two levels
of nesting due to the flyout menus, otherwise it may not function as intended
and the side navigation will need to be configured as a rail (via the `isRail`
prop)

## SideNavSlot

`SideNavSlot` is a child component of `SideNavItems`. It renders a `<li>`
element and allows you to place custom components inside the side navigation.
The optional `renderIcon` prop displays an icon when the navigation is in rail
mode (`isRail`) and collapsed.

```jsx
<SideNavItems>
  <SideNavSlot renderIcon={SearchIcon}>
    <Search
      size="sm"
      placeholder="Filter"
      closeButtonLabelText="Clear input"
      id="filter-1"
    />
  </SideNavSlot>
</SideNavItems>
```

## SideNavTitle

`SideNavTitle` is a child component of `SideNavItems`. It renders a `<li>`
element and allows you to place custom components inside the side navigation to
act as a title for a section of links.

```jsx
<SideNavItems>
  <SideNavTitle>Experience services</SideNavTitle>
  <SideNavLink href="http://www.carbondesignsystem.com" renderIcon={Dashboard}>
    Dashboard
  </SideNavLink>
  <SideNavLink
    href="http://www.carbondesignsystem.com"
    renderIcon={DataAnalytics}>
    Analytics
  </SideNavLink>
</SideNavItems>
```

## Double wide

The double wide feature can be enabled by adding the `primary` prop to each top
level `SideNavMenu`'s. This should be used with the treeview navigation. In
mobile, there is a configurable back button, which defaults to using the icon
`<ArrowRight/>` and text "My products". These can be updated by using the props
`backButtonRenderIcon` and `backButtonTitle`.

```jsx
import {
  SideNav,
  SideNavItems,
  SideNavLink,
  SideNavMenu,
  SideNavMenuItem,
  HeaderPanel,
} from '@carbon-labs/react-ui-shell';
import { Fade, SquareOutline } from '@carbon/icons-react';

function App() {
  return (
    <SideNav
      isFixedNav
      isTreeview
      expanded={true}
      isChildOfHeader={false}
      aria-label="Side navigation">
      <SideNavItems>
        <SideNavLink renderIcon={Fade} href="#">
          Link level 1
        </SideNavLink>
        <SideNavMenu
          defaultExpanded={true}
          renderIcon={Fade}
          title="Sub-menu level 1"
          primary>
          <SideNavMenuItem href="#">Link level 2</SideNavMenuItem>
          <SideNavMenuItem href="#">Link level 2</SideNavMenuItem>
          <SideNavMenu title="Sub-menu level 2" defaultExpanded={true}>
            <SideNavMenuItem isActive href="#">
              Link level 3
            </SideNavMenuItem>
            <SideNavMenuItem href="#">Link level 3</SideNavMenuItem>
          </SideNavMenu>
        </SideNavMenu>
        <SideNavMenu renderIcon={Fade} title="Sub-menu level 1" primary>
          <SideNavMenuItem renderIcon={Fade} href="#">
            Item level 2
          </SideNavMenuItem>
        </SideNavMenu>
      </SideNavItems>
    </SideNav>
  );
}

export default App;
```

## Treeview

`SideNav` has a new treeview navigation type that can be enabled by adding the
`isTreeview` prop. Note that this feature should only be used if there are two
levels of content within the component.

Also note that it will be automatically enabled if there are more than two
levels of content within the component.

```jsx
import {
  SideNav,
  SideNavItems,
  SideNavLink,
  SideNavMenu,
  SideNavMenuItem,
  HeaderPanel,
} from '@carbon-labs/react-ui-shell';
import { Fade, SquareOutline } from '@carbon/icons-react';

function App() {
  return (
    <SideNav
      isFixedNav
      isTreeview
      expanded={true}
      isChildOfHeader={false}
      aria-label="Side navigation">
      <SideNavItems>
        <SideNavLink renderIcon={Fade} href="#">
          Link level 1
        </SideNavLink>
        <SideNavMenu
          defaultExpanded={true}
          renderIcon={Fade}
          title="Sub-menu level 1">
          <SideNavMenuItem href="#">Link level 2</SideNavMenuItem>
          <SideNavMenuItem href="#">Link level 2</SideNavMenuItem>
          <SideNavMenu title="Sub-menu level 2" defaultExpanded={true}>
            <SideNavMenuItem isActive href="#">
              Link level 3
            </SideNavMenuItem>
            <SideNavMenuItem href="#">Link level 3</SideNavMenuItem>
          </SideNavMenu>
        </SideNavMenu>
      </SideNavItems>
    </SideNav>
  );
}

export default App;
```

## Component API

<ArgTypes />
