import { ArgTypes, Canvas, Meta } from '@storybook/blocks';
import * as UIShellStories from './UIShell.stories';

<Meta isTemplate />

# UIShell

- **Initiative owner(s):** Carbon
- **Status:** Draft
- **Target library:** @carbon/react
- **Target library maintainer(s) / PR Reviewer(s):** Carbon
- **Support channel:** `#carbon-labs`

{/* <!-- START doctoc generated TOC please keep comment here to allow auto update --> */}
{/* <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> */}

> ðŸ’¡ Check our
> [Stackblitz](https://stackblitz.com/github/carbon-design-system/carbon-labs/tree/main/examples/react/UIShell)
> example implementation.

[![Edit carbon-labs](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/carbon-design-system/carbon-labs/tree/main/examples/react/UIShell)

## Table of Contents

- [Overview](#overview)
- [Getting started](#getting-started)
  - [SCSS](#scss)
  - [JS (via import)](#js-via-import)
- [Component API](#component-api)

{/* <!-- END doctoc generated TOC please keep comment here to allow auto update --> */}

## Overview

Enhancements to core Carbon UIShell components. Components included in this
package:

- `SideNav`
- `SideNavItems`
- `SideNavMenu`
- `SideNavMenuItem`
- `HeaderPanel`

<Canvas of={UIShellStories.Default} />

## Getting started

Here's a quick example to get you started.

```bash
yarn add @carbon/react
yarn add @carbon-labs/react-ui-shell
```

### SCSS

In your styles file import

```
@use '@carbon/react' with (
  $font-path: '@ibm/plex'
);
@use '@carbon-labs/react-ui-shell/scss/ui-shell';
```

### JS (via import)

```javascript
import {
  SIDE_NAV_TYPE,
  SideNav,
  SideNavItems,
  SideNavMenu,
  SideNavMenuItem,
  HeaderPanel,
} from '@carbon-labs/react-ui-shell/es/index';
import {
  SideNavLink,
  SkipToContent,
  HeaderContainer,
  Header,
  HeaderName,
  Theme,
  HeaderMenuButton,
  SideNavDivider,
  Content,
  HeaderGlobalBar,
  HeaderGlobalAction,
  Grid,
  Column,
} from '@carbon/react';
import { Fade, SquareOutline } from '@carbon/icons-react';

function App() {
  return (
    <Theme theme="g100">
      <HeaderContainer
        render={({ isSideNavExpanded, onClickSideNavExpand }) => (
          <>
            <Header aria-label="IBM Platform Name">
              <SkipToContent />
              <HeaderMenuButton
                aria-label={isSideNavExpanded ? 'Close menu' : 'Open menu'}
                onClick={onClickSideNavExpand}
                isActive={isSideNavExpanded}
                aria-expanded={isSideNavExpanded}
                isCollapsible //shows hamburger menu at desktop
                isFixedNav
              />
              <HeaderName href="#" prefix="IBM">
                [Platform]
              </HeaderName>
              <HeaderGlobalBar>
                <HeaderGlobalAction
                  aria-label={expandedPanel ? 'Close panel' : 'Open panel'}
                  isActive={expandedPanel}
                  aria-expanded={expandedPanel}
                  tooltipAlignment="end"
                  onClick={() => setExpandedPanel(!expandedPanel)}>
                  <Fade size={20} />
                </HeaderGlobalAction>
              </HeaderGlobalBar>
              <HeaderPanel expanded={expandedPanel} />
            </Header>
            <SideNav
              aria-label="Side navigation1"
              expanded={isSideNavExpanded}
              onSideNavBlur={onClickSideNavExpand}
              isCollapsible
              hideOverlay
              className="nav--global">
              <SideNavItems>
                <SideNavMenu
                  renderIcon={SquareOutline}
                  title="Sub-menu level 1">
                  <SideNavMenuItem href="#">Link level 2</SideNavMenuItem>
                  <SideNavMenuItem href="#">Link level 2</SideNavMenuItem>
                </SideNavMenu>
                <SideNavMenu renderIcon={SquareOutline} title="Sub-menu">
                  <SideNavMenuItem href="#">Link</SideNavMenuItem>
                </SideNavMenu>
                <SideNavMenu renderIcon={SquareOutline} title="Sub-menu">
                  <SideNavMenuItem href="#">Link</SideNavMenuItem>
                </SideNavMenu>
                <SideNavMenu renderIcon={SquareOutline} title="Sub-menu">
                  <SideNavMenuItem href="#">Link</SideNavMenuItem>
                </SideNavMenu>
                <SideNavMenu renderIcon={SquareOutline} title="Sub-menu">
                  <SideNavMenuItem href="#">Link</SideNavMenuItem>
                </SideNavMenu>
                <SideNavDivider />
                <SideNavLink renderIcon={SquareOutline} href="#">
                  Link
                </SideNavLink>
                <SideNavLink renderIcon={SquareOutline} href="#">
                  Link
                </SideNavLink>
                <SideNavMenu renderIcon={SquareOutline} title="Sub-menu">
                  <SideNavMenuItem href="#">Link</SideNavMenuItem>
                  <SideNavMenuItem href="#">Link</SideNavMenuItem>
                  <SideNavMenuItem href="#">Link</SideNavMenuItem>
                </SideNavMenu>
              </SideNavItems>
            </SideNav>
            <SideNav
              navType={SIDE_NAV_TYPE.PANEL}
              isChildOfHeader={false}
              hideOverlay
              aria-label="Side navigation">
              <SideNavItems>
                <SideNavLink renderIcon={Fade} href="#">
                  Link
                </SideNavLink>
                <SideNavLink renderIcon={Fade} href="#">
                  Link
                </SideNavLink>
                <SideNavLink renderIcon={Fade} href="#">
                  Link
                </SideNavLink>
                <SideNavLink renderIcon={Fade} href="#">
                  Link
                </SideNavLink>
                <SideNavDivider />
                <SideNavLink renderIcon={Fade} href="#">
                  Link
                </SideNavLink>
                <SideNavLink renderIcon={Fade} href="#">
                  Link
                </SideNavLink>
              </SideNavItems>
            </SideNav>
            <Theme theme="white">
              <StoryContent />
            </Theme>
          </>
        )}
      />
    </Theme>
  );
}

export default App;
```

### Treeview
`SideNav` has a new treeview navigation type that can be enabled by adding
`navType='treeview'`. Note that it should only be enabled if there are more
than two levels of content within the component.

```javascript
import {
  SIDE_NAV_TYPE,
  SideNav,
  SideNavItems,
  SideNavMenu,
  SideNavMenuItem,
  HeaderPanel,
} from '@carbon-labs/react-ui-shell/es/index';
import {
  SideNavLink,
} from '@carbon/react';
import { Fade, SquareOutline } from '@carbon/icons-react';

function App() {
  return (
  <SideNav
    navType="treeview"
    isFixedNav
    expanded={true}
    isChildOfHeader={false}
    aria-label="Side navigation">
    <SideNavItems>
      <SideNavLink renderIcon={Fade} href="#">
        Link level 1
      </SideNavLink>
      <SideNavMenu
        defaultExpanded={true}
        renderIcon={Fade}
        title="Sub-menu level 1">
        <SideNavMenuItem href="#">Link level 2</SideNavMenuItem>
        <SideNavMenuItem href="#">Link level 2</SideNavMenuItem>
        <SideNavMenu title="Sub-menu level 2" defaultExpanded={true}>
          <SideNavMenuItem isActive href="#">
            Link level 3
          </SideNavMenuItem>
          <SideNavMenuItem href="#">Link level 3</SideNavMenuItem>
        </SideNavMenu>
      </SideNavMenu>
    </SideNavItems>
  </SideNav>    
  );
}

export default App;
```


## Component API

<ArgTypes />
