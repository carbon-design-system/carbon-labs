{"version":3,"sources":["components/codeElement/src/codeElement.template.ts","components/codeElement/src/codeElement.template.js"],"names":["html","settings","stablePrefix","clabsPrefix","unsafeHTML","Edit16","Checkmark16","Undo16","codeElementTemplate","customElementClass","_renderedLines","_editedContent","disableLineTicks","disableCopyButton","disableEditButton","_handleFullCodeEdit","handleFullCodeEdit","_copyCode","copyCode","_handleEditValidation","handleEditValidation","_handleEditCancellation","handleEditCancellation","editable","_currentlyEdited","currentlyEdited","_highlightLine","highlightLine","enableColoring","language","enableLanguageDisplay","_renderLabel","renderLabel","_handleScroll","handleScroll","_controlTabbing","controlTabbing","theme","_preRender","preRender","slot","map","lineObject","index","length","content"],"mappings":"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","file":"codeElement.template.js","sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { html } from 'lit';\nimport { settings } from '@carbon-labs/utilities/es/settings/index.js';\nconst { stablePrefix: clabsPrefix } = settings;\n\nimport { unsafeHTML } from 'lit/directives/unsafe-html.js';\n\nimport '@carbon/web-components/es/components/button/index.js';\nimport '@carbon/web-components/es/components/icon-button/index.js';\n\nimport Edit16 from '@carbon/web-components/es/icons/edit/16.js';\nimport '@carbon/web-components/es/components/copy-button/index.js';\nimport Checkmark16 from '@carbon/web-components/es/icons/checkmark/16.js';\nimport Undo16 from '@carbon/web-components/es/icons/undo/16.js';\n\n/**\n * Lit template for code\n *\n * @param {object} customElementClass Class functionality for the custom element\n * @returns {TemplateResult<1>} Lit html template\n */\nexport function codeElementTemplate(customElementClass) {\n  const {\n    _renderedLines,\n    _editedContent,\n    disableLineTicks,\n    disableCopyButton,\n    disableEditButton,\n    _handleFullCodeEdit: handleFullCodeEdit,\n    _copyCode: copyCode,\n    _handleEditValidation: handleEditValidation,\n    _handleEditCancellation: handleEditCancellation,\n    editable,\n    _currentlyEdited: currentlyEdited,\n    _highlightLine: highlightLine,\n    enableColoring,\n    language,\n    enableLanguageDisplay,\n    _renderLabel: renderLabel,\n    _handleScroll: handleScroll,\n    _controlTabbing: controlTabbing,\n    theme,\n    _preRender: preRender,\n  } = customElementClass;\n\n  return html` <div class=\"${clabsPrefix}--chat-code\">\n    ${enableLanguageDisplay\n      ? html`<div class=\"${clabsPrefix}--chat-code-lang\">${language}</div>`\n      : ``}\n    <div class=\"${clabsPrefix}--chat-code-options\">\n      <div class=\"${clabsPrefix}--chat-code-options-buttons\">\n        ${!disableEditButton\n          ? html`\n              <cds-icon-button\n                size=\"sm\"\n                kind=\"ghost\"\n                align=\"left\"\n                aria-label=\"Edit Code\"\n                role=\"button\">\n                ${Edit16({ slot: 'icon' })}\n                <span slot=\"tooltip-content\">Enable editing</span>\n              </cds-icon-button>\n            `\n          : html``}\n        ${!disableCopyButton\n          ? html`\n              <cds-copy-button\n                @click=\"${copyCode}\"\n                tooltip-alignment=\"end\"\n                tooltip-position=\"bottom\"\n                align=\"left\"\n                feedback=\"${renderLabel('code-copypaste-success')}\"\n                feedback-timeout=\"2000\">\n                ${renderLabel('code-copypaste-button')}\n              </cds-copy-button>\n            `\n          : html``}\n      </div>\n    </div>\n\n    <div\n      class=\"${clabsPrefix}--chat-code-container\"\n      @wheel=\"${handleScroll}\"\n      @mousemove=\"${handleScroll}\">\n      <textarea\n        @keydown=\"${controlTabbing}\"\n        @input=\"${handleFullCodeEdit}\"\n        aria-label=\"Editable Text\"\n        spellcheck=\"false\"\n        class=\"${clabsPrefix}--chat-code-edit-area ${!editable\n          ? clabsPrefix + '--chat-code-edit-hidden'\n          : ''}\">\n${_editedContent}</textarea\n      >\n\n      <div\n        tabindex=\"0\"\n        role=\"textbox\"\n        aria-label=\"Code Section\"\n        class=\"${clabsPrefix + '--chat-code-color-area'} ${editable\n          ? ' ' + clabsPrefix + '--chat-code-color-hidden'\n          : ''}\">\n        ${_renderedLines.map(\n          (lineObject, index) =>\n            html`\n              <div\n                class=\"${clabsPrefix}--chat-code-line ${clabsPrefix}--chat-code-line-fade-in\">\n                ${disableLineTicks && _renderedLines.length < 2\n                  ? html``\n                  : html`\n                      <div class=\"${clabsPrefix}--chat-code-line-tick\">\n                        ${index + 1}\n                      </div>\n                      <div class=\"${clabsPrefix}--chat-code-line-divider\"></div>\n                    `}\n                <div\n                  class=\"${clabsPrefix}--chat-code-line-text ${clabsPrefix}--chat-code-${theme ||\n                  'default'}-theme\">\n                  ${enableColoring\n                    ? lineObject.content\n                    : unsafeHTML(\n                        preRender\n                          ? lineObject.content\n                          : highlightLine(lineObject.content, language)\n                      )}\n                </div>\n              </div>\n            `\n        )}\n      </div>\n    </div>\n    ${currentlyEdited\n      ? html` <div class=\"${clabsPrefix}--chat-code-editing-controls\">\n          <cds-icon-button\n            size=\"md\"\n            aria-label=\"Validate Edit\"\n            role=\"button\"\n            align=\"left\"\n            kind=\"ghost\"\n            @click=\"${handleEditValidation}\">\n            ${Checkmark16({ slot: 'icon' })}\n            <span slot=\"tooltip-content\">Apply edit</span>\n          </cds-icon-button>\n\n          <cds-icon-button\n            size=\"md\"\n            align=\"left\"\n            aria-label=\"Undo edit\"\n            role=\"button\"\n            kind=\"danger\"\n            @click=\"${handleEditCancellation}\">\n            ${Undo16({ slot: 'icon' })}\n            <span slot=\"tooltip-content\">Undo edit</span>\n          </cds-icon-button>\n        </div>`\n      : html``}\n  </div>`;\n}\n","/**\n * @license\n *\n * Copyright IBM Corp. 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { html } from 'lit';\nimport { settings } from '@carbon-labs/utilities/es/settings/index.js';\nconst { stablePrefix: clabsPrefix } = settings;\nimport { unsafeHTML } from 'lit/directives/unsafe-html.js';\nimport '@carbon/web-components/es/components/button/index.js';\nimport '@carbon/web-components/es/components/icon-button/index.js';\nimport Edit16 from '@carbon/web-components/es/icons/edit/16.js';\nimport '@carbon/web-components/es/components/copy-button/index.js';\nimport Checkmark16 from '@carbon/web-components/es/icons/checkmark/16.js';\nimport Undo16 from '@carbon/web-components/es/icons/undo/16.js';\n/**\n * Lit template for code\n *\n * @param {object} customElementClass Class functionality for the custom element\n * @returns {TemplateResult<1>} Lit html template\n */\nexport function codeElementTemplate(customElementClass) {\n    const { _renderedLines, _editedContent, disableLineTicks, disableCopyButton, disableEditButton, _handleFullCodeEdit: handleFullCodeEdit, _copyCode: copyCode, _handleEditValidation: handleEditValidation, _handleEditCancellation: handleEditCancellation, editable, _currentlyEdited: currentlyEdited, _highlightLine: highlightLine, enableColoring, language, enableLanguageDisplay, _renderLabel: renderLabel, _handleScroll: handleScroll, _controlTabbing: controlTabbing, theme, _preRender: preRender, } = customElementClass;\n    return html ` <div class=\"${clabsPrefix}--chat-code\">\n    ${enableLanguageDisplay\n        ? html `<div class=\"${clabsPrefix}--chat-code-lang\">${language}</div>`\n        : ``}\n    <div class=\"${clabsPrefix}--chat-code-options\">\n      <div class=\"${clabsPrefix}--chat-code-options-buttons\">\n        ${!disableEditButton\n        ? html `\n              <cds-icon-button\n                size=\"sm\"\n                kind=\"ghost\"\n                align=\"left\"\n                aria-label=\"Edit Code\"\n                role=\"button\">\n                ${Edit16({ slot: 'icon' })}\n                <span slot=\"tooltip-content\">Enable editing</span>\n              </cds-icon-button>\n            `\n        : html ``}\n        ${!disableCopyButton\n        ? html `\n              <cds-copy-button\n                @click=\"${copyCode}\"\n                tooltip-alignment=\"end\"\n                tooltip-position=\"bottom\"\n                align=\"left\"\n                feedback=\"${renderLabel('code-copypaste-success')}\"\n                feedback-timeout=\"2000\">\n                ${renderLabel('code-copypaste-button')}\n              </cds-copy-button>\n            `\n        : html ``}\n      </div>\n    </div>\n\n    <div\n      class=\"${clabsPrefix}--chat-code-container\"\n      @wheel=\"${handleScroll}\"\n      @mousemove=\"${handleScroll}\">\n      <textarea\n        @keydown=\"${controlTabbing}\"\n        @input=\"${handleFullCodeEdit}\"\n        aria-label=\"Editable Text\"\n        spellcheck=\"false\"\n        class=\"${clabsPrefix}--chat-code-edit-area ${!editable\n        ? clabsPrefix + '--chat-code-edit-hidden'\n        : ''}\">\n${_editedContent}</textarea\n      >\n\n      <div\n        tabindex=\"0\"\n        role=\"textbox\"\n        aria-label=\"Code Section\"\n        class=\"${clabsPrefix + '--chat-code-color-area'} ${editable\n        ? ' ' + clabsPrefix + '--chat-code-color-hidden'\n        : ''}\">\n        ${_renderedLines.map((lineObject, index) => html `\n              <div\n                class=\"${clabsPrefix}--chat-code-line ${clabsPrefix}--chat-code-line-fade-in\">\n                ${disableLineTicks && _renderedLines.length < 2\n        ? html ``\n        : html `\n                      <div class=\"${clabsPrefix}--chat-code-line-tick\">\n                        ${index + 1}\n                      </div>\n                      <div class=\"${clabsPrefix}--chat-code-line-divider\"></div>\n                    `}\n                <div\n                  class=\"${clabsPrefix}--chat-code-line-text ${clabsPrefix}--chat-code-${theme ||\n        'default'}-theme\">\n                  ${enableColoring\n        ? lineObject.content\n        : unsafeHTML(preRender\n            ? lineObject.content\n            : highlightLine(lineObject.content, language))}\n                </div>\n              </div>\n            `)}\n      </div>\n    </div>\n    ${currentlyEdited\n        ? html ` <div class=\"${clabsPrefix}--chat-code-editing-controls\">\n          <cds-icon-button\n            size=\"md\"\n            aria-label=\"Validate Edit\"\n            role=\"button\"\n            align=\"left\"\n            kind=\"ghost\"\n            @click=\"${handleEditValidation}\">\n            ${Checkmark16({ slot: 'icon' })}\n            <span slot=\"tooltip-content\">Apply edit</span>\n          </cds-icon-button>\n\n          <cds-icon-button\n            size=\"md\"\n            align=\"left\"\n            aria-label=\"Undo edit\"\n            role=\"button\"\n            kind=\"danger\"\n            @click=\"${handleEditCancellation}\">\n            ${Undo16({ slot: 'icon' })}\n            <span slot=\"tooltip-content\">Undo edit</span>\n          </cds-icon-button>\n        </div>`\n        : html ``}\n  </div>`;\n}\n"]}