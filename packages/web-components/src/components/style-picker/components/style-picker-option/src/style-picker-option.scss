/**
 * Copyright IBM Corp. 2025
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */

$css--plex: true !default;

@use '@carbon/react/scss/spacing' as *;
@use '@carbon/react/scss/theme';
@use '@carbon/react/scss/utilities/button-reset';

@use '../../../../../globals/scss/vars' as *;

$block-class: #{$clabs-prefix}--style-picker-option;

@mixin -outline($color, $thin: false) {
  $thickness: $spacing-02;
  @if $thin {
    $thickness: $spacing-01;
  }

  box-shadow: 0 0 0 $thickness $color;
}

.#{$block-class}__container {
  @include button-reset.reset;
  color: theme.$icon-primary;
  position: relative;
  cursor: pointer;
  border-radius: $spacing-01;
}

$sizes: (
  sm: $spacing-06,
  lg: $spacing-09,
);

@each $size, $value in $sizes {
  .#{$block-class}--#{$size} .#{$block-class}__container {
    width: $value;
    height: $value;
  }
}

.#{$block-class}:focus {
  outline: none;
}

.#{$block-class}__container::before {
  content: '';
  position: absolute;
  inset: -$spacing-01;
  border-radius: inherit;
}

.#{$block-class}:hover .#{$block-class}__container {
  background-color: theme.$layer-hover;
}

.#{$block-class}:hover .#{$block-class}__container::before {
  @include -outline(theme.$layer-hover);
}

.#{$block-class}:active .#{$block-class}__container::before {
  @include -outline(theme.$layer-active);
}

.#{$block-class}:focus .#{$block-class}__container::before,
.#{$block-class}[aria-selected='true']:focus
  .#{$block-class}__container::before {
  @include -outline(theme.$focus);
}

.#{$block-class}[aria-selected='true'] .#{$block-class}__container::before {
  @include -outline(theme.$layer-selected-inverse, true);
}

.#{$block-class}__selection-indicator {
  position: absolute;
  inset-block-start: -$spacing-03;
  inset-inline-end: -$spacing-03;
  color: theme.$layer-selected-inverse;
  z-index: 1;
}

.#{$block-class}__selection-indicator [data-icon-path='inner-path'] {
  opacity: 1;
  fill: theme.$icon-inverse;
}

.#{$block-class}[aria-selected='false'] .#{$block-class}__selection-indicator {
  display: none;
}

.#{$block-class}:focus .#{$block-class}__selection-indicator {
  color: theme.$focus;
}
