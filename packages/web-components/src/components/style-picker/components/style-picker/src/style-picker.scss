/**
 * Copyright IBM Corp. 2025
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */

$css--plex: true !default;

@use '@carbon/styles/scss/type';
@use '@carbon/styles/scss/spacing' as *;
@use '@carbon/styles/scss/layout' as *;

@use '../../../../../globals/scss/vars' as *;

$block-class: #{$clabs-prefix}--style-picker;

:host(#{$clabs-prefix}-style-picker) {
  @include emit-layout-tokens();
}

// 12rem
$spacing-12-rem: $spacing-13 + $spacing-07;
// 13.5rem
$container-width: $spacing-12-rem + $spacing-06;

.#{$block-class}__content {
  width: $container-width;
  max-height: min(calc($spacing-12-rem * 2), 100vh);
  display: grid;
  grid-template-rows: max-content 1fr;
}

.#{$block-class}__header {
  position: relative;
}

.#{$block-class}__search {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: end;
}

.#{$block-class}__heading {
  @include type.type-style('heading-01');
  padding-inline: $spacing-05;
  height: $spacing-08;
  display: flex;
  align-items: center;
}

.#{$block-class}__modules {
  overflow: auto;
}

.#{$block-class}-modules__container--empty {
  display: none;
}

.#{$block-class}-modules__empty-state {
  padding: $spacing-05;
}

// Carbon overwrites

.#{$block-class}-module .#{$cds-prefix}--contained-list__header {
  z-index: 2;
}

.#{$block-class}-modules__container,
.#{$block-class}-modules__container .#{$cds-prefix}--accordion {
  height: 100%;
}

.#{$block-class}-modules__container .#{$cds-prefix}--accordion__item,
.#{$block-class}-modules__container .#{$cds-prefix}--accordion__heading,
.#{$block-class}-modules__container .#{$cds-prefix}--accordion__content {
  animation-duration: 0ms !important;
  transition: none !important;
}

.#{$block-class}__modules .#{$cds-prefix}--accordion__item--active {
  height: calc(100% - (var(--#{$block-class}-module-count) - 1) * 2.5rem - 0.0625rem);
}
