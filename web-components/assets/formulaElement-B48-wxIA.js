import{n,t}from"./property-YYZQ7-GG.js";import{d as r,i,c as i$1,b}from"./iframe-CklRD_a7.js";import{r as r$1}from"./state-DgWAjJv5.js";import{s as settings}from"./settings-BQP9c3yA.js";(function(){var define_process_env_default={};(function(){var __webpack_modules__={351:function(R,e,v){var M,C=this&&this.__extends||(M=function(p,h){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])},M(p,h)},function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function m(){this.constructor=p}M(p,h),p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}),x=this&&this.__assign||function(){return x=Object.assign||function(p){for(var h,m=1,g=arguments.length;m<g;m++)for(var E in h=arguments[m])Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E]);return p},x.apply(this,arguments)},y=this&&this.__read||function(p,h){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var g,E,S=m.call(p),O=[];try{for(;(h===void 0||h-- >0)&&!(g=S.next()).done;)O.push(g.value)}catch(A){E={error:A}}finally{try{g&&!g.done&&(m=S.return)&&m.call(S)}finally{if(E)throw E.error}}return O},d=this&&this.__spreadArray||function(p,h,m){if(m||arguments.length===2)for(var g,E=0,S=h.length;E<S;E++)!g&&E in h||(g||(g=Array.prototype.slice.call(h,0,E)),g[E]=h[E]);return p.concat(g||Array.prototype.slice.call(h))},f=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AssistiveMmlHandler=e.AssistiveMmlMathDocumentMixin=e.AssistiveMmlMathItemMixin=e.LimitedMmlVisitor=void 0;var c=v(4474),s=v(9259),a=v(7233),o=function(p){function h(){return p!==null&&p.apply(this,arguments)||this}return C(h,p),h.prototype.getAttributes=function(m){return p.prototype.getAttributes.call(this,m).replace(/ ?id=".*?"/,"")},h}(s.SerializedMmlVisitor);function l(p){return function(h){function m(){return h!==null&&h.apply(this,arguments)||this}return C(m,h),m.prototype.assistiveMml=function(g,E){if(E===void 0&&(E=!1),!(this.state()>=c.STATE.ASSISTIVEMML)){if(!this.isEscaped&&(g.options.enableAssistiveMml||E)){var S=g.adaptor,O=g.toMML(this.root).replace(/\n */g,"").replace(/<!--.*?-->/g,""),A=S.firstChild(S.body(S.parse(O,"text/html"))),_=S.node("mjx-assistive-mml",{unselectable:"on",display:this.display?"block":"inline"},[A]);S.setAttribute(S.firstChild(this.typesetRoot),"aria-hidden","true"),S.setStyle(this.typesetRoot,"position","relative"),S.append(this.typesetRoot,_)}this.state(c.STATE.ASSISTIVEMML)}},m}(p)}function u(p){var h;return h=function(m){function g(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];var O=m.apply(this,d([],y(E),!1))||this,A=O.constructor,_=A.ProcessBits;return _.has("assistive-mml")||_.allocate("assistive-mml"),O.visitor=new o(O.mmlFactory),O.options.MathItem=l(O.options.MathItem),"addStyles"in O&&O.addStyles(A.assistiveStyles),O}return C(g,m),g.prototype.toMML=function(E){return this.visitor.visitTree(E)},g.prototype.assistiveMml=function(){var E,S;if(!this.processed.isSet("assistive-mml")){try{for(var O=f(this.math),A=O.next();!A.done;A=O.next())A.value.assistiveMml(this)}catch(_){E={error:_}}finally{try{A&&!A.done&&(S=O.return)&&S.call(O)}finally{if(E)throw E.error}}this.processed.set("assistive-mml")}return this},g.prototype.state=function(E,S){return S===void 0&&(S=!1),m.prototype.state.call(this,E,S),E<c.STATE.ASSISTIVEMML&&this.processed.clear("assistive-mml"),this},g}(p),h.OPTIONS=x(x({},p.OPTIONS),{enableAssistiveMml:!0,renderActions:(0,a.expandable)(x(x({},p.OPTIONS.renderActions),{assistiveMml:[c.STATE.ASSISTIVEMML]}))}),h.assistiveStyles={"mjx-assistive-mml":{position:"absolute !important",top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)",padding:"1px 0px 0px 0px !important",border:"0px !important",display:"block !important",width:"auto !important",overflow:"hidden !important","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},'mjx-assistive-mml[display="block"]':{width:"100% !important"}},h}e.LimitedMmlVisitor=o,(0,c.newState)("ASSISTIVEMML",153),e.AssistiveMmlMathItemMixin=l,e.AssistiveMmlMathDocumentMixin=u,e.AssistiveMmlHandler=function(p){return p.documentClass=u(p.documentClass),p}},5282:function(R,e){Object.defineProperty(e,"__esModule",{value:!0});var v=new Map;e.default=v},5445:function(R,e,v){var M=this&&this.__createBinding||(Object.create?function(E,S,O,A){A===void 0&&(A=O);var _=Object.getOwnPropertyDescriptor(S,O);_&&!("get"in _?!S.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return S[O]}}),Object.defineProperty(E,A,_)}:function(E,S,O,A){A===void 0&&(A=O),E[A]=S[O]}),C=this&&this.__setModuleDefault||(Object.create?function(E,S){Object.defineProperty(E,"default",{enumerable:!0,value:S})}:function(E,S){E.default=S}),x=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var S={};if(E!=null)for(var O in E)O!=="default"&&Object.prototype.hasOwnProperty.call(E,O)&&M(S,E,O);return C(S,E),S},y=this&&this.__awaiter||function(E,S,O,A){return new(O||(O=Promise))(function(_,T){function N(I){try{L(A.next(I))}catch(P){T(P)}}function w(I){try{L(A.throw(I))}catch(P){T(P)}}function L(I){var P;I.done?_(I.value):(P=I.value,P instanceof O?P:new O(function(k){k(P)})).then(N,w)}L((A=A.apply(E,S||[])).next())})},d=this&&this.__generator||function(E,S){var O,A,_,T,N={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return T={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function w(L){return function(I){return function(P){if(O)throw new TypeError("Generator is already executing.");for(;N;)try{if(O=1,A&&(_=2&P[0]?A.return:P[0]?A.throw||((_=A.return)&&_.call(A),0):A.next)&&!(_=_.call(A,P[1])).done)return _;switch(A=0,_&&(P=[2&P[0],_.value]),P[0]){case 0:case 1:_=P;break;case 4:return N.label++,{value:P[1],done:!1};case 5:N.label++,A=P[1],P=[0];continue;case 7:P=N.ops.pop(),N.trys.pop();continue;default:if(_=N.trys,!((_=_.length>0&&_[_.length-1])||P[0]!==6&&P[0]!==2)){N=0;continue}if(P[0]===3&&(!_||P[1]>_[0]&&P[1]<_[3])){N.label=P[1];break}if(P[0]===6&&N.label<_[1]){N.label=_[1],_=P;break}if(_&&N.label<_[2]){N.label=_[2],N.ops.push(P);break}_[2]&&N.ops.pop(),N.trys.pop();continue}P=S.call(E,N)}catch(k){P=[6,k],A=0}finally{O=_=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([L,I])}}},f=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.sreReady=e.Sre=void 0;var c,s=x(v(2998)),a=x(v(3362)),o=x(v(9552)),l=x(v(4440)),u=f(v(5897)),p=v(8504),h=x(v(3090)),m=v(1377),g=f(v(5282));(function(E){E.locales=m.Variables.LOCALES,E.sreReady=s.engineReady,E.setupEngine=s.setupEngine,E.engineSetup=s.engineSetup,E.toEnriched=s.toEnriched,E.toSpeech=s.toSpeech,E.clearspeakPreferences=p.ClearspeakPreferences,E.getHighlighter=h.highlighter,E.getSpeechGenerator=o.generator,E.getWalker=a.walker,E.clearspeakStyle=function(){return l.DOMAIN_TO_STYLES.clearspeak},E.preloadLocales=function(S){return y(this,void 0,void 0,function(){var O;return d(this,function(A){return[2,(O=g.default.get(S))?new Promise(function(_,T){return _(JSON.stringify(O))}):s.localeLoader()(S)]})})}})(c=e.Sre||(e.Sre={})),e.sreReady=c.sreReady,u.default.getInstance().delay=!0,e.default=c},444:function(R,e,v){var M,C=this&&this.__extends||(M=function(d,f){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},M(d,f)},function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=d}M(d,f),d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),x=this&&this.__values||function(d){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&d[f],s=0;if(c)return c.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&s>=d.length&&(d=void 0),{value:d&&d[s++],done:!d}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLAdaptor=void 0;var y=function(d){function f(c){var s=d.call(this,c.document)||this;return s.window=c,s.parser=new c.DOMParser,s}return C(f,d),f.prototype.parse=function(c,s){return s===void 0&&(s="text/html"),this.parser.parseFromString(c,s)},f.prototype.create=function(c,s){return s?this.document.createElementNS(s,c):this.document.createElement(c)},f.prototype.text=function(c){return this.document.createTextNode(c)},f.prototype.head=function(c){return c.head||c},f.prototype.body=function(c){return c.body||c},f.prototype.root=function(c){return c.documentElement||c},f.prototype.doctype=function(c){return c.doctype?"<!DOCTYPE ".concat(c.doctype.name,">"):""},f.prototype.tags=function(c,s,a){a===void 0&&(a=null);var o=a?c.getElementsByTagNameNS(a,s):c.getElementsByTagName(s);return Array.from(o)},f.prototype.getElements=function(c,s){var a,o,l=[];try{for(var u=x(c),p=u.next();!p.done;p=u.next()){var h=p.value;typeof h=="string"?l=l.concat(Array.from(this.document.querySelectorAll(h))):Array.isArray(h)||h instanceof this.window.NodeList||h instanceof this.window.HTMLCollection?l=l.concat(Array.from(h)):l.push(h)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return l},f.prototype.contains=function(c,s){return c.contains(s)},f.prototype.parent=function(c){return c.parentNode},f.prototype.append=function(c,s){return c.appendChild(s)},f.prototype.insert=function(c,s){return this.parent(s).insertBefore(c,s)},f.prototype.remove=function(c){return this.parent(c).removeChild(c)},f.prototype.replace=function(c,s){return this.parent(s).replaceChild(c,s)},f.prototype.clone=function(c){return c.cloneNode(!0)},f.prototype.split=function(c,s){return c.splitText(s)},f.prototype.next=function(c){return c.nextSibling},f.prototype.previous=function(c){return c.previousSibling},f.prototype.firstChild=function(c){return c.firstChild},f.prototype.lastChild=function(c){return c.lastChild},f.prototype.childNodes=function(c){return Array.from(c.childNodes)},f.prototype.childNode=function(c,s){return c.childNodes[s]},f.prototype.kind=function(c){var s=c.nodeType;return s===1||s===3||s===8?c.nodeName.toLowerCase():""},f.prototype.value=function(c){return c.nodeValue||""},f.prototype.textContent=function(c){return c.textContent},f.prototype.innerHTML=function(c){return c.innerHTML},f.prototype.outerHTML=function(c){return c.outerHTML},f.prototype.serializeXML=function(c){return new this.window.XMLSerializer().serializeToString(c)},f.prototype.setAttribute=function(c,s,a,o){return o===void 0&&(o=null),o?(s=o.replace(/.*\//,"")+":"+s.replace(/^.*:/,""),c.setAttributeNS(o,s,a)):c.setAttribute(s,a)},f.prototype.getAttribute=function(c,s){return c.getAttribute(s)},f.prototype.removeAttribute=function(c,s){return c.removeAttribute(s)},f.prototype.hasAttribute=function(c,s){return c.hasAttribute(s)},f.prototype.allAttributes=function(c){return Array.from(c.attributes).map(function(s){return{name:s.name,value:s.value}})},f.prototype.addClass=function(c,s){c.classList?c.classList.add(s):c.className=(c.className+" "+s).trim()},f.prototype.removeClass=function(c,s){c.classList?c.classList.remove(s):c.className=c.className.split(/ /).filter(function(a){return a!==s}).join(" ")},f.prototype.hasClass=function(c,s){return c.classList?c.classList.contains(s):c.className.split(/ /).indexOf(s)>=0},f.prototype.setStyle=function(c,s,a){c.style[s]=a},f.prototype.getStyle=function(c,s){return c.style[s]},f.prototype.allStyles=function(c){return c.style.cssText},f.prototype.insertRules=function(c,s){var a,o;try{for(var l=x(s.reverse()),u=l.next();!u.done;u=l.next()){var p=u.value;try{c.sheet.insertRule(p,0)}catch(h){console.warn("MathJax: can't insert css rule '".concat(p,"': ").concat(h.message))}}}catch(h){a={error:h}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}},f.prototype.fontSize=function(c){var s=this.window.getComputedStyle(c);return parseFloat(s.fontSize)},f.prototype.fontFamily=function(c){return this.window.getComputedStyle(c).fontFamily||""},f.prototype.nodeSize=function(c,s,a){if(s===void 0&&(s=1),a===void 0&&(a=!1),a&&c.getBBox){var o=c.getBBox();return[o.width/s,o.height/s]}return[c.offsetWidth/s,c.offsetHeight/s]},f.prototype.nodeBBox=function(c){var s=c.getBoundingClientRect();return{left:s.left,right:s.right,top:s.top,bottom:s.bottom}},f}(v(5009).AbstractDOMAdaptor);e.HTMLAdaptor=y},6191:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.browserAdaptor=void 0;var M=v(444);e.browserAdaptor=function(){return new M.HTMLAdaptor(window)}},9515:function(R,e,v){var M=this&&this.__values||function(d){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&d[f],s=0;if(c)return c.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&s>=d.length&&(d=void 0),{value:d&&d[s++],done:!d}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MathJax=e.combineWithMathJax=e.combineDefaults=e.combineConfig=e.isObject=void 0;var C=v(3282);function x(d){return typeof d=="object"&&d!==null}function y(d,f){var c,s;try{for(var a=M(Object.keys(f)),o=a.next();!o.done;o=a.next()){var l=o.value;l!=="__esModule"&&(!x(d[l])||!x(f[l])||f[l]instanceof Promise?f[l]!==null&&f[l]!==void 0&&(d[l]=f[l]):y(d[l],f[l]))}}catch(u){c={error:u}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(c)throw c.error}}return d}e.isObject=x,e.combineConfig=y,e.combineDefaults=function d(f,c,s){var a,o;f[c]||(f[c]={}),f=f[c];try{for(var l=M(Object.keys(s)),u=l.next();!u.done;u=l.next()){var p=u.value;x(f[p])&&x(s[p])?d(f,p,s[p]):f[p]==null&&s[p]!=null&&(f[p]=s[p])}}catch(h){a={error:h}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return f},e.combineWithMathJax=function(d){return y(e.MathJax,d)},v.g.MathJax===void 0&&(v.g.MathJax={}),v.g.MathJax.version||(v.g.MathJax={version:C.VERSION,_:{},config:v.g.MathJax}),e.MathJax=v.g.MathJax},235:function(R,e,v){var M,C,x=this&&this.__values||function(u){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&u[p],m=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&m>=u.length&&(u=void 0),{value:u&&u[m++],done:!u}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CONFIG=e.MathJax=e.Loader=e.PathFilters=e.PackageError=e.Package=void 0;var y=v(9515),d=v(265),f=v(265);Object.defineProperty(e,"Package",{enumerable:!0,get:function(){return f.Package}}),Object.defineProperty(e,"PackageError",{enumerable:!0,get:function(){return f.PackageError}});var c,s=v(7525);if(e.PathFilters={source:function(u){return e.CONFIG.source.hasOwnProperty(u.name)&&(u.name=e.CONFIG.source[u.name]),!0},normalize:function(u){var p=u.name;return p.match(/^(?:[a-z]+:\/)?\/|[a-z]:\\|\[/i)||(u.name="[mathjax]/"+p.replace(/^\.\//,"")),u.addExtension&&!p.match(/\.[^\/]+$/)&&(u.name+=".js"),!0},prefix:function(u){for(var p;(p=u.name.match(/^\[([^\]]*)\]/))&&e.CONFIG.paths.hasOwnProperty(p[1]);)u.name=e.CONFIG.paths[p[1]]+u.name.substr(p[0].length);return!0}},function(u){var p=y.MathJax.version;u.versions=new Map,u.ready=function(){for(var h,m,g=[],E=0;E<arguments.length;E++)g[E]=arguments[E];g.length===0&&(g=Array.from(d.Package.packages.keys()));var S=[];try{for(var O=x(g),A=O.next();!A.done;A=O.next()){var _=A.value,T=d.Package.packages.get(_)||new d.Package(_,!0);S.push(T.promise)}}catch(N){h={error:N}}finally{try{A&&!A.done&&(m=O.return)&&m.call(O)}finally{if(h)throw h.error}}return Promise.all(S)},u.load=function(){for(var h,m,g=[],E=0;E<arguments.length;E++)g[E]=arguments[E];if(g.length===0)return Promise.resolve();var S=[],O=function(N){var w=d.Package.packages.get(N);w||(w=new d.Package(N)).provides(e.CONFIG.provides[N]),w.checkNoLoad(),S.push(w.promise.then(function(){e.CONFIG.versionWarnings&&w.isLoaded&&!u.versions.has(d.Package.resolvePath(N))&&console.warn("No version information available for component ".concat(N))}))};try{for(var A=x(g),_=A.next();!_.done;_=A.next()){var T=_.value;O(T)}}catch(N){h={error:N}}finally{try{_&&!_.done&&(m=A.return)&&m.call(A)}finally{if(h)throw h.error}}return d.Package.loadAll(),Promise.all(S)},u.preLoad=function(){for(var h,m,g=[],E=0;E<arguments.length;E++)g[E]=arguments[E];try{for(var S=x(g),O=S.next();!O.done;O=S.next()){var A=O.value,_=d.Package.packages.get(A);_||(_=new d.Package(A,!0)).provides(e.CONFIG.provides[A]),_.loaded()}}catch(T){h={error:T}}finally{try{O&&!O.done&&(m=S.return)&&m.call(S)}finally{if(h)throw h.error}}},u.defaultReady=function(){e.MathJax.startup!==void 0&&e.MathJax.config.startup.ready()},u.getRoot=function(){var h="//../../es5";if(typeof document<"u"){var m=document.currentScript||document.getElementById("MathJax-script");m&&(h=m.src.replace(/\/[^\/]*$/,""))}return h},u.checkVersion=function(h,m,g){return u.versions.set(d.Package.resolvePath(h),p),!(!e.CONFIG.versionWarnings||m===p)&&(console.warn("Component ".concat(h," uses ").concat(m," of MathJax; version in use is ").concat(p)),!0)},u.pathFilters=new s.FunctionList,u.pathFilters.add(e.PathFilters.source,0),u.pathFilters.add(e.PathFilters.normalize,10),u.pathFilters.add(e.PathFilters.prefix,20)}(c=e.Loader||(e.Loader={})),e.MathJax=y.MathJax,e.MathJax.loader===void 0){(0,y.combineDefaults)(e.MathJax.config,"loader",{paths:{mathjax:c.getRoot()},source:{},dependencies:{},provides:{},load:[],ready:c.defaultReady.bind(c),failed:function(u){return console.log("MathJax(".concat(u.package||"?","): ").concat(u.message))},require:null,pathFilters:[],versionWarnings:!0}),(0,y.combineWithMathJax)({loader:c});try{for(var a=x(e.MathJax.config.loader.pathFilters),o=a.next();!o.done;o=a.next()){var l=o.value;Array.isArray(l)?c.pathFilters.add(l[0],l[1]):c.pathFilters.add(l)}}catch(u){M={error:u}}finally{try{o&&!o.done&&(C=a.return)&&C.call(a)}finally{if(M)throw M.error}}}e.CONFIG=e.MathJax.config.loader},265:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])},M(a,o)},function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),x=this&&this.__values||function(a){var o=typeof Symbol=="function"&&Symbol.iterator,l=o&&a[o],u=0;if(l)return l.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__read||function(a,o){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var u,p,h=l.call(a),m=[];try{for(;(o===void 0||o-- >0)&&!(u=h.next()).done;)m.push(u.value)}catch(g){p={error:g}}finally{try{u&&!u.done&&(l=h.return)&&l.call(h)}finally{if(p)throw p.error}}return m},d=this&&this.__spreadArray||function(a,o,l){if(l||arguments.length===2)for(var u,p=0,h=o.length;p<h;p++)!u&&p in o||(u||(u=Array.prototype.slice.call(o,0,p)),u[p]=o[p]);return a.concat(u||Array.prototype.slice.call(o))};Object.defineProperty(e,"__esModule",{value:!0}),e.Package=e.PackageError=void 0;var f=v(235),c=function(a){function o(l,u){var p=a.call(this,l)||this;return p.package=u,p}return C(o,a),o}(Error);e.PackageError=c;var s=function(){function a(o,l){l===void 0&&(l=!1),this.isLoaded=!1,this.isLoading=!1,this.hasFailed=!1,this.dependents=[],this.dependencies=[],this.dependencyCount=0,this.provided=[],this.name=o,this.noLoad=l,a.packages.set(o,this),this.promise=this.makePromise(this.makeDependencies())}return Object.defineProperty(a.prototype,"canLoad",{get:function(){return this.dependencyCount===0&&!this.noLoad&&!this.isLoading&&!this.hasFailed},enumerable:!1,configurable:!0}),a.resolvePath=function(o,l){l===void 0&&(l=!0);var u={name:o,original:o,addExtension:l};return f.Loader.pathFilters.execute(u),u.name},a.loadAll=function(){var o,l;try{for(var u=x(this.packages.values()),p=u.next();!p.done;p=u.next()){var h=p.value;h.canLoad&&h.load()}}catch(m){o={error:m}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}},a.prototype.makeDependencies=function(){var o,l,u=[],p=a.packages,h=this.noLoad,m=this.name,g=[];f.CONFIG.dependencies.hasOwnProperty(m)?g.push.apply(g,d([],y(f.CONFIG.dependencies[m]),!1)):m!=="core"&&g.push("core");try{for(var E=x(g),S=E.next();!S.done;S=E.next()){var O=S.value,A=p.get(O)||new a(O,h);this.dependencies.indexOf(A)<0&&(A.addDependent(this,h),this.dependencies.push(A),A.isLoaded||(this.dependencyCount++,u.push(A.promise)))}}catch(_){o={error:_}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}return u},a.prototype.makePromise=function(o){var l=this,u=new Promise(function(h,m){l.resolve=h,l.reject=m}),p=f.CONFIG[this.name]||{};return p.ready&&(u=u.then(function(h){return p.ready(l.name)})),o.length&&(o.push(u),u=Promise.all(o).then(function(h){return h.join(", ")})),p.failed&&u.catch(function(h){return p.failed(new c(h,l.name))}),u},a.prototype.load=function(){if(!this.isLoaded&&!this.isLoading&&!this.noLoad){this.isLoading=!0;var o=a.resolvePath(this.name);f.CONFIG.require?this.loadCustom(o):this.loadScript(o)}},a.prototype.loadCustom=function(o){var l=this;try{var u=f.CONFIG.require(o);u instanceof Promise?u.then(function(){return l.checkLoad()}).catch(function(p){return l.failed(`Can't load "`+o+`"
`+p.message.trim())}):this.checkLoad()}catch(p){this.failed(p.message)}},a.prototype.loadScript=function(o){var l=this,u=document.createElement("script");u.src=o,u.charset="UTF-8",u.onload=function(p){return l.checkLoad()},u.onerror=function(p){return l.failed(`Can't load "`+o+'"')},document.head.appendChild(u)},a.prototype.loaded=function(){var o,l,u,p;this.isLoaded=!0,this.isLoading=!1;try{for(var h=x(this.dependents),m=h.next();!m.done;m=h.next())m.value.requirementSatisfied()}catch(S){o={error:S}}finally{try{m&&!m.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}try{for(var g=x(this.provided),E=g.next();!E.done;E=g.next())E.value.loaded()}catch(S){u={error:S}}finally{try{E&&!E.done&&(p=g.return)&&p.call(g)}finally{if(u)throw u.error}}this.resolve(this.name)},a.prototype.failed=function(o){this.hasFailed=!0,this.isLoading=!1,this.reject(new c(o,this.name))},a.prototype.checkLoad=function(){var o=this;((f.CONFIG[this.name]||{}).checkReady||function(){return Promise.resolve()})().then(function(){return o.loaded()}).catch(function(l){return o.failed(l)})},a.prototype.requirementSatisfied=function(){this.dependencyCount&&(this.dependencyCount--,this.canLoad&&this.load())},a.prototype.provides=function(o){var l,u;o===void 0&&(o=[]);try{for(var p=x(o),h=p.next();!h.done;h=p.next()){var m=h.value,g=a.packages.get(m);g||(f.CONFIG.dependencies[m]||(f.CONFIG.dependencies[m]=[]),f.CONFIG.dependencies[m].push(m),(g=new a(m,!0)).isLoading=!0),this.provided.push(g)}}catch(E){l={error:E}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}},a.prototype.addDependent=function(o,l){this.dependents.push(o),l||this.checkNoLoad()},a.prototype.checkNoLoad=function(){var o,l;if(this.noLoad){this.noLoad=!1;try{for(var u=x(this.dependencies),p=u.next();!p.done;p=u.next())p.value.checkNoLoad()}catch(h){o={error:h}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}}},a.packages=new Map,a}();e.Package=s},2388:function(R,e,v){var M=this&&this.__assign||function(){return M=Object.assign||function(o){for(var l,u=1,p=arguments.length;u<p;u++)for(var h in l=arguments[u])Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h]);return o},M.apply(this,arguments)},C=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},x=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g},y=this&&this.__spreadArray||function(o,l,u){if(u||arguments.length===2)for(var p,h=0,m=l.length;h<m;h++)!p&&h in l||(p||(p=Array.prototype.slice.call(l,0,h)),p[h]=l[h]);return o.concat(p||Array.prototype.slice.call(l))};Object.defineProperty(e,"__esModule",{value:!0}),e.CONFIG=e.MathJax=e.Startup=void 0;var d,f=v(9515),c=v(8666),s=v(7233);(function(o){var l,u,p=new c.PrioritizedList;function h(I){return l.visitTree(I,o.document)}function m(){l=new e.MathJax._.core.MmlTree.SerializedMmlVisitor.SerializedMmlVisitor,u=e.MathJax._.mathjax.mathjax,o.input=_(),o.output=T(),o.adaptor=N(),o.handler&&u.handlers.unregister(o.handler),o.handler=w(),o.handler&&(u.handlers.register(o.handler),o.document=L())}function g(){var I,P;o.input&&o.output&&E();var k=o.output?o.output.name.toLowerCase():"";try{for(var B=C(o.input),F=B.next();!F.done;F=B.next()){var H=F.value,j=H.name.toLowerCase();O(j,H),A(j,H),o.output&&S(j,k,H)}}catch(U){I={error:U}}finally{try{F&&!F.done&&(P=B.return)&&P.call(B)}finally{if(I)throw I.error}}}function E(){e.MathJax.typeset=function(I){I===void 0&&(I=null),o.document.options.elements=I,o.document.reset(),o.document.render()},e.MathJax.typesetPromise=function(I){return I===void 0&&(I=null),o.document.options.elements=I,o.document.reset(),u.handleRetriesFor(function(){o.document.render()})},e.MathJax.typesetClear=function(I){I===void 0&&(I=null),I?o.document.clearMathItemsWithin(I):o.document.clear()}}function S(I,P,k){var B=I+"2"+P;e.MathJax[B]=function(F,H){return H===void 0&&(H={}),H.format=k.name,o.document.convert(F,H)},e.MathJax[B+"Promise"]=function(F,H){return H===void 0&&(H={}),H.format=k.name,u.handleRetriesFor(function(){return o.document.convert(F,H)})},e.MathJax[P+"Stylesheet"]=function(){return o.output.styleSheet(o.document)},"getMetricsFor"in o.output&&(e.MathJax.getMetricsFor=function(F,H){return o.output.getMetricsFor(F,H)})}function O(I,P){var k=e.MathJax._.core.MathItem.STATE;e.MathJax[I+"2mml"]=function(B,F){return F===void 0&&(F={}),F.end=k.CONVERT,F.format=P.name,h(o.document.convert(B,F))},e.MathJax[I+"2mmlPromise"]=function(B,F){return F===void 0&&(F={}),F.end=k.CONVERT,F.format=P.name,u.handleRetriesFor(function(){return h(o.document.convert(B,F))})}}function A(I,P){e.MathJax[I+"Reset"]=function(){for(var k=[],B=0;B<arguments.length;B++)k[B]=arguments[B];return P.reset.apply(P,y([],x(k),!1))}}function _(){var I,P,k=[];try{for(var B=C(e.CONFIG.input),F=B.next();!F.done;F=B.next()){var H=F.value,j=o.constructors[H];if(!j)throw Error('Input Jax "'+H+'" is not defined (has it been loaded?)');k.push(new j(e.MathJax.config[H]))}}catch(U){I={error:U}}finally{try{F&&!F.done&&(P=B.return)&&P.call(B)}finally{if(I)throw I.error}}return k}function T(){var I=e.CONFIG.output;if(!I)return null;var P=o.constructors[I];if(!P)throw Error('Output Jax "'+I+'" is not defined (has it been loaded?)');return new P(e.MathJax.config[I])}function N(){var I=e.CONFIG.adaptor;if(!I||I==="none")return null;var P=o.constructors[I];if(!P)throw Error('DOMAdaptor "'+I+'" is not defined (has it been loaded?)');return P(e.MathJax.config[I])}function w(){var I,P,k=e.CONFIG.handler;if(!k||k==="none"||!o.adaptor)return null;var B=o.constructors[k];if(!B)throw Error('Handler "'+k+'" is not defined (has it been loaded?)');var F=new B(o.adaptor,5);try{for(var H=C(p),j=H.next();!j.done;j=H.next())F=j.value.item(F)}catch(U){I={error:U}}finally{try{j&&!j.done&&(P=H.return)&&P.call(H)}finally{if(I)throw I.error}}return F}function L(I){return I===void 0&&(I=null),u.document(I||e.CONFIG.document,M(M({},e.MathJax.config.options),{InputJax:o.input,OutputJax:o.output}))}o.constructors={},o.input=[],o.output=null,o.handler=null,o.adaptor=null,o.elements=null,o.document=null,o.promise=new Promise(function(I,P){o.promiseResolve=I,o.promiseReject=P}),o.pagePromise=new Promise(function(I,P){var k=v.g.document;if(k&&k.readyState&&k.readyState!=="complete"&&k.readyState!=="interactive"){var B=function(){return I()};k.defaultView.addEventListener("load",B,!0),k.defaultView.addEventListener("DOMContentLoaded",B,!0)}else I()}),o.toMML=h,o.registerConstructor=function(I,P){o.constructors[I]=P},o.useHandler=function(I,P){P===void 0&&(P=!1),e.CONFIG.handler&&!P||(e.CONFIG.handler=I)},o.useAdaptor=function(I,P){P===void 0&&(P=!1),e.CONFIG.adaptor&&!P||(e.CONFIG.adaptor=I)},o.useInput=function(I,P){P===void 0&&(P=!1),a&&!P||e.CONFIG.input.push(I)},o.useOutput=function(I,P){P===void 0&&(P=!1),e.CONFIG.output&&!P||(e.CONFIG.output=I)},o.extendHandler=function(I,P){P===void 0&&(P=10),p.add(I,P)},o.defaultReady=function(){m(),g(),o.pagePromise.then(function(){return e.CONFIG.pageReady()}).then(function(){return o.promiseResolve()}).catch(function(I){return o.promiseReject(I)})},o.defaultPageReady=function(){return e.CONFIG.typeset&&e.MathJax.typesetPromise?e.MathJax.typesetPromise(e.CONFIG.elements):Promise.resolve()},o.getComponents=m,o.makeMethods=g,o.makeTypesetMethods=E,o.makeOutputMethods=S,o.makeMmlMethods=O,o.makeResetMethod=A,o.getInputJax=_,o.getOutputJax=T,o.getAdaptor=N,o.getHandler=w,o.getDocument=L})(d=e.Startup||(e.Startup={})),e.MathJax=f.MathJax,e.MathJax._.startup===void 0&&((0,f.combineDefaults)(e.MathJax.config,"startup",{input:[],output:"",handler:null,adaptor:null,document:typeof document>"u"?"":document,elements:null,typeset:!0,ready:d.defaultReady.bind(d),pageReady:d.defaultPageReady.bind(d)}),(0,f.combineWithMathJax)({startup:d,options:{}}),e.MathJax.config.startup.invalidOption&&(s.OPTIONS.invalidOption=e.MathJax.config.startup.invalidOption),e.MathJax.config.startup.optionError&&(s.OPTIONS.optionError=e.MathJax.config.startup.optionError)),e.CONFIG=e.MathJax.config.startup;var a=e.CONFIG.input.length!==0},3282:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="3.2.2"},5009:function(R,e){var v=this&&this.__values||function(C){var x=typeof Symbol=="function"&&Symbol.iterator,y=x&&C[x],d=0;if(y)return y.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&d>=C.length&&(C=void 0),{value:C&&C[d++],done:!C}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDOMAdaptor=void 0;var M=function(){function C(x){x===void 0&&(x=null),this.document=x}return C.prototype.node=function(x,y,d,f){var c,s;y===void 0&&(y={}),d===void 0&&(d=[]);var a=this.create(x,f);this.setAttributes(a,y);try{for(var o=v(d),l=o.next();!l.done;l=o.next()){var u=l.value;this.append(a,u)}}catch(p){c={error:p}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(c)throw c.error}}return a},C.prototype.setAttributes=function(x,y){var d,f,c,s,a,o;if(y.style&&typeof y.style!="string")try{for(var l=v(Object.keys(y.style)),u=l.next();!u.done;u=l.next()){var p=u.value;this.setStyle(x,p.replace(/-([a-z])/g,function(S,O){return O.toUpperCase()}),y.style[p])}}catch(S){d={error:S}}finally{try{u&&!u.done&&(f=l.return)&&f.call(l)}finally{if(d)throw d.error}}if(y.properties)try{for(var h=v(Object.keys(y.properties)),m=h.next();!m.done;m=h.next())x[p=m.value]=y.properties[p]}catch(S){c={error:S}}finally{try{m&&!m.done&&(s=h.return)&&s.call(h)}finally{if(c)throw c.error}}try{for(var g=v(Object.keys(y)),E=g.next();!E.done;E=g.next())(p=E.value)==="style"&&typeof y.style!="string"||p==="properties"||this.setAttribute(x,p,y[p])}catch(S){a={error:S}}finally{try{E&&!E.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}},C.prototype.replace=function(x,y){return this.insert(x,y),this.remove(y),y},C.prototype.childNode=function(x,y){return this.childNodes(x)[y]},C.prototype.allClasses=function(x){var y=this.getAttribute(x,"class");return y?y.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,"").split(/ /):[]},C}();e.AbstractDOMAdaptor=M},3494:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractFindMath=void 0;var M=v(7233),C=function(){function x(y){var d=this.constructor;this.options=(0,M.userOptions)((0,M.defaultOptions)({},d.OPTIONS),y)}return x.OPTIONS={},x}();e.AbstractFindMath=C},3670:function(R,e,v){var M,C=this&&this.__extends||(M=function(d,f){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},M(d,f)},function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=d}M(d,f),d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractHandler=void 0;var x=function(d){function f(){return d!==null&&d.apply(this,arguments)||this}return C(f,d),f}(v(5722).AbstractMathDocument),y=function(){function d(f,c){c===void 0&&(c=5),this.documentClass=x,this.adaptor=f,this.priority=c}return Object.defineProperty(d.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),d.prototype.handlesDocument=function(f){return!1},d.prototype.create=function(f,c){return new this.documentClass(f,this.adaptor,c)},d.NAME="generic",d}();e.AbstractHandler=y},805:function(R,e,v){var M,C=this&&this.__extends||(M=function(d,f){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},M(d,f)},function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=d}M(d,f),d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),x=this&&this.__values||function(d){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&d[f],s=0;if(c)return c.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&s>=d.length&&(d=void 0),{value:d&&d[s++],done:!d}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.HandlerList=void 0;var y=function(d){function f(){return d!==null&&d.apply(this,arguments)||this}return C(f,d),f.prototype.register=function(c){return this.add(c,c.priority)},f.prototype.unregister=function(c){this.remove(c)},f.prototype.handlesDocument=function(c){var s,a;try{for(var o=x(this),l=o.next();!l.done;l=o.next()){var u=l.value.item;if(u.handlesDocument(c))return u}}catch(p){s={error:p}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}throw new Error("Can't find handler for document")},f.prototype.document=function(c,s){return s===void 0&&(s=null),this.handlesDocument(c).create(c,s)},f}(v(8666).PrioritizedList);e.HandlerList=y},9206:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractInputJax=void 0;var M=v(7233),C=v(7525),x=function(){function y(d){d===void 0&&(d={}),this.adaptor=null,this.mmlFactory=null;var f=this.constructor;this.options=(0,M.userOptions)((0,M.defaultOptions)({},f.OPTIONS),d),this.preFilters=new C.FunctionList,this.postFilters=new C.FunctionList}return Object.defineProperty(y.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),y.prototype.setAdaptor=function(d){this.adaptor=d},y.prototype.setMmlFactory=function(d){this.mmlFactory=d},y.prototype.initialize=function(){},y.prototype.reset=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f]},Object.defineProperty(y.prototype,"processStrings",{get:function(){return!0},enumerable:!1,configurable:!0}),y.prototype.findMath=function(d,f){return[]},y.prototype.executeFilters=function(d,f,c,s){var a={math:f,document:c,data:s};return d.execute(a),a.data},y.NAME="generic",y.OPTIONS={},y}();e.AbstractInputJax=x},5722:function(R,e,v){var M,C=this&&this.__extends||(M=function(O,A){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,T){_.__proto__=T}||function(_,T){for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&(_[N]=T[N])},M(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function _(){this.constructor=O}M(O,A),O.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)}),x=this&&this.__values||function(O){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&O[A],T=0;if(_)return _.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&T>=O.length&&(O=void 0),{value:O&&O[T++],done:!O}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__read||function(O,A){var _=typeof Symbol=="function"&&O[Symbol.iterator];if(!_)return O;var T,N,w=_.call(O),L=[];try{for(;(A===void 0||A-- >0)&&!(T=w.next()).done;)L.push(T.value)}catch(I){N={error:I}}finally{try{T&&!T.done&&(_=w.return)&&_.call(w)}finally{if(N)throw N.error}}return L},d=this&&this.__spreadArray||function(O,A,_){if(_||arguments.length===2)for(var T,N=0,w=A.length;N<w;N++)!T&&N in A||(T||(T=Array.prototype.slice.call(A,0,N)),T[N]=A[N]);return O.concat(T||Array.prototype.slice.call(A))};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMathDocument=e.resetAllOptions=e.resetOptions=e.RenderList=void 0;var f=v(7233),c=v(9206),s=v(2975),a=v(9e3),o=v(4474),l=v(3909),u=v(6751),p=function(O){function A(){return O!==null&&O.apply(this,arguments)||this}return C(A,O),A.create=function(_){var T,N,w=new this;try{for(var L=x(Object.keys(_)),I=L.next();!I.done;I=L.next()){var P=I.value,k=y(this.action(P,_[P]),2),B=k[0],F=k[1];F&&w.add(B,F)}}catch(H){T={error:H}}finally{try{I&&!I.done&&(N=L.return)&&N.call(L)}finally{if(T)throw T.error}}return w},A.action=function(_,T){var N,w,L,I,P,k,B=!0,F=T[0];if(T.length===1||typeof T[1]=="boolean")T.length===2&&(B=T[1]),P=(N=y(this.methodActions(_),2))[0],k=N[1];else if(typeof T[1]=="string")if(typeof T[2]=="string"){T.length===4&&(B=T[3]);var H=y(T.slice(1),2),j=H[0],U=H[1];P=(w=y(this.methodActions(j,U),2))[0],k=w[1]}else T.length===3&&(B=T[2]),P=(L=y(this.methodActions(T[1]),2))[0],k=L[1];else T.length===4&&(B=T[3]),P=(I=y(T.slice(1),2))[0],k=I[1];return[{id:_,renderDoc:P,renderMath:k,convert:B},F]},A.methodActions=function(_,T){return T===void 0&&(T=_),[function(N){return _&&N[_](),!1},function(N,w){return T&&N[T](w),!1}]},A.prototype.renderDoc=function(_,T){var N,w;T===void 0&&(T=o.STATE.UNPROCESSED);try{for(var L=x(this.items),I=L.next();!I.done;I=L.next()){var P=I.value;if(P.priority>=T&&P.item.renderDoc(_))return}}catch(k){N={error:k}}finally{try{I&&!I.done&&(w=L.return)&&w.call(L)}finally{if(N)throw N.error}}},A.prototype.renderMath=function(_,T,N){var w,L;N===void 0&&(N=o.STATE.UNPROCESSED);try{for(var I=x(this.items),P=I.next();!P.done;P=I.next()){var k=P.value;if(k.priority>=N&&k.item.renderMath(_,T))return}}catch(B){w={error:B}}finally{try{P&&!P.done&&(L=I.return)&&L.call(I)}finally{if(w)throw w.error}}},A.prototype.renderConvert=function(_,T,N){var w,L;N===void 0&&(N=o.STATE.LAST);try{for(var I=x(this.items),P=I.next();!P.done;P=I.next()){var k=P.value;if(k.priority>N||k.item.convert&&k.item.renderMath(_,T))return}}catch(B){w={error:B}}finally{try{P&&!P.done&&(L=I.return)&&L.call(I)}finally{if(w)throw w.error}}},A.prototype.findID=function(_){var T,N;try{for(var w=x(this.items),L=w.next();!L.done;L=w.next()){var I=L.value;if(I.item.id===_)return I.item}}catch(P){T={error:P}}finally{try{L&&!L.done&&(N=w.return)&&N.call(w)}finally{if(T)throw T.error}}return null},A}(v(8666).PrioritizedList);e.RenderList=p,e.resetOptions={all:!1,processed:!1,inputJax:null,outputJax:null},e.resetAllOptions={all:!0,processed:!0,inputJax:[],outputJax:[]};var h=function(O){function A(){return O!==null&&O.apply(this,arguments)||this}return C(A,O),A.prototype.compile=function(_){return null},A}(c.AbstractInputJax),m=function(O){function A(){return O!==null&&O.apply(this,arguments)||this}return C(A,O),A.prototype.typeset=function(_,T){return null},A.prototype.escaped=function(_,T){return null},A}(s.AbstractOutputJax),g=function(O){function A(){return O!==null&&O.apply(this,arguments)||this}return C(A,O),A}(a.AbstractMathList),E=function(O){function A(){return O!==null&&O.apply(this,arguments)||this}return C(A,O),A}(o.AbstractMathItem),S=function(){function O(A,_,T){var N=this,w=this.constructor;this.document=A,this.options=(0,f.userOptions)((0,f.defaultOptions)({},w.OPTIONS),T),this.math=new(this.options.MathList||g),this.renderActions=p.create(this.options.renderActions),this.processed=new O.ProcessBits,this.outputJax=this.options.OutputJax||new m;var L=this.options.InputJax||[new h];Array.isArray(L)||(L=[L]),this.inputJax=L,this.adaptor=_,this.outputJax.setAdaptor(_),this.inputJax.map(function(I){return I.setAdaptor(_)}),this.mmlFactory=this.options.MmlFactory||new l.MmlFactory,this.inputJax.map(function(I){return I.setMmlFactory(N.mmlFactory)}),this.outputJax.initialize(),this.inputJax.map(function(I){return I.initialize()})}return Object.defineProperty(O.prototype,"kind",{get:function(){return this.constructor.KIND},enumerable:!1,configurable:!0}),O.prototype.addRenderAction=function(A){for(var _=[],T=1;T<arguments.length;T++)_[T-1]=arguments[T];var N=y(p.action(A,_),2),w=N[0],L=N[1];this.renderActions.add(w,L)},O.prototype.removeRenderAction=function(A){var _=this.renderActions.findID(A);_&&this.renderActions.remove(_)},O.prototype.render=function(){return this.renderActions.renderDoc(this),this},O.prototype.rerender=function(A){return A===void 0&&(A=o.STATE.RERENDER),this.state(A-1),this.render(),this},O.prototype.convert=function(A,_){_===void 0&&(_={});var T=(0,f.userOptions)({format:this.inputJax[0].name,display:!0,end:o.STATE.LAST,em:16,ex:8,containerWidth:null,lineWidth:1e6,scale:1,family:""},_),N=T.format,w=T.display,L=T.end,I=T.ex,P=T.em,k=T.containerWidth,B=T.lineWidth,F=T.scale,H=T.family;k===null&&(k=80*I);var j=this.inputJax.reduce(function(z,K){return K.name===N?K:z},null),U=new this.options.MathItem(A,j,w);return U.start.node=this.adaptor.body(this.document),U.setMetrics(P,I,k,B,F),this.outputJax.options.mtextInheritFont&&(U.outputData.mtextFamily=H),this.outputJax.options.merrorInheritFont&&(U.outputData.merrorFamily=H),U.convert(this,L),U.typesetRoot||U.root},O.prototype.findMath=function(A){return this.processed.set("findMath"),this},O.prototype.compile=function(){var A,_,T,N;if(!this.processed.isSet("compile")){var w=[];try{for(var L=x(this.math),I=L.next();!I.done;I=L.next()){var P=I.value;this.compileMath(P),P.inputData.recompile!==void 0&&w.push(P)}}catch(H){A={error:H}}finally{try{I&&!I.done&&(_=L.return)&&_.call(L)}finally{if(A)throw A.error}}try{for(var k=x(w),B=k.next();!B.done;B=k.next()){var F=(P=B.value).inputData.recompile;P.state(F.state),P.inputData.recompile=F,this.compileMath(P)}}catch(H){T={error:H}}finally{try{B&&!B.done&&(N=k.return)&&N.call(k)}finally{if(T)throw T.error}}this.processed.set("compile")}return this},O.prototype.compileMath=function(A){try{A.compile(this)}catch(_){if(_.retry||_.restart)throw _;this.options.compileError(this,A,_),A.inputData.error=_}},O.prototype.compileError=function(A,_){A.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":_.message,title:_.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),A.display&&A.root.attributes.set("display","block"),A.inputData.error=_.message},O.prototype.typeset=function(){var A,_;if(!this.processed.isSet("typeset")){try{for(var T=x(this.math),N=T.next();!N.done;N=T.next()){var w=N.value;try{w.typeset(this)}catch(L){if(L.retry||L.restart)throw L;this.options.typesetError(this,w,L),w.outputData.error=L}}}catch(L){A={error:L}}finally{try{N&&!N.done&&(_=T.return)&&_.call(T)}finally{if(A)throw A.error}}this.processed.set("typeset")}return this},O.prototype.typesetError=function(A,_){A.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":_.message,title:_.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),A.display&&this.adaptor.setAttributes(A.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),A.outputData.error=_.message},O.prototype.getMetrics=function(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this},O.prototype.updateDocument=function(){var A,_;if(!this.processed.isSet("updateDocument")){try{for(var T=x(this.math.reversed()),N=T.next();!N.done;N=T.next())N.value.updateDocument(this)}catch(w){A={error:w}}finally{try{N&&!N.done&&(_=T.return)&&_.call(T)}finally{if(A)throw A.error}}this.processed.set("updateDocument")}return this},O.prototype.removeFromDocument=function(A){return this},O.prototype.state=function(A,_){var T,N;_===void 0&&(_=!1);try{for(var w=x(this.math),L=w.next();!L.done;L=w.next())L.value.state(A,_)}catch(I){T={error:I}}finally{try{L&&!L.done&&(N=w.return)&&N.call(w)}finally{if(T)throw T.error}}return A<o.STATE.INSERTED&&this.processed.clear("updateDocument"),A<o.STATE.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),A<o.STATE.COMPILED&&this.processed.clear("compile"),this},O.prototype.reset=function(A){var _;return A===void 0&&(A={processed:!0}),(A=(0,f.userOptions)(Object.assign({},e.resetOptions),A)).all&&Object.assign(A,e.resetAllOptions),A.processed&&this.processed.reset(),A.inputJax&&this.inputJax.forEach(function(T){return T.reset.apply(T,d([],y(A.inputJax),!1))}),A.outputJax&&(_=this.outputJax).reset.apply(_,d([],y(A.outputJax),!1)),this},O.prototype.clear=function(){return this.reset(),this.math.clear(),this},O.prototype.concat=function(A){return this.math.merge(A),this},O.prototype.clearMathItemsWithin=function(A){var _,T=this.getMathItemsWithin(A);return(_=this.math).remove.apply(_,d([],y(T),!1)),T},O.prototype.getMathItemsWithin=function(A){var _,T,N,w;Array.isArray(A)||(A=[A]);var L=this.adaptor,I=[],P=L.getElements(A,this.document);try{t:for(var k=x(this.math),B=k.next();!B.done;B=k.next()){var F=B.value;try{for(var H=(N=void 0,x(P)),j=H.next();!j.done;j=H.next()){var U=j.value;if(F.start.node&&L.contains(U,F.start.node)){I.push(F);continue t}}}catch(z){N={error:z}}finally{try{j&&!j.done&&(w=H.return)&&w.call(H)}finally{if(N)throw N.error}}}}catch(z){_={error:z}}finally{try{B&&!B.done&&(T=k.return)&&T.call(k)}finally{if(_)throw _.error}}return I},O.KIND="MathDocument",O.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:g,MathItem:E,compileError:function(A,_,T){A.compileError(_,T)},typesetError:function(A,_,T){A.typesetError(_,T)},renderActions:(0,f.expandable)({find:[o.STATE.FINDMATH,"findMath","",!1],compile:[o.STATE.COMPILED],metrics:[o.STATE.METRICS,"getMetrics","",!1],typeset:[o.STATE.TYPESET],update:[o.STATE.INSERTED,"updateDocument",!1]})},O.ProcessBits=(0,u.BitFieldClass)("findMath","compile","getMetrics","typeset","updateDocument"),O}();e.AbstractMathDocument=S},4474:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.newState=e.STATE=e.AbstractMathItem=e.protoItem=void 0,e.protoItem=function(M,C,x,y,d,f,c){return c===void 0&&(c=null),{open:M,math:C,close:x,n:y,start:{n:d},end:{n:f},display:c}};var v=function(){function M(C,x,y,d,f){y===void 0&&(y=!0),d===void 0&&(d={i:0,n:0,delim:""}),f===void 0&&(f={i:0,n:0,delim:""}),this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=e.STATE.UNPROCESSED,this.math=C,this.inputJax=x,this.display=y,this.start=d,this.end=f,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}return Object.defineProperty(M.prototype,"isEscaped",{get:function(){return this.display===null},enumerable:!1,configurable:!0}),M.prototype.render=function(C){C.renderActions.renderMath(this,C)},M.prototype.rerender=function(C,x){x===void 0&&(x=e.STATE.RERENDER),this.state()>=x&&this.state(x-1),C.renderActions.renderMath(this,C,x)},M.prototype.convert=function(C,x){x===void 0&&(x=e.STATE.LAST),C.renderActions.renderConvert(this,C,x)},M.prototype.compile=function(C){this.state()<e.STATE.COMPILED&&(this.root=this.inputJax.compile(this,C),this.state(e.STATE.COMPILED))},M.prototype.typeset=function(C){this.state()<e.STATE.TYPESET&&(this.typesetRoot=C.outputJax[this.isEscaped?"escaped":"typeset"](this,C),this.state(e.STATE.TYPESET))},M.prototype.updateDocument=function(C){},M.prototype.removeFromDocument=function(C){},M.prototype.setMetrics=function(C,x,y,d,f){this.metrics={em:C,ex:x,containerWidth:y,lineWidth:d,scale:f}},M.prototype.state=function(C,x){return C===void 0&&(C=null),x===void 0&&(x=!1),C!=null&&(C<e.STATE.INSERTED&&this._state>=e.STATE.INSERTED&&this.removeFromDocument(x),C<e.STATE.TYPESET&&this._state>=e.STATE.TYPESET&&(this.outputData={}),C<e.STATE.COMPILED&&this._state>=e.STATE.COMPILED&&(this.inputData={}),this._state=C),this._state},M.prototype.reset=function(C){C===void 0&&(C=!1),this.state(e.STATE.UNPROCESSED,C)},M}();e.AbstractMathItem=v,e.STATE={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4},e.newState=function(M,C){if(M in e.STATE)throw Error("State "+M+" already exists");e.STATE[M]=C}},9e3:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},M(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMathList=void 0;var x=function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return C(d,y),d.prototype.isBefore=function(f,c){return f.start.i<c.start.i||f.start.i===c.start.i&&f.start.n<c.start.n},d}(v(103).LinkedList);e.AbstractMathList=x},91:function(R,e){var v=this&&this.__values||function(C){var x=typeof Symbol=="function"&&Symbol.iterator,y=x&&C[x],d=0;if(y)return y.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&d>=C.length&&(C=void 0),{value:C&&C[d++],done:!C}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Attributes=e.INHERIT=void 0,e.INHERIT="_inherit_";var M=function(){function C(x,y){this.global=y,this.defaults=Object.create(y),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,x)}return C.prototype.set=function(x,y){this.attributes[x]=y},C.prototype.setList=function(x){Object.assign(this.attributes,x)},C.prototype.get=function(x){var y=this.attributes[x];return y===e.INHERIT&&(y=this.global[x]),y},C.prototype.getExplicit=function(x){if(this.attributes.hasOwnProperty(x))return this.attributes[x]},C.prototype.getList=function(){for(var x,y,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var c={};try{for(var s=v(d),a=s.next();!a.done;a=s.next()){var o=a.value;c[o]=this.get(o)}}catch(l){x={error:l}}finally{try{a&&!a.done&&(y=s.return)&&y.call(s)}finally{if(x)throw x.error}}return c},C.prototype.setInherited=function(x,y){this.inherited[x]=y},C.prototype.getInherited=function(x){return this.inherited[x]},C.prototype.getDefault=function(x){return this.defaults[x]},C.prototype.isSet=function(x){return this.attributes.hasOwnProperty(x)||this.inherited.hasOwnProperty(x)},C.prototype.hasDefault=function(x){return x in this.defaults},C.prototype.getExplicitNames=function(){return Object.keys(this.attributes)},C.prototype.getInheritedNames=function(){return Object.keys(this.inherited)},C.prototype.getDefaultNames=function(){return Object.keys(this.defaults)},C.prototype.getGlobalNames=function(){return Object.keys(this.global)},C.prototype.getAllAttributes=function(){return this.attributes},C.prototype.getAllInherited=function(){return this.inherited},C.prototype.getAllDefaults=function(){return this.defaults},C.prototype.getAllGlobals=function(){return this.global},C}();e.Attributes=M},6336:function(R,e,v){var M;Object.defineProperty(e,"__esModule",{value:!0}),e.MML=void 0;var C=v(9007),x=v(3233),y=v(450),d=v(3050),f=v(2756),c=v(4770),s=v(6030),a=v(7265),o=v(9878),l=v(6850),u=v(7131),p=v(6145),h=v(1314),m=v(1581),g=v(7238),E=v(5741),S=v(5410),O=v(6661),A=v(9145),_=v(4461),T=v(5184),N=v(6405),w=v(1349),L=v(5022),I=v(4359),P=v(142),k=v(7590),B=v(3985),F=v(9102),H=v(3948),j=v(1334);e.MML=((M={})[x.MmlMath.prototype.kind]=x.MmlMath,M[y.MmlMi.prototype.kind]=y.MmlMi,M[d.MmlMn.prototype.kind]=d.MmlMn,M[f.MmlMo.prototype.kind]=f.MmlMo,M[c.MmlMtext.prototype.kind]=c.MmlMtext,M[s.MmlMspace.prototype.kind]=s.MmlMspace,M[a.MmlMs.prototype.kind]=a.MmlMs,M[o.MmlMrow.prototype.kind]=o.MmlMrow,M[o.MmlInferredMrow.prototype.kind]=o.MmlInferredMrow,M[l.MmlMfrac.prototype.kind]=l.MmlMfrac,M[u.MmlMsqrt.prototype.kind]=u.MmlMsqrt,M[p.MmlMroot.prototype.kind]=p.MmlMroot,M[h.MmlMstyle.prototype.kind]=h.MmlMstyle,M[m.MmlMerror.prototype.kind]=m.MmlMerror,M[g.MmlMpadded.prototype.kind]=g.MmlMpadded,M[E.MmlMphantom.prototype.kind]=E.MmlMphantom,M[S.MmlMfenced.prototype.kind]=S.MmlMfenced,M[O.MmlMenclose.prototype.kind]=O.MmlMenclose,M[A.MmlMaction.prototype.kind]=A.MmlMaction,M[_.MmlMsub.prototype.kind]=_.MmlMsub,M[_.MmlMsup.prototype.kind]=_.MmlMsup,M[_.MmlMsubsup.prototype.kind]=_.MmlMsubsup,M[T.MmlMunder.prototype.kind]=T.MmlMunder,M[T.MmlMover.prototype.kind]=T.MmlMover,M[T.MmlMunderover.prototype.kind]=T.MmlMunderover,M[N.MmlMmultiscripts.prototype.kind]=N.MmlMmultiscripts,M[N.MmlMprescripts.prototype.kind]=N.MmlMprescripts,M[N.MmlNone.prototype.kind]=N.MmlNone,M[w.MmlMtable.prototype.kind]=w.MmlMtable,M[L.MmlMlabeledtr.prototype.kind]=L.MmlMlabeledtr,M[L.MmlMtr.prototype.kind]=L.MmlMtr,M[I.MmlMtd.prototype.kind]=I.MmlMtd,M[P.MmlMaligngroup.prototype.kind]=P.MmlMaligngroup,M[k.MmlMalignmark.prototype.kind]=k.MmlMalignmark,M[B.MmlMglyph.prototype.kind]=B.MmlMglyph,M[F.MmlSemantics.prototype.kind]=F.MmlSemantics,M[F.MmlAnnotation.prototype.kind]=F.MmlAnnotation,M[F.MmlAnnotationXML.prototype.kind]=F.MmlAnnotationXML,M[H.TeXAtom.prototype.kind]=H.TeXAtom,M[j.MathChoice.prototype.kind]=j.MathChoice,M[C.TextNode.prototype.kind]=C.TextNode,M[C.XMLNode.prototype.kind]=C.XMLNode,M)},1759:function(R,e,v){var M,C=this&&this.__extends||(M=function(d,f){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},M(d,f)},function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=d}M(d,f),d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),x=this&&this.__values||function(d){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&d[f],s=0;if(c)return c.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&s>=d.length&&(d=void 0),{value:d&&d[s++],done:!d}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MathMLVisitor=void 0;var y=function(d){function f(){var c=d!==null&&d.apply(this,arguments)||this;return c.document=null,c}return C(f,d),f.prototype.visitTree=function(c,s){this.document=s;var a=s.createElement("top");return this.visitNode(c,a),this.document=null,a.firstChild},f.prototype.visitTextNode=function(c,s){s.appendChild(this.document.createTextNode(c.getText()))},f.prototype.visitXMLNode=function(c,s){s.appendChild(c.getXML().cloneNode(!0))},f.prototype.visitInferredMrowNode=function(c,s){var a,o;try{for(var l=x(c.childNodes),u=l.next();!u.done;u=l.next()){var p=u.value;this.visitNode(p,s)}}catch(h){a={error:h}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}},f.prototype.visitDefault=function(c,s){var a,o,l=this.document.createElement(c.kind);this.addAttributes(c,l);try{for(var u=x(c.childNodes),p=u.next();!p.done;p=u.next()){var h=p.value;this.visitNode(h,l)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}s.appendChild(l)},f.prototype.addAttributes=function(c,s){var a,o,l=c.attributes,u=l.getExplicitNames();try{for(var p=x(u),h=p.next();!h.done;h=p.next()){var m=h.value;s.setAttribute(m,l.getExplicit(m).toString())}}catch(g){a={error:g}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}},f}(v(6325).MmlVisitor);e.MathMLVisitor=y},3909:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.MmlFactory=void 0;var x=v(7860),y=v(6336),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),Object.defineProperty(c.prototype,"MML",{get:function(){return this.node},enumerable:!1,configurable:!0}),c.defaultNodes=y.MML,c}(x.AbstractNodeFactory);e.MmlFactory=d},9007:function(R,e,v){var M,C=this&&this.__extends||(M=function(E,S){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,A){O.__proto__=A}||function(O,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(O[_]=A[_])},M(E,S)},function(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function O(){this.constructor=E}M(E,S),E.prototype=S===null?Object.create(S):(O.prototype=S.prototype,new O)}),x=this&&this.__assign||function(){return x=Object.assign||function(E){for(var S,O=1,A=arguments.length;O<A;O++)for(var _ in S=arguments[O])Object.prototype.hasOwnProperty.call(S,_)&&(E[_]=S[_]);return E},x.apply(this,arguments)},y=this&&this.__values||function(E){var S=typeof Symbol=="function"&&Symbol.iterator,O=S&&E[S],A=0;if(O)return O.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&A>=E.length&&(E=void 0),{value:E&&E[A++],done:!E}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(E,S){var O=typeof Symbol=="function"&&E[Symbol.iterator];if(!O)return E;var A,_,T=O.call(E),N=[];try{for(;(S===void 0||S-- >0)&&!(A=T.next()).done;)N.push(A.value)}catch(w){_={error:w}}finally{try{A&&!A.done&&(O=T.return)&&O.call(T)}finally{if(_)throw _.error}}return N};Object.defineProperty(e,"__esModule",{value:!0}),e.XMLNode=e.TextNode=e.AbstractMmlEmptyNode=e.AbstractMmlBaseNode=e.AbstractMmlLayoutNode=e.AbstractMmlTokenNode=e.AbstractMmlNode=e.indentAttributes=e.TEXCLASSNAMES=e.TEXCLASS=void 0;var f=v(91),c=v(4596);e.TEXCLASS={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,VCENTER:8,NONE:-1},e.TEXCLASSNAMES=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER","VCENTER"];var s=["","thinmathspace","mediummathspace","thickmathspace"],a=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]];e.indentAttributes=["indentalign","indentalignfirst","indentshift","indentshiftfirst"];var o=function(E){function S(O,A,_){A===void 0&&(A={}),_===void 0&&(_=[]);var T=E.call(this,O)||this;return T.prevClass=null,T.prevLevel=null,T.texclass=null,T.arity<0&&(T.childNodes=[O.create("inferredMrow")],T.childNodes[0].parent=T),T.setChildren(_),T.attributes=new f.Attributes(O.getNodeClass(T.kind).defaults,O.getNodeClass("math").defaults),T.attributes.setList(A),T}return C(S,E),S.prototype.copy=function(O){var A,_,T,N;O===void 0&&(O=!1);var w=this.factory.create(this.kind);if(w.properties=x({},this.properties),this.attributes){var L=this.attributes.getAllAttributes();try{for(var I=y(Object.keys(L)),P=I.next();!P.done;P=I.next()){var k=P.value;(k!=="id"||O)&&w.attributes.set(k,L[k])}}catch(U){A={error:U}}finally{try{P&&!P.done&&(_=I.return)&&_.call(I)}finally{if(A)throw A.error}}}if(this.childNodes&&this.childNodes.length){var B=this.childNodes;B.length===1&&B[0].isInferred&&(B=B[0].childNodes);try{for(var F=y(B),H=F.next();!H.done;H=F.next()){var j=H.value;j?w.appendChild(j.copy()):w.childNodes.push(null)}}catch(U){T={error:U}}finally{try{H&&!H.done&&(N=F.return)&&N.call(F)}finally{if(T)throw T.error}}}return w},Object.defineProperty(S.prototype,"texClass",{get:function(){return this.texclass},set:function(O){this.texclass=O},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isToken",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isEmbellished",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isSpacelike",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"linebreakContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"hasNewLine",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"arity",{get:function(){return 1/0},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isInferred",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"Parent",{get:function(){for(var O=this.parent;O&&O.notParent;)O=O.Parent;return O},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"notParent",{get:function(){return!1},enumerable:!1,configurable:!0}),S.prototype.setChildren=function(O){return this.arity<0?this.childNodes[0].setChildren(O):E.prototype.setChildren.call(this,O)},S.prototype.appendChild=function(O){var A,_,T=this;if(this.arity<0)return this.childNodes[0].appendChild(O),O;if(O.isInferred){if(this.arity===1/0)return O.childNodes.forEach(function(P){return E.prototype.appendChild.call(T,P)}),O;var N=O;(O=this.factory.create("mrow")).setChildren(N.childNodes),O.attributes=N.attributes;try{for(var w=y(N.getPropertyNames()),L=w.next();!L.done;L=w.next()){var I=L.value;O.setProperty(I,N.getProperty(I))}}catch(P){A={error:P}}finally{try{L&&!L.done&&(_=w.return)&&_.call(w)}finally{if(A)throw A.error}}}return E.prototype.appendChild.call(this,O)},S.prototype.replaceChild=function(O,A){return this.arity<0?(this.childNodes[0].replaceChild(O,A),O):E.prototype.replaceChild.call(this,O,A)},S.prototype.core=function(){return this},S.prototype.coreMO=function(){return this},S.prototype.coreIndex=function(){return 0},S.prototype.childPosition=function(){for(var O,A,_=this,T=_.parent;T&&T.notParent;)_=T,T=T.parent;if(T){var N=0;try{for(var w=y(T.childNodes),L=w.next();!L.done;L=w.next()){if(L.value===_)return N;N++}}catch(I){O={error:I}}finally{try{L&&!L.done&&(A=w.return)&&A.call(w)}finally{if(O)throw O.error}}}return null},S.prototype.setTeXclass=function(O){return this.getPrevClass(O),this.texClass!=null?this:O},S.prototype.updateTeXclass=function(O){O&&(this.prevClass=O.prevClass,this.prevLevel=O.prevLevel,O.prevClass=O.prevLevel=null,this.texClass=O.texClass)},S.prototype.getPrevClass=function(O){O&&(this.prevClass=O.texClass,this.prevLevel=O.attributes.get("scriptlevel"))},S.prototype.texSpacing=function(){var O=this.prevClass!=null?this.prevClass:e.TEXCLASS.NONE,A=this.texClass||e.TEXCLASS.ORD;if(O===e.TEXCLASS.NONE||A===e.TEXCLASS.NONE)return"";O===e.TEXCLASS.VCENTER&&(O=e.TEXCLASS.ORD),A===e.TEXCLASS.VCENTER&&(A=e.TEXCLASS.ORD);var _=a[O][A];return(this.prevLevel>0||this.attributes.get("scriptlevel")>0)&&_>=0?"":s[Math.abs(_)]},S.prototype.hasSpacingAttributes=function(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()},S.prototype.setInheritedAttributes=function(O,A,_,T){var N,w;O===void 0&&(O={}),A===void 0&&(A=!1),_===void 0&&(_=0),T===void 0&&(T=!1);var L=this.attributes.getAllDefaults();try{for(var I=y(Object.keys(O)),P=I.next();!P.done;P=I.next()){var k=P.value;if(L.hasOwnProperty(k)||S.alwaysInherit.hasOwnProperty(k)){var B=d(O[k],2),F=B[0],H=B[1];((S.noInherit[F]||{})[this.kind]||{})[k]||this.attributes.setInherited(k,H)}}}catch(U){N={error:U}}finally{try{P&&!P.done&&(w=I.return)&&w.call(I)}finally{if(N)throw N.error}}this.attributes.getExplicit("displaystyle")===void 0&&this.attributes.setInherited("displaystyle",A),this.attributes.getExplicit("scriptlevel")===void 0&&this.attributes.setInherited("scriptlevel",_),T&&this.setProperty("texprimestyle",T);var j=this.arity;if(j>=0&&j!==1/0&&(j===1&&this.childNodes.length===0||j!==1&&this.childNodes.length!==j))if(j<this.childNodes.length)this.childNodes=this.childNodes.slice(0,j);else for(;this.childNodes.length<j;)this.appendChild(this.factory.create("mrow"));this.setChildInheritedAttributes(O,A,_,T)},S.prototype.setChildInheritedAttributes=function(O,A,_,T){var N,w;try{for(var L=y(this.childNodes),I=L.next();!I.done;I=L.next())I.value.setInheritedAttributes(O,A,_,T)}catch(P){N={error:P}}finally{try{I&&!I.done&&(w=L.return)&&w.call(L)}finally{if(N)throw N.error}}},S.prototype.addInheritedAttributes=function(O,A){var _,T,N=x({},O);try{for(var w=y(Object.keys(A)),L=w.next();!L.done;L=w.next()){var I=L.value;I!=="displaystyle"&&I!=="scriptlevel"&&I!=="style"&&(N[I]=[this.kind,A[I]])}}catch(P){_={error:P}}finally{try{L&&!L.done&&(T=w.return)&&T.call(w)}finally{if(_)throw _.error}}return N},S.prototype.inheritAttributesFrom=function(O){var A=O.attributes,_=A.get("displaystyle"),T=A.get("scriptlevel"),N=A.isSet("mathsize")?{mathsize:["math",A.get("mathsize")]}:{},w=O.getProperty("texprimestyle")||!1;this.setInheritedAttributes(N,_,T,w)},S.prototype.verifyTree=function(O){if(O===void 0&&(O=null),O!==null){this.verifyAttributes(O);var A=this.arity;O.checkArity&&A>=0&&A!==1/0&&(A===1&&this.childNodes.length===0||A!==1&&this.childNodes.length!==A)&&this.mError('Wrong number of children for "'+this.kind+'" node',O,!0),this.verifyChildren(O)}},S.prototype.verifyAttributes=function(O){var A,_;if(O.checkAttributes){var T=this.attributes,N=[];try{for(var w=y(T.getExplicitNames()),L=w.next();!L.done;L=w.next()){var I=L.value;I.substr(0,5)==="data-"||T.getDefault(I)!==void 0||I.match(/^(?:class|style|id|(?:xlink:)?href)$/)||N.push(I)}}catch(P){A={error:P}}finally{try{L&&!L.done&&(_=w.return)&&_.call(w)}finally{if(A)throw A.error}}N.length&&this.mError("Unknown attributes for "+this.kind+" node: "+N.join(", "),O)}},S.prototype.verifyChildren=function(O){var A,_;try{for(var T=y(this.childNodes),N=T.next();!N.done;N=T.next())N.value.verifyTree(O)}catch(w){A={error:w}}finally{try{N&&!N.done&&(_=T.return)&&_.call(T)}finally{if(A)throw A.error}}},S.prototype.mError=function(O,A,_){if(_===void 0&&(_=!1),this.parent&&this.parent.isKind("merror"))return null;var T=this.factory.create("merror");if(T.attributes.set("data-mjx-message",O),A.fullErrors||_){var N=this.factory.create("mtext"),w=this.factory.create("text");w.setText(A.fullErrors?O:this.kind),N.appendChild(w),T.appendChild(N),this.parent.replaceChild(T,this)}else this.parent.replaceChild(T,this),T.appendChild(this);return T},S.defaults={mathbackground:f.INHERIT,mathcolor:f.INHERIT,mathsize:f.INHERIT,dir:f.INHERIT},S.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}}},S.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0},S.verifyDefaults={checkArity:!0,checkAttributes:!1,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0},S}(c.AbstractNode);e.AbstractMmlNode=o;var l=function(E){function S(){return E!==null&&E.apply(this,arguments)||this}return C(S,E),Object.defineProperty(S.prototype,"isToken",{get:function(){return!0},enumerable:!1,configurable:!0}),S.prototype.getText=function(){var O,A,_="";try{for(var T=y(this.childNodes),N=T.next();!N.done;N=T.next()){var w=N.value;w instanceof m&&(_+=w.getText())}}catch(L){O={error:L}}finally{try{N&&!N.done&&(A=T.return)&&A.call(T)}finally{if(O)throw O.error}}return _},S.prototype.setChildInheritedAttributes=function(O,A,_,T){var N,w;try{for(var L=y(this.childNodes),I=L.next();!I.done;I=L.next()){var P=I.value;P instanceof o&&P.setInheritedAttributes(O,A,_,T)}}catch(k){N={error:k}}finally{try{I&&!I.done&&(w=L.return)&&w.call(L)}finally{if(N)throw N.error}}},S.prototype.walkTree=function(O,A){var _,T;O(this,A);try{for(var N=y(this.childNodes),w=N.next();!w.done;w=N.next()){var L=w.value;L instanceof o&&L.walkTree(O,A)}}catch(I){_={error:I}}finally{try{w&&!w.done&&(T=N.return)&&T.call(N)}finally{if(_)throw _.error}}return A},S.defaults=x(x({},o.defaults),{mathvariant:"normal",mathsize:f.INHERIT}),S}(o);e.AbstractMmlTokenNode=l;var u=function(E){function S(){return E!==null&&E.apply(this,arguments)||this}return C(S,E),Object.defineProperty(S.prototype,"isSpacelike",{get:function(){return this.childNodes[0].isSpacelike},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isEmbellished",{get:function(){return this.childNodes[0].isEmbellished},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),S.prototype.core=function(){return this.childNodes[0]},S.prototype.coreMO=function(){return this.childNodes[0].coreMO()},S.prototype.setTeXclass=function(O){return O=this.childNodes[0].setTeXclass(O),this.updateTeXclass(this.childNodes[0]),O},S.defaults=o.defaults,S}(o);e.AbstractMmlLayoutNode=u;var p=function(E){function S(){return E!==null&&E.apply(this,arguments)||this}return C(S,E),Object.defineProperty(S.prototype,"isEmbellished",{get:function(){return this.childNodes[0].isEmbellished},enumerable:!1,configurable:!0}),S.prototype.core=function(){return this.childNodes[0]},S.prototype.coreMO=function(){return this.childNodes[0].coreMO()},S.prototype.setTeXclass=function(O){var A,_;this.getPrevClass(O),this.texClass=e.TEXCLASS.ORD;var T=this.childNodes[0];T?this.isEmbellished||T.isKind("mi")?(O=T.setTeXclass(O),this.updateTeXclass(this.core())):(T.setTeXclass(null),O=this):O=this;try{for(var N=y(this.childNodes.slice(1)),w=N.next();!w.done;w=N.next()){var L=w.value;L&&L.setTeXclass(null)}}catch(I){A={error:I}}finally{try{w&&!w.done&&(_=N.return)&&_.call(N)}finally{if(A)throw A.error}}return O},S.defaults=o.defaults,S}(o);e.AbstractMmlBaseNode=p;var h=function(E){function S(){return E!==null&&E.apply(this,arguments)||this}return C(S,E),Object.defineProperty(S.prototype,"isToken",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isEmbellished",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isSpacelike",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"linebreakContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"hasNewLine",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isInferred",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"notParent",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"Parent",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"texClass",{get:function(){return e.TEXCLASS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"prevClass",{get:function(){return e.TEXCLASS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"prevLevel",{get:function(){return 0},enumerable:!1,configurable:!0}),S.prototype.hasSpacingAttributes=function(){return!1},Object.defineProperty(S.prototype,"attributes",{get:function(){return null},enumerable:!1,configurable:!0}),S.prototype.core=function(){return this},S.prototype.coreMO=function(){return this},S.prototype.coreIndex=function(){return 0},S.prototype.childPosition=function(){return 0},S.prototype.setTeXclass=function(O){return O},S.prototype.texSpacing=function(){return""},S.prototype.setInheritedAttributes=function(O,A,_,T){},S.prototype.inheritAttributesFrom=function(O){},S.prototype.verifyTree=function(O){},S.prototype.mError=function(O,A,_){return null},S}(c.AbstractEmptyNode);e.AbstractMmlEmptyNode=h;var m=function(E){function S(){var O=E!==null&&E.apply(this,arguments)||this;return O.text="",O}return C(S,E),Object.defineProperty(S.prototype,"kind",{get:function(){return"text"},enumerable:!1,configurable:!0}),S.prototype.getText=function(){return this.text},S.prototype.setText=function(O){return this.text=O,this},S.prototype.copy=function(){return this.factory.create(this.kind).setText(this.getText())},S.prototype.toString=function(){return this.text},S}(h);e.TextNode=m;var g=function(E){function S(){var O=E!==null&&E.apply(this,arguments)||this;return O.xml=null,O.adaptor=null,O}return C(S,E),Object.defineProperty(S.prototype,"kind",{get:function(){return"XML"},enumerable:!1,configurable:!0}),S.prototype.getXML=function(){return this.xml},S.prototype.setXML=function(O,A){return A===void 0&&(A=null),this.xml=O,this.adaptor=A,this},S.prototype.getSerializedXML=function(){return this.adaptor.serializeXML(this.xml)},S.prototype.copy=function(){return this.factory.create(this.kind).setXML(this.adaptor.clone(this.xml))},S.prototype.toString=function(){return"XML data"},S}(h);e.XMLNode=g},3948:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__assign||function(){return x=Object.assign||function(c){for(var s,a=1,o=arguments.length;a<o;a++)for(var l in s=arguments[a])Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=s[l]);return c},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.TeXAtom=void 0;var y=v(9007),d=v(2756),f=function(c){function s(a,o,l){var u=c.call(this,a,o,l)||this;return u.texclass=y.TEXCLASS.ORD,u.setProperty("texClass",u.texClass),u}return C(s,c),Object.defineProperty(s.prototype,"kind",{get:function(){return"TeXAtom"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"notParent",{get:function(){return this.childNodes[0]&&this.childNodes[0].childNodes.length===1},enumerable:!1,configurable:!0}),s.prototype.setTeXclass=function(a){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(a)},s.prototype.adjustTeXclass=function(a){return a},s.defaults=x({},y.AbstractMmlBaseNode.defaults),s}(y.AbstractMmlBaseNode);e.TeXAtom=f,f.prototype.adjustTeXclass=d.MmlMo.prototype.adjustTeXclass},9145:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMaction=void 0;var y=v(9007),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"maction"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"selected",{get:function(){var s=this.attributes.get("selection"),a=Math.max(1,Math.min(this.childNodes.length,s))-1;return this.childNodes[a]||this.factory.create("mrow")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isEmbellished",{get:function(){return this.selected.isEmbellished},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isSpacelike",{get:function(){return this.selected.isSpacelike},enumerable:!1,configurable:!0}),c.prototype.core=function(){return this.selected.core()},c.prototype.coreMO=function(){return this.selected.coreMO()},c.prototype.verifyAttributes=function(s){f.prototype.verifyAttributes.call(this,s),this.attributes.get("actiontype")!=="toggle"&&this.attributes.getExplicit("selection")!==void 0&&delete this.attributes.getAllAttributes().selection},c.prototype.setTeXclass=function(s){this.attributes.get("actiontype")==="tooltip"&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);var a=this.selected;return s=a.setTeXclass(s),this.updateTeXclass(a),s},c.prototype.nextToggleSelection=function(){var s=Math.max(1,this.attributes.get("selection")+1);s>this.childNodes.length&&(s=1),this.attributes.set("selection",s)},c.defaults=x(x({},y.AbstractMmlNode.defaults),{actiontype:"toggle",selection:1}),c}(y.AbstractMmlNode);e.MmlMaction=d},142:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__assign||function(){return x=Object.assign||function(c){for(var s,a=1,o=arguments.length;a<o;a++)for(var l in s=arguments[a])Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=s[l]);return c},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMaligngroup=void 0;var y=v(9007),d=v(91),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),Object.defineProperty(s.prototype,"kind",{get:function(){return"maligngroup"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.setChildInheritedAttributes=function(a,o,l,u){a=this.addInheritedAttributes(a,this.attributes.getAllAttributes()),c.prototype.setChildInheritedAttributes.call(this,a,o,l,u)},s.defaults=x(x({},y.AbstractMmlLayoutNode.defaults),{groupalign:d.INHERIT}),s}(y.AbstractMmlLayoutNode);e.MmlMaligngroup=f},7590:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMalignmark=void 0;var y=v(9007),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"malignmark"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),c.defaults=x(x({},y.AbstractMmlNode.defaults),{edge:"left"}),c}(y.AbstractMmlNode);e.MmlMalignmark=d},3233:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMath=void 0;var y=v(9007),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"math"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.setChildInheritedAttributes=function(s,a,o,l){this.attributes.get("mode")==="display"&&this.attributes.setInherited("display","block"),s=this.addInheritedAttributes(s,this.attributes.getAllAttributes()),a=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&this.attributes.get("display")==="block",this.attributes.setInherited("displaystyle",a),o=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,f.prototype.setChildInheritedAttributes.call(this,s,a,o,l)},c.defaults=x(x({},y.AbstractMmlLayoutNode.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:"8px",infixlinebreakstyle:"before",lineleading:"1ex",linebreakmultchar:"",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),c}(y.AbstractMmlLayoutNode);e.MmlMath=d},1334:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MathChoice=void 0;var y=v(9007),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"MathChoice"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return 4},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.setInheritedAttributes=function(s,a,o,l){var u=a?0:Math.max(0,Math.min(o,2))+1,p=this.childNodes[u]||this.factory.create("mrow");this.parent.replaceChild(p,this),p.setInheritedAttributes(s,a,o,l)},c.defaults=x({},y.AbstractMmlBaseNode.defaults),c}(y.AbstractMmlBaseNode);e.MathChoice=d},6661:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMenclose=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"menclose"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"linebreakContininer",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.setTeXclass=function(s){return s=this.childNodes[0].setTeXclass(s),this.updateTeXclass(this.childNodes[0]),s},c.defaults=x(x({},y.AbstractMmlNode.defaults),{notation:"longdiv"}),c}(y.AbstractMmlNode);e.MmlMenclose=d},1581:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMerror=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"merror"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),c.defaults=x({},y.AbstractMmlNode.defaults),c}(y.AbstractMmlNode);e.MmlMerror=d},5410:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__assign||function(){return x=Object.assign||function(c){for(var s,a=1,o=arguments.length;a<o;a++)for(var l in s=arguments[a])Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=s[l]);return c},x.apply(this,arguments)},y=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMfenced=void 0;var d=v(9007),f=function(c){function s(){var a=c!==null&&c.apply(this,arguments)||this;return a.texclass=d.TEXCLASS.INNER,a.separators=[],a.open=null,a.close=null,a}return C(s,c),Object.defineProperty(s.prototype,"kind",{get:function(){return"mfenced"},enumerable:!1,configurable:!0}),s.prototype.setTeXclass=function(a){this.getPrevClass(a),this.open&&(a=this.open.setTeXclass(a)),this.childNodes[0]&&(a=this.childNodes[0].setTeXclass(a));for(var o=1,l=this.childNodes.length;o<l;o++)this.separators[o-1]&&(a=this.separators[o-1].setTeXclass(a)),this.childNodes[o]&&(a=this.childNodes[o].setTeXclass(a));return this.close&&(a=this.close.setTeXclass(a)),this.updateTeXclass(this.open),a},s.prototype.setChildInheritedAttributes=function(a,o,l,u){var p,h;this.addFakeNodes();try{for(var m=y([this.open,this.close].concat(this.separators)),g=m.next();!g.done;g=m.next()){var E=g.value;E&&E.setInheritedAttributes(a,o,l,u)}}catch(S){p={error:S}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}c.prototype.setChildInheritedAttributes.call(this,a,o,l,u)},s.prototype.addFakeNodes=function(){var a,o,l=this.attributes.getList("open","close","separators"),u=l.open,p=l.close,h=l.separators;if(u=u.replace(/[ \t\n\r]/g,""),p=p.replace(/[ \t\n\r]/g,""),h=h.replace(/[ \t\n\r]/g,""),u&&(this.open=this.fakeNode(u,{fence:!0,form:"prefix"},d.TEXCLASS.OPEN)),h){for(;h.length<this.childNodes.length-1;)h+=h.charAt(h.length-1);var m=0;try{for(var g=y(this.childNodes.slice(1)),E=g.next();!E.done;E=g.next())E.value&&this.separators.push(this.fakeNode(h.charAt(m++)))}catch(S){a={error:S}}finally{try{E&&!E.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}}p&&(this.close=this.fakeNode(p,{fence:!0,form:"postfix"},d.TEXCLASS.CLOSE))},s.prototype.fakeNode=function(a,o,l){o===void 0&&(o={}),l===void 0&&(l=null);var u=this.factory.create("text").setText(a),p=this.factory.create("mo",o,[u]);return p.texClass=l,p.parent=this,p},s.defaults=x(x({},d.AbstractMmlNode.defaults),{open:"(",close:")",separators:","}),s}(d.AbstractMmlNode);e.MmlMfenced=f},6850:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__assign||function(){return x=Object.assign||function(c){for(var s,a=1,o=arguments.length;a<o;a++)for(var l in s=arguments[a])Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=s[l]);return c},x.apply(this,arguments)},y=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMfrac=void 0;var d=v(9007),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),Object.defineProperty(s.prototype,"kind",{get:function(){return"mfrac"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.setTeXclass=function(a){var o,l;this.getPrevClass(a);try{for(var u=y(this.childNodes),p=u.next();!p.done;p=u.next())p.value.setTeXclass(null)}catch(h){o={error:h}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}return this},s.prototype.setChildInheritedAttributes=function(a,o,l,u){(!o||l>0)&&l++,this.childNodes[0].setInheritedAttributes(a,!1,l,u),this.childNodes[1].setInheritedAttributes(a,!1,l,!0)},s.defaults=x(x({},d.AbstractMmlBaseNode.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1}),s}(d.AbstractMmlBaseNode);e.MmlMfrac=f},3985:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMglyph=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"mglyph"},enumerable:!1,configurable:!0}),c.prototype.verifyAttributes=function(s){var a=this.attributes.getList("src","fontfamily","index"),o=a.src,l=a.fontfamily,u=a.index;o!==""||l!==""&&u!==""?f.prototype.verifyAttributes.call(this,s):this.mError("mglyph must have either src or fontfamily and index attributes",s,!0)},c.defaults=x(x({},y.AbstractMmlTokenNode.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"}),c}(y.AbstractMmlTokenNode);e.MmlMglyph=d},450:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMi=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"mi"},enumerable:!1,configurable:!0}),c.prototype.setInheritedAttributes=function(s,a,o,l){s===void 0&&(s={}),a===void 0&&(a=!1),o===void 0&&(o=0),l===void 0&&(l=!1),f.prototype.setInheritedAttributes.call(this,s,a,o,l),this.getText().match(c.singleCharacter)&&!s.mathvariant&&this.attributes.setInherited("mathvariant","italic")},c.prototype.setTeXclass=function(s){this.getPrevClass(s);var a=this.getText();return a.length>1&&a.match(c.operatorName)&&this.attributes.get("mathvariant")==="normal"&&this.getProperty("autoOP")===void 0&&this.getProperty("texClass")===void 0&&(this.texClass=y.TEXCLASS.OP,this.setProperty("autoOP",!0)),this},c.defaults=x({},y.AbstractMmlTokenNode.defaults),c.operatorName=/^[a-z][a-z0-9]*$/i,c.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/,c}(y.AbstractMmlTokenNode);e.MmlMi=d},6405:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])},M(a,o)},function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),x=this&&this.__assign||function(){return x=Object.assign||function(a){for(var o,l=1,u=arguments.length;l<u;l++)for(var p in o=arguments[l])Object.prototype.hasOwnProperty.call(o,p)&&(a[p]=o[p]);return a},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlNone=e.MmlMprescripts=e.MmlMmultiscripts=void 0;var y=v(9007),d=v(4461),f=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),Object.defineProperty(o.prototype,"kind",{get:function(){return"mmultiscripts"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),o.prototype.setChildInheritedAttributes=function(l,u,p,h){this.childNodes[0].setInheritedAttributes(l,u,p,h);for(var m=!1,g=1,E=0;g<this.childNodes.length;g++){var S=this.childNodes[g];if(S.isKind("mprescripts")){if(!m&&(m=!0,g%2==0)){var O=this.factory.create("mrow");this.childNodes.splice(g,0,O),O.parent=this,g++}}else{var A=h||E%2==0;S.setInheritedAttributes(l,!1,p+1,A),E++}}this.childNodes.length%2==(m?1:0)&&(this.appendChild(this.factory.create("mrow")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(l,!1,p+1,h))},o.prototype.verifyChildren=function(l){for(var u=!1,p=l.fixMmultiscripts,h=0;h<this.childNodes.length;h++){var m=this.childNodes[h];m.isKind("mprescripts")&&(u?m.mError(m.kind+" can only appear once in "+this.kind,l,!0):(u=!0,h%2!=0||p||this.mError("There must be an equal number of prescripts of each type",l)))}this.childNodes.length%2!=(u?1:0)||p||this.mError("There must be an equal number of scripts of each type",l),a.prototype.verifyChildren.call(this,l)},o.defaults=x({},d.MmlMsubsup.defaults),o}(d.MmlMsubsup);e.MmlMmultiscripts=f;var c=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),Object.defineProperty(o.prototype,"kind",{get:function(){return"mprescripts"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),o.prototype.verifyTree=function(l){a.prototype.verifyTree.call(this,l),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",l,!0)},o.defaults=x({},y.AbstractMmlNode.defaults),o}(y.AbstractMmlNode);e.MmlMprescripts=c;var s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),Object.defineProperty(o.prototype,"kind",{get:function(){return"none"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),o.prototype.verifyTree=function(l){a.prototype.verifyTree.call(this,l),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",l,!0)},o.defaults=x({},y.AbstractMmlNode.defaults),o}(y.AbstractMmlNode);e.MmlNone=s},3050:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMn=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"mn"},enumerable:!1,configurable:!0}),c.defaults=x({},y.AbstractMmlTokenNode.defaults),c}(y.AbstractMmlTokenNode);e.MmlMn=d},2756:function(R,e,v){var M,C=this&&this.__extends||(M=function(o,l){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(u[h]=p[h])},M(o,l)},function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=o}M(o,l),o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),x=this&&this.__assign||function(){return x=Object.assign||function(o){for(var l,u=1,p=arguments.length;u<p;u++)for(var h in l=arguments[u])Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h]);return o},x.apply(this,arguments)},y=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g},d=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMo=void 0;var f=v(9007),c=v(4082),s=v(505),a=function(o){function l(){var u=o!==null&&o.apply(this,arguments)||this;return u._texClass=null,u.lspace=5/18,u.rspace=5/18,u}return C(l,o),Object.defineProperty(l.prototype,"texClass",{get:function(){if(this._texClass===null){var u=this.getText(),p=y(this.handleExplicitForm(this.getForms()),3),h=p[0],m=p[1],g=p[2],E=this.constructor.OPTABLE,S=E[h][u]||E[m][u]||E[g][u];return S?S[2]:f.TEXCLASS.REL}return this._texClass},set:function(u){this._texClass=u},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"kind",{get:function(){return"mo"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isEmbellished",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasNewLine",{get:function(){return this.attributes.get("linebreak")==="newline"},enumerable:!1,configurable:!0}),l.prototype.coreParent=function(){for(var u=this,p=this,h=this.factory.getNodeClass("math");p&&p.isEmbellished&&p.coreMO()===this&&!(p instanceof h);)u=p,p=p.parent;return u},l.prototype.coreText=function(u){if(!u)return"";if(u.isEmbellished)return u.coreMO().getText();for(;((u.isKind("mrow")||u.isKind("TeXAtom")&&u.texClass!==f.TEXCLASS.VCENTER||u.isKind("mstyle")||u.isKind("mphantom"))&&u.childNodes.length===1||u.isKind("munderover"))&&u.childNodes[0];)u=u.childNodes[0];return u.isToken?u.getText():""},l.prototype.hasSpacingAttributes=function(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")},Object.defineProperty(l.prototype,"isAccent",{get:function(){var u=!1,p=this.coreParent().parent;if(p){var h=p.isKind("mover")?p.childNodes[p.over].coreMO()?"accent":"":p.isKind("munder")?p.childNodes[p.under].coreMO()?"accentunder":"":p.isKind("munderover")?this===p.childNodes[p.over].coreMO()?"accent":this===p.childNodes[p.under].coreMO()?"accentunder":"":"";h&&(u=p.attributes.getExplicit(h)!==void 0?u:this.attributes.get("accent"))}return u},enumerable:!1,configurable:!0}),l.prototype.setTeXclass=function(u){var p=this.attributes.getList("form","fence"),h=p.form,m=p.fence;return this.getProperty("texClass")===void 0&&(this.attributes.isSet("lspace")||this.attributes.isSet("rspace"))?null:(m&&this.texClass===f.TEXCLASS.REL&&(h==="prefix"&&(this.texClass=f.TEXCLASS.OPEN),h==="postfix"&&(this.texClass=f.TEXCLASS.CLOSE)),this.adjustTeXclass(u))},l.prototype.adjustTeXclass=function(u){var p=this.texClass,h=this.prevClass;if(p===f.TEXCLASS.NONE)return u;if(u?(!u.getProperty("autoOP")||p!==f.TEXCLASS.BIN&&p!==f.TEXCLASS.REL||(h=u.texClass=f.TEXCLASS.ORD),h=this.prevClass=u.texClass||f.TEXCLASS.ORD,this.prevLevel=this.attributes.getInherited("scriptlevel")):h=this.prevClass=f.TEXCLASS.NONE,p!==f.TEXCLASS.BIN||h!==f.TEXCLASS.NONE&&h!==f.TEXCLASS.BIN&&h!==f.TEXCLASS.OP&&h!==f.TEXCLASS.REL&&h!==f.TEXCLASS.OPEN&&h!==f.TEXCLASS.PUNCT)if(h!==f.TEXCLASS.BIN||p!==f.TEXCLASS.REL&&p!==f.TEXCLASS.CLOSE&&p!==f.TEXCLASS.PUNCT){if(p===f.TEXCLASS.BIN){for(var m=this,g=this.parent;g&&g.parent&&g.isEmbellished&&(g.childNodes.length===1||!g.isKind("mrow")&&g.core()===m);)m=g,g=g.parent;g.childNodes[g.childNodes.length-1]===m&&(this.texClass=f.TEXCLASS.ORD)}}else u.texClass=this.prevClass=f.TEXCLASS.ORD;else this.texClass=f.TEXCLASS.ORD;return this},l.prototype.setInheritedAttributes=function(u,p,h,m){u===void 0&&(u={}),p===void 0&&(p=!1),h===void 0&&(h=0),m===void 0&&(m=!1),o.prototype.setInheritedAttributes.call(this,u,p,h,m);var g=this.getText();this.checkOperatorTable(g),this.checkPseudoScripts(g),this.checkPrimes(g),this.checkMathAccent(g)},l.prototype.checkOperatorTable=function(u){var p,h,m=y(this.handleExplicitForm(this.getForms()),3),g=m[0],E=m[1],S=m[2];this.attributes.setInherited("form",g);var O=this.constructor.OPTABLE,A=O[g][u]||O[E][u]||O[S][u];if(A){this.getProperty("texClass")===void 0&&(this.texClass=A[2]);try{for(var _=d(Object.keys(A[3]||{})),T=_.next();!T.done;T=_.next()){var N=T.value;this.attributes.setInherited(N,A[3][N])}}catch(I){p={error:I}}finally{try{T&&!T.done&&(h=_.return)&&h.call(_)}finally{if(p)throw p.error}}this.lspace=(A[0]+1)/18,this.rspace=(A[1]+1)/18}else{var w=(0,c.getRange)(u);if(w){this.getProperty("texClass")===void 0&&(this.texClass=w[2]);var L=this.constructor.MMLSPACING[w[2]];this.lspace=(L[0]+1)/18,this.rspace=(L[1]+1)/18}}},l.prototype.getForms=function(){for(var u=this,p=this.parent,h=this.Parent;h&&h.isEmbellished;)u=p,p=h.parent,h=h.Parent;if(p&&p.isKind("mrow")&&p.nonSpaceLength()!==1){if(p.firstNonSpace()===u)return["prefix","infix","postfix"];if(p.lastNonSpace()===u)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]},l.prototype.handleExplicitForm=function(u){if(this.attributes.isSet("form")){var p=this.attributes.get("form");u=[p].concat(u.filter(function(h){return h!==p}))}return u},l.prototype.checkPseudoScripts=function(u){var p=this.constructor.pseudoScripts;if(u.match(p)){var h=this.coreParent().Parent,m=!h||!(h.isKind("msubsup")&&!h.isKind("msub"));this.setProperty("pseudoscript",m),m&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}},l.prototype.checkPrimes=function(u){var p=this.constructor.primes;if(u.match(p)){var h=this.constructor.remapPrimes,m=(0,s.unicodeString)((0,s.unicodeChars)(u).map(function(g){return h[g]}));this.setProperty("primes",m)}},l.prototype.checkMathAccent=function(u){var p=this.Parent;if(this.getProperty("mathaccent")===void 0&&p&&p.isKind("munderover")){var h=p.childNodes[0];if(!h.isEmbellished||h.coreMO()!==this){var m=this.constructor.mathaccents;u.match(m)&&this.setProperty("mathaccent",!0)}}},l.defaults=x(x({},f.AbstractMmlTokenNode.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"1ex",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),l.MMLSPACING=c.MMLSPACING,l.OPTABLE=c.OPTABLE,l.pseudoScripts=new RegExp(["^[\"'*`","","","-","","","-","-","","-","-","]+$"].join("")),l.primes=new RegExp(["^[\"'`","-","]+$"].join("")),l.remapPrimes={34:8243,39:8242,96:8245,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},l.mathaccents=new RegExp(["^[","","`","","~","","","","^","","","","","","]$"].join("")),l}(f.AbstractMmlTokenNode);e.MmlMo=a},7238:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMpadded=void 0;var y=v(9007),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"mpadded"},enumerable:!1,configurable:!0}),c.defaults=x(x({},y.AbstractMmlLayoutNode.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0}),c}(y.AbstractMmlLayoutNode);e.MmlMpadded=d},5741:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMphantom=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"mphantom"},enumerable:!1,configurable:!0}),c.defaults=x({},y.AbstractMmlLayoutNode.defaults),c}(y.AbstractMmlLayoutNode);e.MmlMphantom=d},6145:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMroot=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"mroot"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),c.prototype.setTeXclass=function(s){return this.getPrevClass(s),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this},c.prototype.setChildInheritedAttributes=function(s,a,o,l){this.childNodes[0].setInheritedAttributes(s,a,o,!0),this.childNodes[1].setInheritedAttributes(s,!1,o+2,l)},c.defaults=x({},y.AbstractMmlNode.defaults),c}(y.AbstractMmlNode);e.MmlMroot=d},9878:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__assign||function(){return x=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var u in a=arguments[o])Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s},x.apply(this,arguments)},y=this&&this.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,o=a&&s[a],l=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlInferredMrow=e.MmlMrow=void 0;var d=v(9007),f=function(s){function a(){var o=s!==null&&s.apply(this,arguments)||this;return o._core=null,o}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"mrow"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isSpacelike",{get:function(){var o,l;try{for(var u=y(this.childNodes),p=u.next();!p.done;p=u.next())if(!p.value.isSpacelike)return!1}catch(h){o={error:h}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isEmbellished",{get:function(){var o,l,u=!1,p=0;try{for(var h=y(this.childNodes),m=h.next();!m.done;m=h.next()){var g=m.value;if(g){if(g.isEmbellished){if(u)return!1;u=!0,this._core=p}else if(!g.isSpacelike)return!1}p++}}catch(E){o={error:E}}finally{try{m&&!m.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}return u},enumerable:!1,configurable:!0}),a.prototype.core=function(){return this.isEmbellished&&this._core!=null?this.childNodes[this._core]:this},a.prototype.coreMO=function(){return this.isEmbellished&&this._core!=null?this.childNodes[this._core].coreMO():this},a.prototype.nonSpaceLength=function(){var o,l,u=0;try{for(var p=y(this.childNodes),h=p.next();!h.done;h=p.next()){var m=h.value;m&&!m.isSpacelike&&u++}}catch(g){o={error:g}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(o)throw o.error}}return u},a.prototype.firstNonSpace=function(){var o,l;try{for(var u=y(this.childNodes),p=u.next();!p.done;p=u.next()){var h=p.value;if(h&&!h.isSpacelike)return h}}catch(m){o={error:m}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}return null},a.prototype.lastNonSpace=function(){for(var o=this.childNodes.length;--o>=0;){var l=this.childNodes[o];if(l&&!l.isSpacelike)return l}return null},a.prototype.setTeXclass=function(o){var l,u,p,h;if(this.getProperty("open")!=null||this.getProperty("close")!=null){this.getPrevClass(o),o=null;try{for(var m=y(this.childNodes),g=m.next();!g.done;g=m.next())o=g.value.setTeXclass(o)}catch(O){l={error:O}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(l)throw l.error}}this.texClass==null&&(this.texClass=d.TEXCLASS.INNER)}else{try{for(var E=y(this.childNodes),S=E.next();!S.done;S=E.next())o=S.value.setTeXclass(o)}catch(O){p={error:O}}finally{try{S&&!S.done&&(h=E.return)&&h.call(E)}finally{if(p)throw p.error}}this.childNodes[0]&&this.updateTeXclass(this.childNodes[0])}return o},a.defaults=x({},d.AbstractMmlNode.defaults),a}(d.AbstractMmlNode);e.MmlMrow=f;var c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"inferredMrow"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isInferred",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.toString=function(){return"["+this.childNodes.join(",")+"]"},a.defaults=f.defaults,a}(f);e.MmlInferredMrow=c},7265:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMs=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"ms"},enumerable:!1,configurable:!0}),c.defaults=x(x({},y.AbstractMmlTokenNode.defaults),{lquote:'"',rquote:'"'}),c}(y.AbstractMmlTokenNode);e.MmlMs=d},6030:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMspace=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.NONE,s}return C(c,f),c.prototype.setTeXclass=function(s){return s},Object.defineProperty(c.prototype,"kind",{get:function(){return"mspace"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasNewline",{get:function(){var s=this.attributes;return s.getExplicit("width")==null&&s.getExplicit("height")==null&&s.getExplicit("depth")==null&&s.get("linebreak")==="newline"},enumerable:!1,configurable:!0}),c.defaults=x(x({},y.AbstractMmlTokenNode.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto"}),c}(y.AbstractMmlTokenNode);e.MmlMspace=d},7131:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMsqrt=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"msqrt"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.setTeXclass=function(s){return this.getPrevClass(s),this.childNodes[0].setTeXclass(null),this},c.prototype.setChildInheritedAttributes=function(s,a,o,l){this.childNodes[0].setInheritedAttributes(s,a,o,!0)},c.defaults=x({},y.AbstractMmlNode.defaults),c}(y.AbstractMmlNode);e.MmlMsqrt=d},1314:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__assign||function(){return x=Object.assign||function(c){for(var s,a=1,o=arguments.length;a<o;a++)for(var l in s=arguments[a])Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=s[l]);return c},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMstyle=void 0;var y=v(9007),d=v(91),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),Object.defineProperty(s.prototype,"kind",{get:function(){return"mstyle"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"notParent",{get:function(){return this.childNodes[0]&&this.childNodes[0].childNodes.length===1},enumerable:!1,configurable:!0}),s.prototype.setChildInheritedAttributes=function(a,o,l,u){var p=this.attributes.getExplicit("scriptlevel");p!=null&&((p=p.toString()).match(/^\s*[-+]/)?l+=parseInt(p):l=parseInt(p),u=!1);var h=this.attributes.getExplicit("displaystyle");h!=null&&(o=h===!0,u=!1);var m=this.attributes.getExplicit("data-cramped");m!=null&&(u=m),a=this.addInheritedAttributes(a,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(a,o,l,u)},s.defaults=x(x({},y.AbstractMmlLayoutNode.defaults),{scriptlevel:d.INHERIT,displaystyle:d.INHERIT,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:"8px",mathbackground:d.INHERIT,mathcolor:d.INHERIT,dir:d.INHERIT,infixlinebreakstyle:"before"}),s}(y.AbstractMmlLayoutNode);e.MmlMstyle=f},4461:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__assign||function(){return x=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var u in a=arguments[o])Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMsup=e.MmlMsub=e.MmlMsubsup=void 0;var y=v(9007),d=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"msubsup"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sub",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sup",{get:function(){return 2},enumerable:!1,configurable:!0}),a.prototype.setChildInheritedAttributes=function(o,l,u,p){var h=this.childNodes;h[0].setInheritedAttributes(o,l,u,p),h[1].setInheritedAttributes(o,!1,u+1,p||this.sub===1),h[2]&&h[2].setInheritedAttributes(o,!1,u+1,p||this.sub===2)},a.defaults=x(x({},y.AbstractMmlBaseNode.defaults),{subscriptshift:"",superscriptshift:""}),a}(y.AbstractMmlBaseNode);e.MmlMsubsup=d;var f=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"msub"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),a.defaults=x({},d.defaults),a}(d);e.MmlMsub=f;var c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"msup"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sup",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sub",{get:function(){return 2},enumerable:!1,configurable:!0}),a.defaults=x({},d.defaults),a}(d);e.MmlMsup=c},1349:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__assign||function(){return x=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var u in a=arguments[o])Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s},x.apply(this,arguments)},y=this&&this.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,o=a&&s[a],l=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMtable=void 0;var d=v(9007),f=v(505),c=function(s){function a(){var o=s!==null&&s.apply(this,arguments)||this;return o.properties={useHeight:!0},o.texclass=d.TEXCLASS.ORD,o}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"mtable"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.setInheritedAttributes=function(o,l,u,p){var h,m;try{for(var g=y(d.indentAttributes),E=g.next();!E.done;E=g.next()){var S=E.value;o[S]&&this.attributes.setInherited(S,o[S][1]),this.attributes.getExplicit(S)!==void 0&&delete this.attributes.getAllAttributes()[S]}}catch(O){h={error:O}}finally{try{E&&!E.done&&(m=g.return)&&m.call(g)}finally{if(h)throw h.error}}s.prototype.setInheritedAttributes.call(this,o,l,u,p)},a.prototype.setChildInheritedAttributes=function(o,l,u,p){var h,m,g,E;try{for(var S=y(this.childNodes),O=S.next();!O.done;O=S.next())(w=O.value).isKind("mtr")||this.replaceChild(this.factory.create("mtr"),w).appendChild(w)}catch(L){h={error:L}}finally{try{O&&!O.done&&(m=S.return)&&m.call(S)}finally{if(h)throw h.error}}u=this.getProperty("scriptlevel")||u,l=!(!this.attributes.getExplicit("displaystyle")&&!this.attributes.getDefault("displaystyle")),o=this.addInheritedAttributes(o,{columnalign:this.attributes.get("columnalign"),rowalign:"center"});var A=this.attributes.getExplicit("data-cramped"),_=(0,f.split)(this.attributes.get("rowalign"));try{for(var T=y(this.childNodes),N=T.next();!N.done;N=T.next()){var w=N.value;o.rowalign[1]=_.shift()||o.rowalign[1],w.setInheritedAttributes(o,l,u,!!A)}}catch(L){g={error:L}}finally{try{N&&!N.done&&(E=T.return)&&E.call(T)}finally{if(g)throw g.error}}},a.prototype.verifyChildren=function(o){for(var l=null,u=this.factory,p=0;p<this.childNodes.length;p++){var h=this.childNodes[p];if(h.isKind("mtr"))l=null;else{var m=h.isKind("mtd");if(l?(this.removeChild(h),p--):l=this.replaceChild(u.create("mtr"),h),l.appendChild(m?h:u.create("mtd",{},[h])),!o.fixMtables){h.parent.removeChild(h),h.parent=this,m&&l.appendChild(u.create("mtd"));var g=h.mError("Children of "+this.kind+" must be mtr or mlabeledtr",o,m);l.childNodes[l.childNodes.length-1].appendChild(g)}}}s.prototype.verifyChildren.call(this,o)},a.prototype.setTeXclass=function(o){var l,u;this.getPrevClass(o);try{for(var p=y(this.childNodes),h=p.next();!h.done;h=p.next())h.value.setTeXclass(null)}catch(m){l={error:m}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}return this},a.defaults=x(x({},d.AbstractMmlNode.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em"}),a}(d.AbstractMmlNode);e.MmlMtable=c},4359:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__assign||function(){return x=Object.assign||function(c){for(var s,a=1,o=arguments.length;a<o;a++)for(var l in s=arguments[a])Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=s[l]);return c},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMtd=void 0;var y=v(9007),d=v(91),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),Object.defineProperty(s.prototype,"kind",{get:function(){return"mtd"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.verifyChildren=function(a){!this.parent||this.parent.isKind("mtr")?c.prototype.verifyChildren.call(this,a):this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",a,!0)},s.prototype.setTeXclass=function(a){return this.getPrevClass(a),this.childNodes[0].setTeXclass(null),this},s.defaults=x(x({},y.AbstractMmlBaseNode.defaults),{rowspan:1,columnspan:1,rowalign:d.INHERIT,columnalign:d.INHERIT,groupalign:d.INHERIT}),s}(y.AbstractMmlBaseNode);e.MmlMtd=f},4770:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__assign||function(){return x=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMtext=void 0;var y=v(9007),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.texclass=y.TEXCLASS.ORD,s}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"mtext"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),c.defaults=x({},y.AbstractMmlTokenNode.defaults),c}(y.AbstractMmlTokenNode);e.MmlMtext=d},5022:function(R,e,v){var M,C=this&&this.__extends||(M=function(o,l){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(u[h]=p[h])},M(o,l)},function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=o}M(o,l),o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),x=this&&this.__assign||function(){return x=Object.assign||function(o){for(var l,u=1,p=arguments.length;u<p;u++)for(var h in l=arguments[u])Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h]);return o},x.apply(this,arguments)},y=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMlabeledtr=e.MmlMtr=void 0;var d=v(9007),f=v(91),c=v(505),s=function(o){function l(){return o!==null&&o.apply(this,arguments)||this}return C(l,o),Object.defineProperty(l.prototype,"kind",{get:function(){return"mtr"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),l.prototype.setChildInheritedAttributes=function(u,p,h,m){var g,E,S,O;try{for(var A=y(this.childNodes),_=A.next();!_.done;_=A.next())(L=_.value).isKind("mtd")||this.replaceChild(this.factory.create("mtd"),L).appendChild(L)}catch(I){g={error:I}}finally{try{_&&!_.done&&(E=A.return)&&E.call(A)}finally{if(g)throw g.error}}var T=(0,c.split)(this.attributes.get("columnalign"));this.arity===1&&T.unshift(this.parent.attributes.get("side")),u=this.addInheritedAttributes(u,{rowalign:this.attributes.get("rowalign"),columnalign:"center"});try{for(var N=y(this.childNodes),w=N.next();!w.done;w=N.next()){var L=w.value;u.columnalign[1]=T.shift()||u.columnalign[1],L.setInheritedAttributes(u,p,h,m)}}catch(I){S={error:I}}finally{try{w&&!w.done&&(O=N.return)&&O.call(N)}finally{if(S)throw S.error}}},l.prototype.verifyChildren=function(u){var p,h;if(!this.parent||this.parent.isKind("mtable")){try{for(var m=y(this.childNodes),g=m.next();!g.done;g=m.next()){var E=g.value;E.isKind("mtd")||(this.replaceChild(this.factory.create("mtd"),E).appendChild(E),u.fixMtables||E.mError("Children of "+this.kind+" must be mtd",u))}}catch(S){p={error:S}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}o.prototype.verifyChildren.call(this,u)}else this.mError(this.kind+" can only be a child of an mtable",u,!0)},l.prototype.setTeXclass=function(u){var p,h;this.getPrevClass(u);try{for(var m=y(this.childNodes),g=m.next();!g.done;g=m.next())g.value.setTeXclass(null)}catch(E){p={error:E}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}return this},l.defaults=x(x({},d.AbstractMmlNode.defaults),{rowalign:f.INHERIT,columnalign:f.INHERIT,groupalign:f.INHERIT}),l}(d.AbstractMmlNode);e.MmlMtr=s;var a=function(o){function l(){return o!==null&&o.apply(this,arguments)||this}return C(l,o),Object.defineProperty(l.prototype,"kind",{get:function(){return"mlabeledtr"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),l}(s);e.MmlMlabeledtr=a},5184:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__assign||function(){return x=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var u in a=arguments[o])Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlMover=e.MmlMunder=e.MmlMunderover=void 0;var y=v(9007),d=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"munderover"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"under",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"over",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.setChildInheritedAttributes=function(o,l,u,p){var h=this.childNodes;h[0].setInheritedAttributes(o,l,u,p||!!h[this.over]);var m=!(l||!h[0].coreMO().attributes.get("movablelimits")),g=this.constructor.ACCENTS;h[1].setInheritedAttributes(o,!1,this.getScriptlevel(g[1],m,u),p||this.under===1),this.setInheritedAccent(1,g[1],l,u,p,m),h[2]&&(h[2].setInheritedAttributes(o,!1,this.getScriptlevel(g[2],m,u),p||this.under===2),this.setInheritedAccent(2,g[2],l,u,p,m))},a.prototype.getScriptlevel=function(o,l,u){return!l&&this.attributes.get(o)||u++,u},a.prototype.setInheritedAccent=function(o,l,u,p,h,m){var g=this.childNodes[o];if(this.attributes.getExplicit(l)==null&&g.isEmbellished){var E=g.coreMO().attributes.get("accent");this.attributes.setInherited(l,E),E!==this.attributes.getDefault(l)&&g.setInheritedAttributes({},u,this.getScriptlevel(l,m,p),h)}},a.defaults=x(x({},y.AbstractMmlBaseNode.defaults),{accent:!1,accentunder:!1,align:"center"}),a.ACCENTS=["","accentunder","accent"],a}(y.AbstractMmlBaseNode);e.MmlMunderover=d;var f=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"munder"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),a.defaults=x({},d.defaults),a}(d);e.MmlMunder=f;var c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"mover"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"over",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"under",{get:function(){return 2},enumerable:!1,configurable:!0}),a.defaults=x({},d.defaults),a.ACCENTS=["","accent","accentunder"],a}(d);e.MmlMover=c},9102:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__assign||function(){return x=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var u in a=arguments[o])Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.MmlAnnotation=e.MmlAnnotationXML=e.MmlSemantics=void 0;var y=v(9007),d=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"semantics"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),a.defaults=x(x({},y.AbstractMmlBaseNode.defaults),{definitionUrl:null,encoding:null}),a}(y.AbstractMmlBaseNode);e.MmlSemantics=d;var f=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"annotation-xml"},enumerable:!1,configurable:!0}),a.prototype.setChildInheritedAttributes=function(){},a.defaults=x(x({},y.AbstractMmlNode.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null}),a}(y.AbstractMmlNode);e.MmlAnnotationXML=f;var c=function(s){function a(){var o=s!==null&&s.apply(this,arguments)||this;return o.properties={isChars:!0},o}return C(a,s),Object.defineProperty(a.prototype,"kind",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),a.defaults=x({},f.defaults),a}(f);e.MmlAnnotation=c},6325:function(R,e,v){var M,C=this&&this.__extends||(M=function(d,f){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},M(d,f)},function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=d}M(d,f),d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.MmlVisitor=void 0;var x=v(3909),y=function(d){function f(c){return c===void 0&&(c=null),c||(c=new x.MmlFactory),d.call(this,c)||this}return C(f,d),f.prototype.visitTextNode=function(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a]},f.prototype.visitXMLNode=function(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a]},f}(v(8823).AbstractVisitor);e.MmlVisitor=y},4082:function(R,e,v){var M=this&&this.__values||function(y){var d=typeof Symbol=="function"&&Symbol.iterator,f=d&&y[d],c=0;if(f)return f.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&c>=y.length&&(y=void 0),{value:y&&y[c++],done:!y}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.OPTABLE=e.MMLSPACING=e.getRange=e.RANGES=e.MO=e.OPDEF=void 0;var C=v(9007);function x(y,d,f,c){return f===void 0&&(f=C.TEXCLASS.BIN),c===void 0&&(c=null),[y,d,f,c]}e.OPDEF=x,e.MO={ORD:x(0,0,C.TEXCLASS.ORD),ORD11:x(1,1,C.TEXCLASS.ORD),ORD21:x(2,1,C.TEXCLASS.ORD),ORD02:x(0,2,C.TEXCLASS.ORD),ORD55:x(5,5,C.TEXCLASS.ORD),NONE:x(0,0,C.TEXCLASS.NONE),OP:x(1,2,C.TEXCLASS.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:x(1,2,C.TEXCLASS.OP,{largeop:!0,movablelimits:!0}),INTEGRAL:x(0,1,C.TEXCLASS.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:x(1,2,C.TEXCLASS.OP,{largeop:!0,symmetric:!0}),BIN3:x(3,3,C.TEXCLASS.BIN),BIN4:x(4,4,C.TEXCLASS.BIN),BIN01:x(0,1,C.TEXCLASS.BIN),BIN5:x(5,5,C.TEXCLASS.BIN),TALLBIN:x(4,4,C.TEXCLASS.BIN,{stretchy:!0}),BINOP:x(4,4,C.TEXCLASS.BIN,{largeop:!0,movablelimits:!0}),REL:x(5,5,C.TEXCLASS.REL),REL1:x(1,1,C.TEXCLASS.REL,{stretchy:!0}),REL4:x(4,4,C.TEXCLASS.REL),RELSTRETCH:x(5,5,C.TEXCLASS.REL,{stretchy:!0}),RELACCENT:x(5,5,C.TEXCLASS.REL,{accent:!0}),WIDEREL:x(5,5,C.TEXCLASS.REL,{accent:!0,stretchy:!0}),OPEN:x(0,0,C.TEXCLASS.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:x(0,0,C.TEXCLASS.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:x(0,0,C.TEXCLASS.INNER),PUNCT:x(0,3,C.TEXCLASS.PUNCT),ACCENT:x(0,0,C.TEXCLASS.ORD,{accent:!0}),WIDEACCENT:x(0,0,C.TEXCLASS.ORD,{accent:!0,stretchy:!0})},e.RANGES=[[32,127,C.TEXCLASS.REL,"mo"],[160,191,C.TEXCLASS.ORD,"mo"],[192,591,C.TEXCLASS.ORD,"mi"],[688,879,C.TEXCLASS.ORD,"mo"],[880,6688,C.TEXCLASS.ORD,"mi"],[6832,6911,C.TEXCLASS.ORD,"mo"],[6912,7615,C.TEXCLASS.ORD,"mi"],[7616,7679,C.TEXCLASS.ORD,"mo"],[7680,8191,C.TEXCLASS.ORD,"mi"],[8192,8303,C.TEXCLASS.ORD,"mo"],[8304,8351,C.TEXCLASS.ORD,"mo"],[8448,8527,C.TEXCLASS.ORD,"mi"],[8528,8591,C.TEXCLASS.ORD,"mn"],[8592,8703,C.TEXCLASS.REL,"mo"],[8704,8959,C.TEXCLASS.BIN,"mo"],[8960,9215,C.TEXCLASS.ORD,"mo"],[9312,9471,C.TEXCLASS.ORD,"mn"],[9472,10223,C.TEXCLASS.ORD,"mo"],[10224,10239,C.TEXCLASS.REL,"mo"],[10240,10495,C.TEXCLASS.ORD,"mtext"],[10496,10623,C.TEXCLASS.REL,"mo"],[10624,10751,C.TEXCLASS.ORD,"mo"],[10752,11007,C.TEXCLASS.BIN,"mo"],[11008,11055,C.TEXCLASS.ORD,"mo"],[11056,11087,C.TEXCLASS.REL,"mo"],[11088,11263,C.TEXCLASS.ORD,"mo"],[11264,11744,C.TEXCLASS.ORD,"mi"],[11776,11903,C.TEXCLASS.ORD,"mo"],[11904,12255,C.TEXCLASS.ORD,"mi","normal"],[12272,12351,C.TEXCLASS.ORD,"mo"],[12352,42143,C.TEXCLASS.ORD,"mi","normal"],[42192,43055,C.TEXCLASS.ORD,"mi"],[43056,43071,C.TEXCLASS.ORD,"mn"],[43072,55295,C.TEXCLASS.ORD,"mi"],[63744,64255,C.TEXCLASS.ORD,"mi","normal"],[64256,65023,C.TEXCLASS.ORD,"mi"],[65024,65135,C.TEXCLASS.ORD,"mo"],[65136,65791,C.TEXCLASS.ORD,"mi"],[65792,65935,C.TEXCLASS.ORD,"mn"],[65936,74751,C.TEXCLASS.ORD,"mi","normal"],[74752,74879,C.TEXCLASS.ORD,"mn"],[74880,113823,C.TEXCLASS.ORD,"mi","normal"],[113824,119391,C.TEXCLASS.ORD,"mo"],[119648,119679,C.TEXCLASS.ORD,"mn"],[119808,120781,C.TEXCLASS.ORD,"mi"],[120782,120831,C.TEXCLASS.ORD,"mn"],[122624,129023,C.TEXCLASS.ORD,"mo"],[129024,129279,C.TEXCLASS.REL,"mo"],[129280,129535,C.TEXCLASS.ORD,"mo"],[131072,195103,C.TEXCLASS.ORD,"mi","normnal"]],e.getRange=function(y){var d,f,c=y.codePointAt(0);try{for(var s=M(e.RANGES),a=s.next();!a.done;a=s.next()){var o=a.value;if(c<=o[1]){if(c>=o[0])return o;break}}}catch(l){d={error:l}}finally{try{a&&!a.done&&(f=s.return)&&f.call(s)}finally{if(d)throw d.error}}return null},e.MMLSPACING=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],e.OPTABLE={prefix:{"(":e.MO.OPEN,"+":e.MO.BIN01,"-":e.MO.BIN01,"[":e.MO.OPEN,"{":e.MO.OPEN,"|":e.MO.OPEN,"||":[0,0,C.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,C.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":e.MO.ORD21,"":e.MO.BIN01,"":[0,0,C.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"":[0,0,C.TEXCLASS.OPEN,{fence:!0}],"":[0,0,C.TEXCLASS.OPEN,{fence:!0}],"":e.MO.ORD21,"":x(2,0,C.TEXCLASS.ORD),"":e.MO.ORD21,"":e.MO.ORD21,"":e.MO.ORD21,"":e.MO.ORD21,"":e.MO.ORD21,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.BIN01,"":e.MO.BIN01,"":[1,1,C.TEXCLASS.ORD,{stretchy:!0}],"":e.MO.ORD11,"":e.MO.ORD11,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":[0,0,C.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OPEN,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.OP,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.INTEGRAL2,"":e.MO.OP,"":e.MO.OP},postfix:{"!!":x(1,0),"!":[1,0,C.TEXCLASS.CLOSE,null],'"':e.MO.ACCENT,"&":e.MO.ORD,")":e.MO.CLOSE,"++":x(0,0),"--":x(0,0),"..":x(0,0),"...":e.MO.ORD,"'":e.MO.ACCENT,"]":e.MO.CLOSE,"^":e.MO.WIDEACCENT,_:e.MO.WIDEACCENT,"`":e.MO.ACCENT,"|":e.MO.CLOSE,"}":e.MO.CLOSE,"~":e.MO.WIDEACCENT,"||":[0,0,C.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,C.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":e.MO.ACCENT,:e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ORD,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,:e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.REL,"":[0,0,C.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"":[0,0,C.TEXCLASS.CLOSE,{fence:!0}],"":e.MO.ACCENT,"":e.MO.ACCENT,"":[0,0,C.TEXCLASS.CLOSE,{fence:!0}],"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ORD,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.ORD02,"":e.MO.ORD02,"":e.MO.ORD02,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":[0,0,C.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE,"":e.MO.CLOSE},infix:{"!=":e.MO.BIN4,"#":e.MO.ORD,$:e.MO.ORD,"%":[3,3,C.TEXCLASS.ORD,null],"&&":e.MO.BIN4,"":e.MO.ORD,"*":e.MO.BIN3,"**":x(1,1),"*=":e.MO.BIN4,"+":e.MO.BIN4,"+=":e.MO.BIN4,",":[0,3,C.TEXCLASS.PUNCT,{linebreakstyle:"after",separator:!0}],"-":e.MO.BIN4,"-=":e.MO.BIN4,"->":e.MO.BIN5,".":[0,3,C.TEXCLASS.PUNCT,{separator:!0}],"/":e.MO.ORD11,"//":x(1,1),"/=":e.MO.BIN4,":":[1,2,C.TEXCLASS.REL,null],":=":e.MO.BIN4,";":[0,3,C.TEXCLASS.PUNCT,{linebreakstyle:"after",separator:!0}],"<":e.MO.REL,"<=":e.MO.BIN5,"<>":x(1,1),"=":e.MO.REL,"==":e.MO.BIN4,">":e.MO.REL,">=":e.MO.BIN5,"?":[1,1,C.TEXCLASS.CLOSE,null],"@":e.MO.ORD11,"\\":e.MO.ORD,"^":e.MO.ORD11,_:e.MO.ORD11,"|":[2,2,C.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,C.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,C.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.ORD,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.ACCENT,"":e.MO.WIDEACCENT,"":e.MO.REL4,"":[0,0,C.TEXCLASS.ORD,{stretchy:!0}],"":[0,0,C.TEXCLASS.ORD,{stretchy:!0}],"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.INNER,"":e.MO.BIN4,"":e.MO.TALLBIN,"":e.MO.NONE,"":e.MO.NONE,"":[0,0,C.TEXCLASS.NONE,{linebreakstyle:"after",separator:!0}],"":e.MO.NONE,"":e.MO.ACCENT,:e.MO.ORD,:e.MO.ORD,"":e.MO.ORD,:e.MO.ORD,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.WIDEREL,"":e.MO.REL,"":e.MO.REL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.REL,"":e.MO.REL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":x(1,2,C.TEXCLASS.ORD),"":e.MO.ORD,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.TALLBIN,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.ORD,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.ORD55,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.ORD55,"":e.MO.INNER,"":e.MO.REL,"":[5,5,C.TEXCLASS.INNER,null],"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL4,"":e.MO.REL4,"":e.MO.OPEN,"":e.MO.CLOSE,"":e.MO.ORD,"":[0,0,C.TEXCLASS.ORD,{stretchy:!0}],"":e.MO.OPEN,"":e.MO.CLOSE,"":e.MO.ORD,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.ORD,"":e.MO.REL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.WIDEREL,"":e.MO.WIDEREL,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.RELACCENT,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN3,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.REL,"":e.MO.BIN4,"":e.MO.BIN4,"":e.MO.BIN3,"":e.MO.RELSTRETCH,"":e.MO.RELSTRETCH,"":e.MO.OPEN,"":e.MO.CLOSE,"":e.MO.WIDEACCENT,"":e.MO.WIDEACCENT}},e.OPTABLE.infix["^"]=e.MO.WIDEREL,e.OPTABLE.infix._=e.MO.WIDEREL,e.OPTABLE.infix[""]=e.MO.REL},9259:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])},M(a,o)},function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),x=this&&this.__values||function(a){var o=typeof Symbol=="function"&&Symbol.iterator,l=o&&a[o],u=0;if(l)return l.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__read||function(a,o){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var u,p,h=l.call(a),m=[];try{for(;(o===void 0||o-- >0)&&!(u=h.next()).done;)m.push(u.value)}catch(g){p={error:g}}finally{try{u&&!u.done&&(l=h.return)&&l.call(h)}finally{if(p)throw p.error}}return m};Object.defineProperty(e,"__esModule",{value:!0}),e.SerializedMmlVisitor=e.toEntity=e.DATAMJX=void 0;var d=v(6325),f=v(9007),c=v(450);e.DATAMJX="data-mjx-",e.toEntity=function(a){return"&#x"+a.codePointAt(0).toString(16).toUpperCase()+";"};var s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),o.prototype.visitTree=function(l){return this.visitNode(l,"")},o.prototype.visitTextNode=function(l,u){return this.quoteHTML(l.getText())},o.prototype.visitXMLNode=function(l,u){return u+l.getSerializedXML()},o.prototype.visitInferredMrowNode=function(l,u){var p,h,m=[];try{for(var g=x(l.childNodes),E=g.next();!E.done;E=g.next()){var S=E.value;m.push(this.visitNode(S,u))}}catch(O){p={error:O}}finally{try{E&&!E.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}return m.join(`
`)},o.prototype.visitTeXAtomNode=function(l,u){var p=this.childNodeMml(l,u+"  ",`
`);return u+"<mrow"+this.getAttributes(l)+">"+(p.match(/\S/)?`
`+p+u:"")+"</mrow>"},o.prototype.visitAnnotationNode=function(l,u){return u+"<annotation"+this.getAttributes(l)+">"+this.childNodeMml(l,"","")+"</annotation>"},o.prototype.visitDefault=function(l,u){var p=l.kind,h=y(l.isToken||l.childNodes.length===0?["",""]:[`
`,u],2),m=h[0],g=h[1],E=this.childNodeMml(l,u+"  ",m);return u+"<"+p+this.getAttributes(l)+">"+(E.match(/\S/)?m+E+g:"")+"</"+p+">"},o.prototype.childNodeMml=function(l,u,p){var h,m,g="";try{for(var E=x(l.childNodes),S=E.next();!S.done;S=E.next()){var O=S.value;g+=this.visitNode(O,u)+p}}catch(A){h={error:A}}finally{try{S&&!S.done&&(m=E.return)&&m.call(E)}finally{if(h)throw h.error}}return g},o.prototype.getAttributes=function(l){var u,p,h=[],m=this.constructor.defaultAttributes[l.kind]||{},g=Object.assign({},m,this.getDataAttributes(l),l.attributes.getAllAttributes()),E=this.constructor.variants;g.hasOwnProperty("mathvariant")&&E.hasOwnProperty(g.mathvariant)&&(g.mathvariant=E[g.mathvariant]);try{for(var S=x(Object.keys(g)),O=S.next();!O.done;O=S.next()){var A=O.value,_=String(g[A]);_!==void 0&&h.push(A+'="'+this.quoteHTML(_)+'"')}}catch(T){u={error:T}}finally{try{O&&!O.done&&(p=S.return)&&p.call(S)}finally{if(u)throw u.error}}return h.length?" "+h.join(" "):""},o.prototype.getDataAttributes=function(l){var u={},p=l.attributes.getExplicit("mathvariant"),h=this.constructor.variants;p&&h.hasOwnProperty(p)&&this.setDataAttribute(u,"variant",p),l.getProperty("variantForm")&&this.setDataAttribute(u,"alternate","1"),l.getProperty("pseudoscript")&&this.setDataAttribute(u,"pseudoscript","true"),l.getProperty("autoOP")===!1&&this.setDataAttribute(u,"auto-op","false");var m=l.getProperty("scriptalign");m&&this.setDataAttribute(u,"script-align",m);var g=l.getProperty("texClass");if(g!==void 0){var E=!0;if(g===f.TEXCLASS.OP&&l.isKind("mi")){var S=l.getText();E=!(S.length>1&&S.match(c.MmlMi.operatorName))}E&&this.setDataAttribute(u,"texclass",g<0?"NONE":f.TEXCLASSNAMES[g])}return l.getProperty("scriptlevel")&&l.getProperty("useHeight")===!1&&this.setDataAttribute(u,"smallmatrix","true"),u},o.prototype.setDataAttribute=function(l,u,p){l[e.DATAMJX+u]=p},o.prototype.quoteHTML=function(l){return l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/[\uD800-\uDBFF]./g,e.toEntity).replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g,e.toEntity)},o.variants={"-tex-calligraphic":"script","-tex-bold-calligraphic":"bold-script","-tex-oldstyle":"normal","-tex-bold-oldstyle":"bold","-tex-mathit":"italic"},o.defaultAttributes={math:{xmlns:"http://www.w3.org/1998/Math/MathML"}},o}(d.MmlVisitor);e.SerializedMmlVisitor=s},2975:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractOutputJax=void 0;var M=v(7233),C=v(7525),x=function(){function y(d){d===void 0&&(d={}),this.adaptor=null;var f=this.constructor;this.options=(0,M.userOptions)((0,M.defaultOptions)({},f.OPTIONS),d),this.postFilters=new C.FunctionList}return Object.defineProperty(y.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),y.prototype.setAdaptor=function(d){this.adaptor=d},y.prototype.initialize=function(){},y.prototype.reset=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f]},y.prototype.getMetrics=function(d){},y.prototype.styleSheet=function(d){return null},y.prototype.pageElements=function(d){return null},y.prototype.executeFilters=function(d,f,c,s){var a={math:f,document:c,data:s};return d.execute(a),a.data},y.NAME="generic",y.OPTIONS={},y}();e.AbstractOutputJax=x},4574:function(R,e){var v=this&&this.__values||function(y){var d=typeof Symbol=="function"&&Symbol.iterator,f=d&&y[d],c=0;if(f)return f.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&c>=y.length&&(y=void 0),{value:y&&y[c++],done:!y}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},M=this&&this.__read||function(y,d){var f=typeof Symbol=="function"&&y[Symbol.iterator];if(!f)return y;var c,s,a=f.call(y),o=[];try{for(;(d===void 0||d-- >0)&&!(c=a.next()).done;)o.push(c.value)}catch(l){s={error:l}}finally{try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(s)throw s.error}}return o},C=this&&this.__spreadArray||function(y,d,f){if(f||arguments.length===2)for(var c,s=0,a=d.length;s<a;s++)!c&&s in d||(c||(c=Array.prototype.slice.call(d,0,s)),c[s]=d[s]);return y.concat(c||Array.prototype.slice.call(d))};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractFactory=void 0;var x=function(){function y(d){var f,c;d===void 0&&(d=null),this.defaultKind="unknown",this.nodeMap=new Map,this.node={},d===null&&(d=this.constructor.defaultNodes);try{for(var s=v(Object.keys(d)),a=s.next();!a.done;a=s.next()){var o=a.value;this.setNodeClass(o,d[o])}}catch(l){f={error:l}}finally{try{a&&!a.done&&(c=s.return)&&c.call(s)}finally{if(f)throw f.error}}}return y.prototype.create=function(d){for(var f=[],c=1;c<arguments.length;c++)f[c-1]=arguments[c];return(this.node[d]||this.node[this.defaultKind]).apply(void 0,C([],M(f),!1))},y.prototype.setNodeClass=function(d,f){this.nodeMap.set(d,f);var c=this,s=this.nodeMap.get(d);this.node[d]=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return new(s.bind.apply(s,C([void 0,c],M(a),!1)))}},y.prototype.getNodeClass=function(d){return this.nodeMap.get(d)},y.prototype.deleteNodeClass=function(d){this.nodeMap.delete(d),delete this.node[d]},y.prototype.nodeIsKind=function(d,f){return d instanceof this.getNodeClass(f)},y.prototype.getKinds=function(){return Array.from(this.nodeMap.keys())},y.defaultNodes={},y}();e.AbstractFactory=x},4596:function(R,e){var v,M=this&&this.__extends||(v=function(f,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},v(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}v(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),C=this&&this.__assign||function(){return C=Object.assign||function(f){for(var c,s=1,a=arguments.length;s<a;s++)for(var o in c=arguments[s])Object.prototype.hasOwnProperty.call(c,o)&&(f[o]=c[o]);return f},C.apply(this,arguments)},x=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,s=c&&f[c],a=0;if(s)return s.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&a>=f.length&&(f=void 0),{value:f&&f[a++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEmptyNode=e.AbstractNode=void 0;var y=function(){function f(c,s,a){var o,l;s===void 0&&(s={}),a===void 0&&(a=[]),this.factory=c,this.parent=null,this.properties={},this.childNodes=[];try{for(var u=x(Object.keys(s)),p=u.next();!p.done;p=u.next()){var h=p.value;this.setProperty(h,s[h])}}catch(m){o={error:m}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}a.length&&this.setChildren(a)}return Object.defineProperty(f.prototype,"kind",{get:function(){return"unknown"},enumerable:!1,configurable:!0}),f.prototype.setProperty=function(c,s){this.properties[c]=s},f.prototype.getProperty=function(c){return this.properties[c]},f.prototype.getPropertyNames=function(){return Object.keys(this.properties)},f.prototype.getAllProperties=function(){return this.properties},f.prototype.removeProperty=function(){for(var c,s,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];try{for(var l=x(a),u=l.next();!u.done;u=l.next()){var p=u.value;delete this.properties[p]}}catch(h){c={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}},f.prototype.isKind=function(c){return this.factory.nodeIsKind(this,c)},f.prototype.setChildren=function(c){var s,a;this.childNodes=[];try{for(var o=x(c),l=o.next();!l.done;l=o.next()){var u=l.value;this.appendChild(u)}}catch(p){s={error:p}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}},f.prototype.appendChild=function(c){return this.childNodes.push(c),c.parent=this,c},f.prototype.replaceChild=function(c,s){var a=this.childIndex(s);return a!==null&&(this.childNodes[a]=c,c.parent=this,s.parent=null),c},f.prototype.removeChild=function(c){var s=this.childIndex(c);return s!==null&&(this.childNodes.splice(s,1),c.parent=null),c},f.prototype.childIndex=function(c){var s=this.childNodes.indexOf(c);return s===-1?null:s},f.prototype.copy=function(){var c,s,a=this.factory.create(this.kind);a.properties=C({},this.properties);try{for(var o=x(this.childNodes||[]),l=o.next();!l.done;l=o.next()){var u=l.value;u&&a.appendChild(u.copy())}}catch(p){c={error:p}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(c)throw c.error}}return a},f.prototype.findNodes=function(c){var s=[];return this.walkTree(function(a){a.isKind(c)&&s.push(a)}),s},f.prototype.walkTree=function(c,s){var a,o;c(this,s);try{for(var l=x(this.childNodes),u=l.next();!u.done;u=l.next()){var p=u.value;p&&p.walkTree(c,s)}}catch(h){a={error:h}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return s},f.prototype.toString=function(){return this.kind+"("+this.childNodes.join(",")+")"},f}();e.AbstractNode=y;var d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return M(c,f),c.prototype.setChildren=function(s){},c.prototype.appendChild=function(s){return s},c.prototype.replaceChild=function(s,a){return a},c.prototype.childIndex=function(s){return null},c.prototype.walkTree=function(s,a){return s(this,a),a},c.prototype.toString=function(){return this.kind},c}(y);e.AbstractEmptyNode=d},7860:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},M(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractNodeFactory=void 0;var x=function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return C(d,y),d.prototype.create=function(f,c,s){return c===void 0&&(c={}),s===void 0&&(s=[]),this.node[f](c,s)},d}(v(4574).AbstractFactory);e.AbstractNodeFactory=x},8823:function(R,e,v){var M=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,s=c&&f[c],a=0;if(s)return s.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&a>=f.length&&(f=void 0),{value:f&&f[a++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(f,c){var s=typeof Symbol=="function"&&f[Symbol.iterator];if(!s)return f;var a,o,l=s.call(f),u=[];try{for(;(c===void 0||c-- >0)&&!(a=l.next()).done;)u.push(a.value)}catch(p){o={error:p}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return u},x=this&&this.__spreadArray||function(f,c,s){if(s||arguments.length===2)for(var a,o=0,l=c.length;o<l;o++)!a&&o in c||(a||(a=Array.prototype.slice.call(c,0,o)),a[o]=c[o]);return f.concat(a||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractVisitor=void 0;var y=v(4596),d=function(){function f(c){var s,a;this.nodeHandlers=new Map;try{for(var o=M(c.getKinds()),l=o.next();!l.done;l=o.next()){var u=l.value,p=this[f.methodName(u)];p&&this.nodeHandlers.set(u,p)}}catch(h){s={error:h}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}}return f.methodName=function(c){return"visit"+(c.charAt(0).toUpperCase()+c.substr(1)).replace(/[^a-z0-9_]/gi,"_")+"Node"},f.prototype.visitTree=function(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return this.visitNode.apply(this,x([c],C(s),!1))},f.prototype.visitNode=function(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var o=this.nodeHandlers.get(c.kind)||this.visitDefault;return o.call.apply(o,x([this,c],C(s),!1))},f.prototype.visitDefault=function(c){for(var s,a,o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];if(c instanceof y.AbstractNode)try{for(var u=M(c.childNodes),p=u.next();!p.done;p=u.next()){var h=p.value;this.visitNode.apply(this,x([h],C(o),!1))}}catch(m){s={error:m}}finally{try{p&&!p.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}},f.prototype.setNodeHandler=function(c,s){this.nodeHandlers.set(c,s)},f.prototype.removeNodeHandler=function(c){this.nodeHandlers.delete(c)},f}();e.AbstractVisitor=d},8912:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractWrapper=void 0;var v=function(){function M(C,x){this.factory=C,this.node=x}return Object.defineProperty(M.prototype,"kind",{get:function(){return this.node.kind},enumerable:!1,configurable:!0}),M.prototype.wrap=function(C){return this.factory.wrap(C)},M}();e.AbstractWrapper=v},3811:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__read||function(f,c){var s=typeof Symbol=="function"&&f[Symbol.iterator];if(!s)return f;var a,o,l=s.call(f),u=[];try{for(;(c===void 0||c-- >0)&&!(a=l.next()).done;)u.push(a.value)}catch(p){o={error:p}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return u},y=this&&this.__spreadArray||function(f,c,s){if(s||arguments.length===2)for(var a,o=0,l=c.length;o<l;o++)!a&&o in c||(a||(a=Array.prototype.slice.call(c,0,o)),a[o]=c[o]);return f.concat(a||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractWrapperFactory=void 0;var d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),c.prototype.wrap=function(s){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return this.create.apply(this,y([s.kind,s],x(a),!1))},c}(v(4574).AbstractFactory);e.AbstractWrapperFactory=d},6272:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.RegisterHTMLHandler=void 0;var M=v(5713),C=v(3726);e.RegisterHTMLHandler=function(x){var y=new C.HTMLHandler(x);return M.mathjax.handlers.register(y),y}},3683:function(R,e,v){var M,C=this&&this.__extends||(M=function(p,h){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])},M(p,h)},function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function m(){this.constructor=p}M(p,h),p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}),x=this&&this.__assign||function(){return x=Object.assign||function(p){for(var h,m=1,g=arguments.length;m<g;m++)for(var E in h=arguments[m])Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E]);return p},x.apply(this,arguments)},y=this&&this.__read||function(p,h){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var g,E,S=m.call(p),O=[];try{for(;(h===void 0||h-- >0)&&!(g=S.next()).done;)O.push(g.value)}catch(A){E={error:A}}finally{try{g&&!g.done&&(m=S.return)&&m.call(S)}finally{if(E)throw E.error}}return O},d=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLDocument=void 0;var f=v(5722),c=v(7233),s=v(3363),a=v(3335),o=v(5138),l=v(4474),u=function(p){function h(m,g,E){var S=this,O=y((0,c.separateOptions)(E,o.HTMLDomStrings.OPTIONS),2),A=O[0],_=O[1];return(S=p.call(this,m,g,A)||this).domStrings=S.options.DomStrings||new o.HTMLDomStrings(_),S.domStrings.adaptor=g,S.styles=[],S}return C(h,p),h.prototype.findPosition=function(m,g,E,S){var O,A,_=this.adaptor;try{for(var T=d(S[m]),N=T.next();!N.done;N=T.next()){var w=N.value,L=y(w,2),I=L[0],P=L[1];if(g<=P&&_.kind(I)==="#text")return{node:I,n:Math.max(g,0),delim:E};g-=P}}catch(k){O={error:k}}finally{try{N&&!N.done&&(A=T.return)&&A.call(T)}finally{if(O)throw O.error}}return{node:null,n:0,delim:E}},h.prototype.mathItem=function(m,g,E){var S=m.math,O=this.findPosition(m.n,m.start.n,m.open,E),A=this.findPosition(m.n,m.end.n,m.close,E);return new this.options.MathItem(S,g,m.display,O,A)},h.prototype.findMath=function(m){var g,E,S,O,A,_,T,N,w;if(!this.processed.isSet("findMath")){this.adaptor.document=this.document,m=(0,c.userOptions)({elements:this.options.elements||[this.adaptor.body(this.document)]},m);try{for(var L=d(this.adaptor.getElements(m.elements,this.document)),I=L.next();!I.done;I=L.next()){var P=I.value,k=y([null,null],2),B=k[0],F=k[1];try{for(var H=(S=void 0,d(this.inputJax)),j=H.next();!j.done;j=H.next()){var U=j.value,z=new this.options.MathList;if(U.processStrings){B===null&&(B=(A=y(this.domStrings.find(P),2))[0],F=A[1]);try{for(var K=(_=void 0,d(U.findMath(B))),W=K.next();!W.done;W=K.next()){var q=W.value;z.push(this.mathItem(q,U,F))}}catch(G){_={error:G}}finally{try{W&&!W.done&&(T=K.return)&&T.call(K)}finally{if(_)throw _.error}}}else try{for(var X=(N=void 0,d(U.findMath(P))),D=X.next();!D.done;D=X.next()){q=D.value;var V=new this.options.MathItem(q.math,U,q.display,q.start,q.end);z.push(V)}}catch(G){N={error:G}}finally{try{D&&!D.done&&(w=X.return)&&w.call(X)}finally{if(N)throw N.error}}this.math.merge(z)}}catch(G){S={error:G}}finally{try{j&&!j.done&&(O=H.return)&&O.call(H)}finally{if(S)throw S.error}}}}catch(G){g={error:G}}finally{try{I&&!I.done&&(E=L.return)&&E.call(L)}finally{if(g)throw g.error}}this.processed.set("findMath")}return this},h.prototype.updateDocument=function(){return this.processed.isSet("updateDocument")||(this.addPageElements(),this.addStyleSheet(),p.prototype.updateDocument.call(this),this.processed.set("updateDocument")),this},h.prototype.addPageElements=function(){var m=this.adaptor.body(this.document),g=this.documentPageElements();g&&this.adaptor.append(m,g)},h.prototype.addStyleSheet=function(){var m=this.documentStyleSheet(),g=this.adaptor;if(m&&!g.parent(m)){var E=g.head(this.document),S=this.findSheet(E,g.getAttribute(m,"id"));S?g.replace(m,S):g.append(E,m)}},h.prototype.findSheet=function(m,g){var E,S;if(g)try{for(var O=d(this.adaptor.tags(m,"style")),A=O.next();!A.done;A=O.next()){var _=A.value;if(this.adaptor.getAttribute(_,"id")===g)return _}}catch(T){E={error:T}}finally{try{A&&!A.done&&(S=O.return)&&S.call(O)}finally{if(E)throw E.error}}return null},h.prototype.removeFromDocument=function(m){var g,E;if(m===void 0&&(m=!1),this.processed.isSet("updateDocument"))try{for(var S=d(this.math),O=S.next();!O.done;O=S.next()){var A=O.value;A.state()>=l.STATE.INSERTED&&A.state(l.STATE.TYPESET,m)}}catch(_){g={error:_}}finally{try{O&&!O.done&&(E=S.return)&&E.call(S)}finally{if(g)throw g.error}}return this.processed.clear("updateDocument"),this},h.prototype.documentStyleSheet=function(){return this.outputJax.styleSheet(this)},h.prototype.documentPageElements=function(){return this.outputJax.pageElements(this)},h.prototype.addStyles=function(m){this.styles.push(m)},h.prototype.getStyles=function(){return this.styles},h.KIND="HTML",h.OPTIONS=x(x({},f.AbstractMathDocument.OPTIONS),{renderActions:(0,c.expandable)(x(x({},f.AbstractMathDocument.OPTIONS.renderActions),{styles:[l.STATE.INSERTED+1,"","updateStyleSheet",!1]})),MathList:a.HTMLMathList,MathItem:s.HTMLMathItem,DomStrings:null}),h}(f.AbstractMathDocument);e.HTMLDocument=u},5138:function(R,e,v){var M=this&&this.__read||function(y,d){var f=typeof Symbol=="function"&&y[Symbol.iterator];if(!f)return y;var c,s,a=f.call(y),o=[];try{for(;(d===void 0||d-- >0)&&!(c=a.next()).done;)o.push(c.value)}catch(l){s={error:l}}finally{try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(s)throw s.error}}return o};Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLDomStrings=void 0;var C=v(7233),x=function(){function y(d){d===void 0&&(d=null);var f=this.constructor;this.options=(0,C.userOptions)((0,C.defaultOptions)({},f.OPTIONS),d),this.init(),this.getPatterns()}return y.prototype.init=function(){this.strings=[],this.string="",this.snodes=[],this.nodes=[],this.stack=[]},y.prototype.getPatterns=function(){var d=(0,C.makeArray)(this.options.skipHtmlTags),f=(0,C.makeArray)(this.options.ignoreHtmlClass),c=(0,C.makeArray)(this.options.processHtmlClass);this.skipHtmlTags=new RegExp("^(?:"+d.join("|")+")$","i"),this.ignoreHtmlClass=new RegExp("(?:^| )(?:"+f.join("|")+")(?: |$)"),this.processHtmlClass=new RegExp("(?:^| )(?:"+c+")(?: |$)")},y.prototype.pushString=function(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string="",this.snodes=[]},y.prototype.extendString=function(d,f){this.snodes.push([d,f.length]),this.string+=f},y.prototype.handleText=function(d,f){return f||this.extendString(d,this.adaptor.value(d)),this.adaptor.next(d)},y.prototype.handleTag=function(d,f){if(!f){var c=this.options.includeHtmlTags[this.adaptor.kind(d)];this.extendString(d,c)}return this.adaptor.next(d)},y.prototype.handleContainer=function(d,f){this.pushString();var c=this.adaptor.getAttribute(d,"class")||"",s=this.adaptor.kind(d)||"",a=this.processHtmlClass.exec(c),o=d;return!this.adaptor.firstChild(d)||this.adaptor.getAttribute(d,"data-MJX")||!a&&this.skipHtmlTags.exec(s)?o=this.adaptor.next(d):(this.adaptor.next(d)&&this.stack.push([this.adaptor.next(d),f]),o=this.adaptor.firstChild(d),f=(f||this.ignoreHtmlClass.exec(c))&&!a),[o,f]},y.prototype.handleOther=function(d,f){return this.pushString(),this.adaptor.next(d)},y.prototype.find=function(d){var f,c;this.init();for(var s=this.adaptor.next(d),a=!1,o=this.options.includeHtmlTags;d&&d!==s;){var l=this.adaptor.kind(d);l==="#text"?d=this.handleText(d,a):o.hasOwnProperty(l)?d=this.handleTag(d,a):l?(d=(f=M(this.handleContainer(d,a),2))[0],a=f[1]):d=this.handleOther(d,a),!d&&this.stack.length&&(this.pushString(),d=(c=M(this.stack.pop(),2))[0],a=c[1])}this.pushString();var u=[this.strings,this.nodes];return this.init(),u},y.OPTIONS={skipHtmlTags:["script","noscript","style","textarea","pre","code","annotation","annotation-xml"],includeHtmlTags:{br:`
`,wbr:"","#comment":""},ignoreHtmlClass:"mathjax_ignore",processHtmlClass:"mathjax_process"},y}();e.HTMLDomStrings=x},3726:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLHandler=void 0;var x=v(3670),y=v(3683),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.documentClass=y.HTMLDocument,s}return C(c,f),c.prototype.handlesDocument=function(s){var a=this.adaptor;if(typeof s=="string")try{s=a.parse(s,"text/html")}catch{}return s instanceof a.window.Document||s instanceof a.window.HTMLElement||s instanceof a.window.DocumentFragment},c.prototype.create=function(s,a){var o=this.adaptor;if(typeof s=="string")s=o.parse(s,"text/html");else if(s instanceof o.window.HTMLElement||s instanceof o.window.DocumentFragment){var l=s;s=o.parse("","text/html"),o.append(o.body(s),l)}return f.prototype.create.call(this,s,a)},c}(x.AbstractHandler);e.HTMLHandler=d},3363:function(R,e,v){var M,C=this&&this.__extends||(M=function(d,f){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},M(d,f)},function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=d}M(d,f),d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLMathItem=void 0;var x=v(4474),y=function(d){function f(c,s,a,o,l){return a===void 0&&(a=!0),o===void 0&&(o={node:null,n:0,delim:""}),l===void 0&&(l={node:null,n:0,delim:""}),d.call(this,c,s,a,o,l)||this}return C(f,d),Object.defineProperty(f.prototype,"adaptor",{get:function(){return this.inputJax.adaptor},enumerable:!1,configurable:!0}),f.prototype.updateDocument=function(c){if(this.state()<x.STATE.INSERTED){if(this.inputJax.processStrings){var s=this.start.node;if(s===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(s=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,s);else{for(this.start.n&&(s=this.adaptor.split(s,this.start.n));s!==this.end.node;){var a=this.adaptor.next(s);this.adaptor.remove(s),s=a}this.adaptor.insert(this.typesetRoot,s),this.end.n<this.adaptor.value(s).length&&this.adaptor.split(s,this.end.n),this.adaptor.remove(s)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(x.STATE.INSERTED)}},f.prototype.updateStyleSheet=function(c){c.addStyleSheet()},f.prototype.removeFromDocument=function(c){if(c===void 0&&(c=!1),this.state()>=x.STATE.TYPESET){var s=this.adaptor,a=this.start.node,o=s.text("");if(c){var l=this.start.delim+this.math+this.end.delim;if(this.inputJax.processStrings)o=s.text(l);else{var u=s.parse(l,"text/html");o=s.firstChild(s.body(u))}}s.parent(a)&&s.replace(o,a),this.start.node=this.end.node=o,this.start.n=this.end.n=0}},f}(x.AbstractMathItem);e.HTMLMathItem=y},3335:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},M(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLMathList=void 0;var x=function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return C(d,y),d}(v(9e3).AbstractMathList);e.HTMLMathList=x},2892:function(R,e,v){var M,C=this&&this.__extends||(M=function(o,l){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(u[h]=p[h])},M(o,l)},function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=o}M(o,l),o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),x=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g};Object.defineProperty(e,"__esModule",{value:!0}),e.MathML=void 0;var y=v(9206),d=v(7233),f=v(7525),c=v(625),s=v(2769),a=function(o){function l(u){u===void 0&&(u={});var p=this,h=x((0,d.separateOptions)(u,c.FindMathML.OPTIONS,s.MathMLCompile.OPTIONS),3),m=h[0],g=h[1],E=h[2];return(p=o.call(this,m)||this).findMathML=p.options.FindMathML||new c.FindMathML(g),p.mathml=p.options.MathMLCompile||new s.MathMLCompile(E),p.mmlFilters=new f.FunctionList,p}return C(l,o),l.prototype.setAdaptor=function(u){o.prototype.setAdaptor.call(this,u),this.findMathML.adaptor=u,this.mathml.adaptor=u},l.prototype.setMmlFactory=function(u){o.prototype.setMmlFactory.call(this,u),this.mathml.setMmlFactory(u)},Object.defineProperty(l.prototype,"processStrings",{get:function(){return!1},enumerable:!1,configurable:!0}),l.prototype.compile=function(u,p){var h=u.start.node;if(!h||!u.end.node||this.options.forceReparse||this.adaptor.kind(h)==="#text"){var m=this.executeFilters(this.preFilters,u,p,(u.math||"<math></math>").trim()),g=this.checkForErrors(this.adaptor.parse(m,"text/"+this.options.parseAs)),E=this.adaptor.body(g);this.adaptor.childNodes(E).length!==1&&this.error("MathML must consist of a single element"),h=this.adaptor.remove(this.adaptor.firstChild(E)),this.adaptor.kind(h).replace(/^[a-z]+:/,"")!=="math"&&this.error("MathML must be formed by a <math> element, not <"+this.adaptor.kind(h)+">")}return h=this.executeFilters(this.mmlFilters,u,p,h),this.executeFilters(this.postFilters,u,p,this.mathml.compile(h))},l.prototype.checkForErrors=function(u){var p=this.adaptor.tags(this.adaptor.body(u),"parsererror")[0];return p&&(this.adaptor.textContent(p)===""&&this.error("Error processing MathML"),this.options.parseError.call(this,p)),u},l.prototype.error=function(u){throw new Error(u)},l.prototype.findMath=function(u){return this.findMathML.findMath(u)},l.NAME="MathML",l.OPTIONS=(0,d.defaultOptions)({parseAs:"html",forceReparse:!1,FindMathML:null,MathMLCompile:null,parseError:function(u){this.error(this.adaptor.textContent(u).replace(/\n.*/g,""))}},y.AbstractInputJax.OPTIONS),l}(y.AbstractInputJax);e.MathML=a},625:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.FindMathML=void 0;var y=v(3494),d="http://www.w3.org/1998/Math/MathML",f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.prototype.findMath=function(a){var o=new Set;this.findMathNodes(a,o),this.findMathPrefixed(a,o);var l=this.adaptor.root(this.adaptor.document);return this.adaptor.kind(l)==="html"&&o.size===0&&this.findMathNS(a,o),this.processMath(o)},s.prototype.findMathNodes=function(a,o){var l,u;try{for(var p=x(this.adaptor.tags(a,"math")),h=p.next();!h.done;h=p.next()){var m=h.value;o.add(m)}}catch(g){l={error:g}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}},s.prototype.findMathPrefixed=function(a,o){var l,u,p,h,m=this.adaptor.root(this.adaptor.document);try{for(var g=x(this.adaptor.allAttributes(m)),E=g.next();!E.done;E=g.next()){var S=E.value;if(S.name.substr(0,6)==="xmlns:"&&S.value===d){var O=S.name.substr(6);try{for(var A=(p=void 0,x(this.adaptor.tags(a,O+":math"))),_=A.next();!_.done;_=A.next()){var T=_.value;o.add(T)}}catch(N){p={error:N}}finally{try{_&&!_.done&&(h=A.return)&&h.call(A)}finally{if(p)throw p.error}}}}}catch(N){l={error:N}}finally{try{E&&!E.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}},s.prototype.findMathNS=function(a,o){var l,u;try{for(var p=x(this.adaptor.tags(a,"math",d)),h=p.next();!h.done;h=p.next()){var m=h.value;o.add(m)}}catch(g){l={error:g}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}},s.prototype.processMath=function(a){var o,l,u=[];try{for(var p=x(Array.from(a)),h=p.next();!h.done;h=p.next()){var m=h.value,g=this.adaptor.getAttribute(m,"display")==="block"||this.adaptor.getAttribute(m,"mode")==="display",E={node:m,n:0,delim:""},S={node:m,n:0,delim:""};u.push({math:this.adaptor.outerHTML(m),start:E,end:S,display:g})}}catch(O){o={error:O}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(o)throw o.error}}return u},s.OPTIONS={},s}(y.AbstractFindMath);e.FindMathML=f},2769:function(R,e,v){var M=this&&this.__assign||function(){return M=Object.assign||function(o){for(var l,u=1,p=arguments.length;u<p;u++)for(var h in l=arguments[u])Object.prototype.hasOwnProperty.call(l,h)&&(o[h]=l[h]);return o},M.apply(this,arguments)},C=this&&this.__createBinding||(Object.create?function(o,l,u,p){p===void 0&&(p=u);var h=Object.getOwnPropertyDescriptor(l,u);h&&!("get"in h?!l.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(o,p,h)}:function(o,l,u,p){p===void 0&&(p=u),o[p]=l[u]}),x=this&&this.__setModuleDefault||(Object.create?function(o,l){Object.defineProperty(o,"default",{enumerable:!0,value:l})}:function(o,l){o.default=l}),y=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var l={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&C(l,o,u);return x(l,o),l},d=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MathMLCompile=void 0;var f=v(9007),c=v(7233),s=y(v(5368)),a=function(){function o(l){l===void 0&&(l={});var u=this.constructor;this.options=(0,c.userOptions)((0,c.defaultOptions)({},u.OPTIONS),l)}return o.prototype.setMmlFactory=function(l){this.factory=l},o.prototype.compile=function(l){var u=this.makeNode(l);return u.verifyTree(this.options.verify),u.setInheritedAttributes({},!1,0,!1),u.walkTree(this.markMrows),u},o.prototype.makeNode=function(l){var u,p,h=this.adaptor,m=!1,g=h.kind(l).replace(/^.*:/,""),E=h.getAttribute(l,"data-mjx-texclass")||"";E&&(E=this.filterAttribute("data-mjx-texclass",E)||"");var S=E&&g==="mrow"?"TeXAtom":g;try{for(var O=d(this.filterClassList(h.allClasses(l))),A=O.next();!A.done;A=O.next()){var _=A.value;_.match(/^MJX-TeXAtom-/)&&g==="mrow"?(E=_.substr(12),S="TeXAtom"):_==="MJX-fixedlimits"&&(m=!0)}}catch(N){u={error:N}}finally{try{A&&!A.done&&(p=O.return)&&p.call(O)}finally{if(u)throw u.error}}this.factory.getNodeClass(S)||this.error('Unknown node type "'+S+'"');var T=this.factory.create(S);return S!=="TeXAtom"||E!=="OP"||m||(T.setProperty("movesupsub",!0),T.attributes.setInherited("movablelimits",!0)),E&&(T.texClass=f.TEXCLASS[E],T.setProperty("texClass",T.texClass)),this.addAttributes(T,l),this.checkClass(T,l),this.addChildren(T,l),T},o.prototype.addAttributes=function(l,u){var p,h,m=!1;try{for(var g=d(this.adaptor.allAttributes(u)),E=g.next();!E.done;E=g.next()){var S=E.value,O=S.name,A=this.filterAttribute(O,S.value);if(A!==null&&O!=="xmlns"){if(O.substr(0,9)==="data-mjx-")switch(O.substr(9)){case"alternate":l.setProperty("variantForm",!0);break;case"variant":l.attributes.set("mathvariant",A),m=!0;break;case"smallmatrix":l.setProperty("scriptlevel",1),l.setProperty("useHeight",!1);break;case"accent":l.setProperty("mathaccent",A==="true");break;case"auto-op":l.setProperty("autoOP",A==="true");break;case"script-align":l.setProperty("scriptalign",A)}else if(O!=="class"){var _=A.toLowerCase();_==="true"||_==="false"?l.attributes.set(O,_==="true"):m&&O==="mathvariant"||l.attributes.set(O,A)}}}}catch(T){p={error:T}}finally{try{E&&!E.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}},o.prototype.filterAttribute=function(l,u){return u},o.prototype.filterClassList=function(l){return l},o.prototype.addChildren=function(l,u){var p,h;if(l.arity!==0){var m=this.adaptor;try{for(var g=d(m.childNodes(u)),E=g.next();!E.done;E=g.next()){var S=E.value,O=m.kind(S);if(O!=="#comment")if(O==="#text")this.addText(l,S);else if(l.isKind("annotation-xml"))l.appendChild(this.factory.create("XML").setXML(S,m));else{var A=l.appendChild(this.makeNode(S));A.arity===0&&m.childNodes(S).length&&(this.options.fixMisplacedChildren?this.addChildren(l,S):A.mError("There should not be children for "+A.kind+" nodes",this.options.verify,!0))}}}catch(_){p={error:_}}finally{try{E&&!E.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}}},o.prototype.addText=function(l,u){var p=this.adaptor.value(u);(l.isToken||l.getProperty("isChars"))&&l.arity?(l.isToken&&(p=s.translate(p),p=this.trimSpace(p)),l.appendChild(this.factory.create("text").setText(p))):p.match(/\S/)&&this.error('Unexpected text node "'+p+'"')},o.prototype.checkClass=function(l,u){var p,h,m=[];try{for(var g=d(this.filterClassList(this.adaptor.allClasses(u))),E=g.next();!E.done;E=g.next()){var S=E.value;S.substr(0,4)==="MJX-"?S==="MJX-variant"?l.setProperty("variantForm",!0):S.substr(0,11)!=="MJX-TeXAtom"&&l.attributes.set("mathvariant",this.fixCalligraphic(S.substr(3))):m.push(S)}}catch(O){p={error:O}}finally{try{E&&!E.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}m.length&&l.attributes.set("class",m.join(" "))},o.prototype.fixCalligraphic=function(l){return l.replace(/caligraphic/,"calligraphic")},o.prototype.markMrows=function(l){if(l.isKind("mrow")&&!l.isInferred&&l.childNodes.length>=2){var u=l.childNodes[0],p=l.childNodes[l.childNodes.length-1];u.isKind("mo")&&u.attributes.get("fence")&&u.attributes.get("stretchy")&&p.isKind("mo")&&p.attributes.get("fence")&&p.attributes.get("stretchy")&&(u.childNodes.length&&l.setProperty("open",u.getText()),p.childNodes.length&&l.setProperty("close",p.getText()))}},o.prototype.trimSpace=function(l){return l.replace(/[\t\n\r]/g," ").replace(/^ +/,"").replace(/ +$/,"").replace(/  +/g," ")},o.prototype.error=function(l){throw new Error(l)},o.OPTIONS={MmlFactory:null,fixMisplacedChildren:!0,verify:M({},f.AbstractMmlNode.verifyDefaults),translateEntities:!0},o}();e.MathMLCompile=a},8462:function(R,e,v){var M,C=this&&this.__extends||(M=function(E,S){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,A){O.__proto__=A}||function(O,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(O[_]=A[_])},M(E,S)},function(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function O(){this.constructor=E}M(E,S),E.prototype=S===null?Object.create(S):(O.prototype=S.prototype,new O)}),x=this&&this.__assign||function(){return x=Object.assign||function(E){for(var S,O=1,A=arguments.length;O<A;O++)for(var _ in S=arguments[O])Object.prototype.hasOwnProperty.call(S,_)&&(E[_]=S[_]);return E},x.apply(this,arguments)},y=this&&this.__read||function(E,S){var O=typeof Symbol=="function"&&E[Symbol.iterator];if(!O)return E;var A,_,T=O.call(E),N=[];try{for(;(S===void 0||S-- >0)&&!(A=T.next()).done;)N.push(A.value)}catch(w){_={error:w}}finally{try{A&&!A.done&&(O=T.return)&&O.call(T)}finally{if(_)throw _.error}}return N},d=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.TeX=void 0;var f=v(9206),c=v(7233),s=v(7073),a=d(v(4676)),o=d(v(1256)),l=d(v(8417)),u=d(v(3971)),p=d(v(8562)),h=v(6521),m=v(9899);v(2942);var g=function(E){function S(O){O===void 0&&(O={});var A=this,_=y((0,c.separateOptions)(O,S.OPTIONS,s.FindTeX.OPTIONS),3),T=_[0],N=_[1],w=_[2];(A=E.call(this,N)||this).findTeX=A.options.FindTeX||new s.FindTeX(w);var L=A.options.packages,I=A.configuration=S.configure(L),P=A._parseOptions=new p.default(I,[A.options,h.TagsFactory.OPTIONS]);return(0,c.userOptions)(P.options,T),I.config(A),S.tags(P,I),A.postFilters.add(a.default.cleanSubSup,-6),A.postFilters.add(a.default.setInherited,-5),A.postFilters.add(a.default.moveLimits,-4),A.postFilters.add(a.default.cleanStretchy,-3),A.postFilters.add(a.default.cleanAttributes,-2),A.postFilters.add(a.default.combineRelations,-1),A}return C(S,E),S.configure=function(O){var A=new m.ParserConfiguration(O,["tex"]);return A.init(),A},S.tags=function(O,A){h.TagsFactory.addTags(A.tags),h.TagsFactory.setDefault(O.options.tags),O.tags=h.TagsFactory.getDefault(),O.tags.configuration=O},S.prototype.setMmlFactory=function(O){E.prototype.setMmlFactory.call(this,O),this._parseOptions.nodeFactory.setMmlFactory(O)},Object.defineProperty(S.prototype,"parseOptions",{get:function(){return this._parseOptions},enumerable:!1,configurable:!0}),S.prototype.reset=function(O){O===void 0&&(O=0),this.parseOptions.tags.reset(O)},S.prototype.compile=function(O,A){this.parseOptions.clear(),this.executeFilters(this.preFilters,O,A,this.parseOptions);var _,T,N=O.display;this.latex=O.math,this.parseOptions.tags.startEquation(O);try{var w=new l.default(this.latex,{display:N,isInner:!1},this.parseOptions);_=w.mml(),T=w.stack.global}catch(L){if(!(L instanceof u.default))throw L;this.parseOptions.error=!0,_=this.options.formatError(this,L)}return _=this.parseOptions.nodeFactory.create("node","math",[_]),T!=null&&T.indentalign&&o.default.setAttribute(_,"indentalign",T.indentalign),N&&o.default.setAttribute(_,"display","block"),this.parseOptions.tags.finishEquation(O),this.parseOptions.root=_,this.executeFilters(this.postFilters,O,A,this.parseOptions),this.mathNode=this.parseOptions.root,this.mathNode},S.prototype.findMath=function(O){return this.findTeX.findMath(O)},S.prototype.formatError=function(O){var A=O.message.replace(/\n.*/,"");return this.parseOptions.nodeFactory.create("error",A,O.id,this.latex)},S.NAME="TeX",S.OPTIONS=x(x({},f.AbstractInputJax.OPTIONS),{FindTeX:null,packages:["base"],digits:/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,maxBuffer:5120,formatError:function(O,A){return O.formatError(A)}}),S}(f.AbstractInputJax);e.TeX=g},9899:function(R,e,v){var M=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,p=u&&l[u],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(l,u){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var h,m,g=p.call(l),E=[];try{for(;(u===void 0||u-- >0)&&!(h=g.next()).done;)E.push(h.value)}catch(S){m={error:S}}finally{try{h&&!h.done&&(p=g.return)&&p.call(g)}finally{if(m)throw m.error}}return E};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserConfiguration=e.ConfigurationHandler=e.Configuration=void 0;var x,y=v(7233),d=v(2947),f=v(7525),c=v(8666),s=v(6521),a=function(){function l(u,p,h,m,g,E,S,O,A,_,T,N,w){p===void 0&&(p={}),h===void 0&&(h={}),m===void 0&&(m={}),g===void 0&&(g={}),E===void 0&&(E={}),S===void 0&&(S={}),O===void 0&&(O=[]),A===void 0&&(A=[]),_===void 0&&(_=null),T===void 0&&(T=null),this.name=u,this.handler=p,this.fallback=h,this.items=m,this.tags=g,this.options=E,this.nodes=S,this.preprocessors=O,this.postprocessors=A,this.initMethod=_,this.configMethod=T,this.priority=N,this.parser=w,this.handler=Object.assign({character:[],delimiter:[],macro:[],environment:[]},p)}return l.makeProcessor=function(u,p){return Array.isArray(u)?u:[u,p]},l._create=function(u,p){var h=this;p===void 0&&(p={});var m=p.priority||c.PrioritizedList.DEFAULTPRIORITY,g=p.init?this.makeProcessor(p.init,m):null,E=p.config?this.makeProcessor(p.config,m):null,S=(p.preprocessors||[]).map(function(_){return h.makeProcessor(_,m)}),O=(p.postprocessors||[]).map(function(_){return h.makeProcessor(_,m)}),A=p.parser||"tex";return new l(u,p.handler||{},p.fallback||{},p.items||{},p.tags||{},p.options||{},p.nodes||{},S,O,g,E,m,A)},l.create=function(u,p){p===void 0&&(p={});var h=l._create(u,p);return x.set(u,h),h},l.local=function(u){return u===void 0&&(u={}),l._create("",u)},Object.defineProperty(l.prototype,"init",{get:function(){return this.initMethod?this.initMethod[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this.configMethod?this.configMethod[0]:null},enumerable:!1,configurable:!0}),l}();e.Configuration=a,function(l){var u=new Map;l.set=function(p,h){u.set(p,h)},l.get=function(p){return u.get(p)},l.keys=function(){return u.keys()}}(x=e.ConfigurationHandler||(e.ConfigurationHandler={}));var o=function(){function l(u,p){var h,m,g,E;p===void 0&&(p=["tex"]),this.initMethod=new f.FunctionList,this.configMethod=new f.FunctionList,this.configurations=new c.PrioritizedList,this.parsers=[],this.handlers=new d.SubHandlers,this.items={},this.tags={},this.options={},this.nodes={},this.parsers=p;try{for(var S=M(u.slice().reverse()),O=S.next();!O.done;O=S.next()){var A=O.value;this.addPackage(A)}}catch(I){h={error:I}}finally{try{O&&!O.done&&(m=S.return)&&m.call(S)}finally{if(h)throw h.error}}try{for(var _=M(this.configurations),T=_.next();!T.done;T=_.next()){var N=T.value,w=N.item,L=N.priority;this.append(w,L)}}catch(I){g={error:I}}finally{try{T&&!T.done&&(E=_.return)&&E.call(_)}finally{if(g)throw g.error}}}return l.prototype.init=function(){this.initMethod.execute(this)},l.prototype.config=function(u){var p,h;this.configMethod.execute(this,u);try{for(var m=M(this.configurations),g=m.next();!g.done;g=m.next()){var E=g.value;this.addFilters(u,E.item)}}catch(S){p={error:S}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}},l.prototype.addPackage=function(u){var p=typeof u=="string"?u:u[0],h=this.getPackage(p);h&&this.configurations.add(h,typeof u=="string"?h.priority:u[1])},l.prototype.add=function(u,p,h){var m,g;h===void 0&&(h={});var E=this.getPackage(u);this.append(E),this.configurations.add(E,E.priority),this.init();var S=p.parseOptions;S.nodeFactory.setCreators(E.nodes);try{for(var O=M(Object.keys(E.items)),A=O.next();!A.done;A=O.next()){var _=A.value;S.itemFactory.setNodeClass(_,E.items[_])}}catch(T){m={error:T}}finally{try{A&&!A.done&&(g=O.return)&&g.call(O)}finally{if(m)throw m.error}}s.TagsFactory.addTags(E.tags),(0,y.defaultOptions)(S.options,E.options),(0,y.userOptions)(S.options,h),this.addFilters(p,E),E.config&&E.config(this,p)},l.prototype.getPackage=function(u){var p=x.get(u);if(p&&this.parsers.indexOf(p.parser)<0)throw Error("Package ".concat(u," doesn't target the proper parser"));return p},l.prototype.append=function(u,p){p=p||u.priority,u.initMethod&&this.initMethod.add(u.initMethod[0],u.initMethod[1]),u.configMethod&&this.configMethod.add(u.configMethod[0],u.configMethod[1]),this.handlers.add(u.handler,u.fallback,p),Object.assign(this.items,u.items),Object.assign(this.tags,u.tags),(0,y.defaultOptions)(this.options,u.options),Object.assign(this.nodes,u.nodes)},l.prototype.addFilters=function(u,p){var h,m,g,E;try{for(var S=M(p.preprocessors),O=S.next();!O.done;O=S.next()){var A=C(O.value,2),_=A[0],T=A[1];u.preFilters.add(_,T)}}catch(P){h={error:P}}finally{try{O&&!O.done&&(m=S.return)&&m.call(S)}finally{if(h)throw h.error}}try{for(var N=M(p.postprocessors),w=N.next();!w.done;w=N.next()){var L=C(w.value,2),I=L[0];T=L[1],u.postFilters.add(I,T)}}catch(P){g={error:P}}finally{try{w&&!w.done&&(E=N.return)&&E.call(N)}finally{if(g)throw g.error}}},l}();e.ParserConfiguration=o},4676:function(R,e,v){var M=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,s=c&&f[c],a=0;if(s)return s.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&a>=f.length&&(f=void 0),{value:f&&f[a++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var x,y=v(9007),d=C(v(1256));(function(f){f.cleanStretchy=function(l){var u,p,h=l.data;try{for(var m=M(h.getList("fixStretchy")),g=m.next();!g.done;g=m.next()){var E=g.value;if(d.default.getProperty(E,"fixStretchy")){var S=d.default.getForm(E);S&&S[3]&&S[3].stretchy&&d.default.setAttribute(E,"stretchy",!1);var O=E.parent;if(!(d.default.getTexClass(E)||S&&S[2])){var A=h.nodeFactory.create("node","TeXAtom",[E]);O.replaceChild(A,E),A.inheritAttributesFrom(E)}d.default.removeProperties(E,"fixStretchy")}}}catch(_){u={error:_}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},f.cleanAttributes=function(l){l.data.root.walkTree(function(u,p){var h,m,g=u.attributes;if(g){var E=new Set((g.get("mjx-keep-attrs")||"").split(/ /));delete g.getAllAttributes()["mjx-keep-attrs"];try{for(var S=M(g.getExplicitNames()),O=S.next();!O.done;O=S.next()){var A=O.value;E.has(A)||g.attributes[A]!==u.attributes.getInherited(A)||delete g.attributes[A]}}catch(_){h={error:_}}finally{try{O&&!O.done&&(m=S.return)&&m.call(S)}finally{if(h)throw h.error}}}},{})},f.combineRelations=function(l){var u,p,h,m,g=[];try{for(var E=M(l.data.getList("mo")),S=E.next();!S.done;S=E.next()){var O=S.value;if(!O.getProperty("relationsCombined")&&O.parent&&(!O.parent||d.default.isType(O.parent,"mrow"))&&d.default.getTexClass(O)===y.TEXCLASS.REL){for(var A=O.parent,_=void 0,T=A.childNodes,N=T.indexOf(O)+1,w=d.default.getProperty(O,"variantForm");N<T.length&&(_=T[N])&&d.default.isType(_,"mo")&&d.default.getTexClass(_)===y.TEXCLASS.REL;){if(w!==d.default.getProperty(_,"variantForm")||!s(O,_)){O.attributes.getExplicit("rspace")==null&&d.default.setAttribute(O,"rspace","0pt"),_.attributes.getExplicit("lspace")==null&&d.default.setAttribute(_,"lspace","0pt");break}d.default.appendChildren(O,d.default.getChildren(_)),c(["stretchy","rspace"],O,_);try{for(var L=(h=void 0,M(_.getPropertyNames())),I=L.next();!I.done;I=L.next()){var P=I.value;O.setProperty(P,_.getProperty(P))}}catch(k){h={error:k}}finally{try{I&&!I.done&&(m=L.return)&&m.call(L)}finally{if(h)throw h.error}}T.splice(N,1),g.push(_),_.parent=null,_.setProperty("relationsCombined",!0)}O.attributes.setInherited("form",O.getForms()[0])}}}catch(k){u={error:k}}finally{try{S&&!S.done&&(p=E.return)&&p.call(E)}finally{if(u)throw u.error}}l.data.removeFromList("mo",g)};var c=function(l,u,p){var h=u.attributes,m=p.attributes;l.forEach(function(g){var E=m.getExplicit(g);E!=null&&h.set(g,E)})},s=function(l,u){var p,h,m=function(N,w){return N.getExplicitNames().filter(function(L){return L!==w&&(L!=="stretchy"||N.getExplicit("stretchy"))})},g=l.attributes,E=u.attributes,S=m(g,"lspace"),O=m(E,"rspace");if(S.length!==O.length)return!1;try{for(var A=M(S),_=A.next();!_.done;_=A.next()){var T=_.value;if(g.getExplicit(T)!==E.getExplicit(T))return!1}}catch(N){p={error:N}}finally{try{_&&!_.done&&(h=A.return)&&h.call(A)}finally{if(p)throw p.error}}return!0},a=function(l,u,p){var h,m,g=[];try{for(var E=M(l.getList("m"+u+p)),S=E.next();!S.done;S=E.next()){var O=S.value,A=O.childNodes;if(!A[O[u]]||!A[O[p]]){var _=O.parent,T=A[O[u]]?l.nodeFactory.create("node","m"+u,[A[O.base],A[O[u]]]):l.nodeFactory.create("node","m"+p,[A[O.base],A[O[p]]]);d.default.copyAttributes(O,T),_?_.replaceChild(T,O):l.root=T,g.push(O)}}}catch(N){h={error:N}}finally{try{S&&!S.done&&(m=E.return)&&m.call(E)}finally{if(h)throw h.error}}l.removeFromList("m"+u+p,g)};f.cleanSubSup=function(l){var u=l.data;u.error||(a(u,"sub","sup"),a(u,"under","over"))};var o=function(l,u,p){var h,m,g=[];try{for(var E=M(l.getList(u)),S=E.next();!S.done;S=E.next()){var O=S.value;if(!O.attributes.get("displaystyle")){var A=O.childNodes[O.base],_=A.coreMO();if(A.getProperty("movablelimits")&&!_.attributes.getExplicit("movablelimits")){var T=l.nodeFactory.create("node",p,O.childNodes);d.default.copyAttributes(O,T),O.parent?O.parent.replaceChild(T,O):l.root=T,g.push(O)}}}}catch(N){h={error:N}}finally{try{S&&!S.done&&(m=E.return)&&m.call(E)}finally{if(h)throw h.error}}l.removeFromList(u,g)};f.moveLimits=function(l){var u=l.data;o(u,"munderover","msubsup"),o(u,"munder","msub"),o(u,"mover","msup")},f.setInherited=function(l){l.data.root.setInheritedAttributes({},l.math.display,0,!1)}})(x||(x={})),e.default=x},7073:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__read||function(s,a){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var l,u,p=o.call(s),h=[];try{for(;(a===void 0||a-- >0)&&!(l=p.next()).done;)h.push(l.value)}catch(m){u={error:m}}finally{try{l&&!l.done&&(o=p.return)&&o.call(p)}finally{if(u)throw u.error}}return h};Object.defineProperty(e,"__esModule",{value:!0}),e.FindTeX=void 0;var y=v(3494),d=v(505),f=v(4474),c=function(s){function a(o){var l=s.call(this,o)||this;return l.getPatterns(),l}return C(a,s),a.prototype.getPatterns=function(){var o=this,l=this.options,u=[],p=[],h=[];this.end={},this.env=this.sub=0;var m=1;l.inlineMath.forEach(function(g){return o.addPattern(u,g,!1)}),l.displayMath.forEach(function(g){return o.addPattern(u,g,!0)}),u.length&&p.push(u.sort(d.sortLength).join("|")),l.processEnvironments&&(p.push("\\\\begin\\s*\\{([^}]*)\\}"),this.env=m,m++),l.processEscapes&&h.push("\\\\([\\\\$])"),l.processRefs&&h.push("(\\\\(?:eq)?ref\\s*\\{[^}]*\\})"),h.length&&(p.push("("+h.join("|")+")"),this.sub=m),this.start=new RegExp(p.join("|"),"g"),this.hasPatterns=p.length>0},a.prototype.addPattern=function(o,l,u){var p=x(l,2),h=p[0],m=p[1];o.push((0,d.quotePattern)(h)),this.end[h]=[m,u,this.endPattern(m)]},a.prototype.endPattern=function(o,l){return new RegExp((l||(0,d.quotePattern)(o))+"|\\\\(?:[a-zA-Z]|.)|[{}]","g")},a.prototype.findEnd=function(o,l,u,p){for(var h,m=x(p,3),g=m[0],E=m[1],S=m[2],O=S.lastIndex=u.index+u[0].length,A=0;h=S.exec(o);){if((h[1]||h[0])===g&&A===0)return(0,f.protoItem)(u[0],o.substr(O,h.index-O),h[0],l,u.index,h.index+h[0].length,E);h[0]==="{"?A++:h[0]==="}"&&A&&A--}return null},a.prototype.findMathInString=function(o,l,u){var p,h;for(this.start.lastIndex=0;p=this.start.exec(u);){if(p[this.env]!==void 0&&this.env){var m="\\\\end\\s*(\\{"+(0,d.quotePattern)(p[this.env])+"\\})";(h=this.findEnd(u,l,p,["{"+p[this.env]+"}",!0,this.endPattern(null,m)]))&&(h.math=h.open+h.math+h.close,h.open=h.close="")}else if(p[this.sub]!==void 0&&this.sub){var g=p[this.sub];m=p.index+p[this.sub].length,h=g.length===2?(0,f.protoItem)("",g.substr(1),"",l,p.index,m):(0,f.protoItem)("",g,"",l,p.index,m,!1)}else h=this.findEnd(u,l,p,this.end[p[0]]);h&&(o.push(h),this.start.lastIndex=h.end.n)}},a.prototype.findMath=function(o){var l=[];if(this.hasPatterns)for(var u=0,p=o.length;u<p;u++)this.findMathInString(l,u,o[u]);return l},a.OPTIONS={inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,processRefs:!0},a}(y.AbstractFindMath);e.FindTeX=c},2947:function(R,e,v){var M=this&&this.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,o=a&&s[a],l=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(s,a){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var l,u,p=o.call(s),h=[];try{for(;(a===void 0||a-- >0)&&!(l=p.next()).done;)h.push(l.value)}catch(m){u={error:m}}finally{try{l&&!l.done&&(o=p.return)&&o.call(p)}finally{if(u)throw u.error}}return h};Object.defineProperty(e,"__esModule",{value:!0}),e.SubHandlers=e.SubHandler=e.MapHandler=void 0;var x,y=v(8666),d=v(7525);(function(s){var a=new Map;s.register=function(o){a.set(o.name,o)},s.getMap=function(o){return a.get(o)}})(x=e.MapHandler||(e.MapHandler={}));var f=function(){function s(){this._configuration=new y.PrioritizedList,this._fallback=new d.FunctionList}return s.prototype.add=function(a,o,l){var u,p;l===void 0&&(l=y.PrioritizedList.DEFAULTPRIORITY);try{for(var h=M(a.slice().reverse()),m=h.next();!m.done;m=h.next()){var g=m.value,E=x.getMap(g);if(!E)return void this.warn("Configuration "+g+" not found! Omitted.");this._configuration.add(E,l)}}catch(S){u={error:S}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(u)throw u.error}}o&&this._fallback.add(o,l)},s.prototype.parse=function(a){var o,l;try{for(var u=M(this._configuration),p=u.next();!p.done;p=u.next()){var h=p.value.item.parse(a);if(h)return h}}catch(S){o={error:S}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}var m=C(a,2),g=m[0],E=m[1];Array.from(this._fallback)[0].item(g,E)},s.prototype.lookup=function(a){var o=this.applicable(a);return o?o.lookup(a):null},s.prototype.contains=function(a){return!!this.applicable(a)},s.prototype.toString=function(){var a,o,l=[];try{for(var u=M(this._configuration),p=u.next();!p.done;p=u.next()){var h=p.value.item;l.push(h.name)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return l.join(", ")},s.prototype.applicable=function(a){var o,l;try{for(var u=M(this._configuration),p=u.next();!p.done;p=u.next()){var h=p.value.item;if(h.contains(a))return h}}catch(m){o={error:m}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}return null},s.prototype.retrieve=function(a){var o,l;try{for(var u=M(this._configuration),p=u.next();!p.done;p=u.next()){var h=p.value.item;if(h.name===a)return h}}catch(m){o={error:m}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}return null},s.prototype.warn=function(a){console.log("TexParser Warning: "+a)},s}();e.SubHandler=f;var c=function(){function s(){this.map=new Map}return s.prototype.add=function(a,o,l){var u,p;l===void 0&&(l=y.PrioritizedList.DEFAULTPRIORITY);try{for(var h=M(Object.keys(a)),m=h.next();!m.done;m=h.next()){var g=m.value,E=this.get(g);E||(E=new f,this.set(g,E)),E.add(a[g],o[g],l)}}catch(S){u={error:S}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(u)throw u.error}}},s.prototype.set=function(a,o){this.map.set(a,o)},s.prototype.get=function(a){return this.map.get(a)},s.prototype.retrieve=function(a){var o,l;try{for(var u=M(this.map.values()),p=u.next();!p.done;p=u.next()){var h=p.value.retrieve(a);if(h)return h}}catch(m){o={error:m}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}return null},s.prototype.keys=function(){return this.map.keys()},s}();e.SubHandlers=c},8929:function(R,e,v){var M=this&&this.__read||function(f,c){var s=typeof Symbol=="function"&&f[Symbol.iterator];if(!s)return f;var a,o,l=s.call(f),u=[];try{for(;(c===void 0||c-- >0)&&!(a=l.next()).done;)u.push(a.value)}catch(p){o={error:p}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return u},C=this&&this.__spreadArray||function(f,c,s){if(s||arguments.length===2)for(var a,o=0,l=c.length;o<l;o++)!a&&o in c||(a||(a=Array.prototype.slice.call(c,0,o)),a[o]=c[o]);return f.concat(a||Array.prototype.slice.call(c))},x=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.NodeFactory=void 0;var y=x(v(1256)),d=function(){function f(){this.mmlFactory=null,this.factory={node:f.createNode,token:f.createToken,text:f.createText,error:f.createError}}return f.createNode=function(c,s,a,o,l){a===void 0&&(a=[]),o===void 0&&(o={});var u=c.mmlFactory.create(s);return u.setChildren(a),l&&u.appendChild(l),y.default.setProperties(u,o),u},f.createToken=function(c,s,a,o){a===void 0&&(a={}),o===void 0&&(o="");var l=c.create("text",o);return c.create("node",s,[],a,l)},f.createText=function(c,s){return s==null?null:c.mmlFactory.create("text").setText(s)},f.createError=function(c,s){var a=c.create("text",s),o=c.create("node","mtext",[],{},a);return c.create("node","merror",[o],{"data-mjx-error":s})},f.prototype.setMmlFactory=function(c){this.mmlFactory=c},f.prototype.set=function(c,s){this.factory[c]=s},f.prototype.setCreators=function(c){for(var s in c)this.set(s,c[s])},f.prototype.create=function(c){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var o=this.factory[c]||this.factory.node,l=o.apply(void 0,C([this,s[0]],M(s.slice(1)),!1));return c==="node"&&this.configuration.addNode(s[0],l),l},f.prototype.get=function(c){return this.factory[c]},f}();e.NodeFactory=d},1256:function(R,e,v){var M=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p},x=this&&this.__spreadArray||function(c,s,a){if(a||arguments.length===2)for(var o,l=0,u=s.length;l<u;l++)!o&&l in s||(o||(o=Array.prototype.slice.call(s,0,l)),o[l]=s[l]);return c.concat(o||Array.prototype.slice.call(s))};Object.defineProperty(e,"__esModule",{value:!0});var y,d=v(9007),f=v(2756);(function(c){var s=new Map([["autoOP",!0],["fnOP",!0],["movesupsub",!0],["subsupOK",!0],["texprimestyle",!0],["useHeight",!0],["variantForm",!0],["withDelims",!0],["mathaccent",!0],["open",!0],["close",!0]]);function a(u,p){var h,m;try{for(var g=M(Object.keys(p)),E=g.next();!E.done;E=g.next()){var S=E.value,O=p[S];S==="texClass"?(u.texClass=O,u.setProperty(S,O)):S==="movablelimits"?(u.setProperty("movablelimits",O),(u.isKind("mo")||u.isKind("mstyle"))&&u.attributes.set("movablelimits",O)):S==="inferred"||(s.has(S)?u.setProperty(S,O):u.attributes.set(S,O))}}catch(A){h={error:A}}finally{try{E&&!E.done&&(m=g.return)&&m.call(g)}finally{if(h)throw h.error}}}function o(u,p,h){u.childNodes[p]=h,h&&(h.parent=u)}function l(u,p){return u.isKind(p)}c.createEntity=function(u){return String.fromCodePoint(parseInt(u,16))},c.getChildren=function(u){return u.childNodes},c.getText=function(u){return u.getText()},c.appendChildren=function(u,p){var h,m;try{for(var g=M(p),E=g.next();!E.done;E=g.next()){var S=E.value;u.appendChild(S)}}catch(O){h={error:O}}finally{try{E&&!E.done&&(m=g.return)&&m.call(g)}finally{if(h)throw h.error}}},c.setAttribute=function(u,p,h){u.attributes.set(p,h)},c.setProperty=function(u,p,h){u.setProperty(p,h)},c.setProperties=a,c.getProperty=function(u,p){return u.getProperty(p)},c.getAttribute=function(u,p){return u.attributes.get(p)},c.removeProperties=function(u){for(var p=[],h=1;h<arguments.length;h++)p[h-1]=arguments[h];u.removeProperty.apply(u,x([],C(p),!1))},c.getChildAt=function(u,p){return u.childNodes[p]},c.setChild=o,c.copyChildren=function(u,p){for(var h=u.childNodes,m=0;m<h.length;m++)o(p,m,h[m])},c.copyAttributes=function(u,p){p.attributes=u.attributes,a(p,u.getAllProperties())},c.isType=l,c.isEmbellished=function(u){return u.isEmbellished},c.getTexClass=function(u){return u.texClass},c.getCoreMO=function(u){return u.coreMO()},c.isNode=function(u){return u instanceof d.AbstractMmlNode||u instanceof d.AbstractMmlEmptyNode},c.isInferred=function(u){return u.isInferred},c.getForm=function(u){var p,h;if(!l(u,"mo"))return null;var m=u,g=m.getForms();try{for(var E=M(g),S=E.next();!S.done;S=E.next()){var O=S.value,A=f.MmlMo.OPTABLE[O][m.getText()];if(A)return A}}catch(_){p={error:_}}finally{try{S&&!S.done&&(h=E.return)&&h.call(E)}finally{if(p)throw p.error}}return null}})(y||(y={})),e.default=y},5450:function(R,e,v){var M=this&&this.__read||function(s,a){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var l,u,p=o.call(s),h=[];try{for(;(a===void 0||a-- >0)&&!(l=p.next()).done;)h.push(l.value)}catch(m){u={error:m}}finally{try{l&&!l.done&&(o=p.return)&&o.call(p)}finally{if(u)throw u.error}}return h},C=this&&this.__spreadArray||function(s,a,o){if(o||arguments.length===2)for(var l,u=0,p=a.length;u<p;u++)!l&&u in a||(l||(l=Array.prototype.slice.call(a,0,u)),l[u]=a[u]);return s.concat(l||Array.prototype.slice.call(a))},x=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var y,d=x(v(1256)),f=v(8317),c=x(v(1130));(function(s){s.variable=function(a,o){var l=c.default.getFontDef(a),u=a.stack.env;u.multiLetterIdentifiers&&u.font!==""&&(o=a.string.substr(a.i-1).match(u.multiLetterIdentifiers)[0],a.i+=o.length-1,l.mathvariant===f.TexConstant.Variant.NORMAL&&u.noAutoOP&&o.length>1&&(l.autoOP=!1));var p=a.create("token","mi",l,o);a.Push(p)},s.digit=function(a,o){var l,u=a.configuration.options.digits,p=a.string.slice(a.i-1).match(u),h=c.default.getFontDef(a);p?(l=a.create("token","mn",h,p[0].replace(/[{}]/g,"")),a.i+=p[0].length-1):l=a.create("token","mo",h,o),a.Push(l)},s.controlSequence=function(a,o){var l=a.GetCS();a.parse("macro",[a,l])},s.mathchar0mi=function(a,o){var l=o.attributes||{mathvariant:f.TexConstant.Variant.ITALIC},u=a.create("token","mi",l,o.char);a.Push(u)},s.mathchar0mo=function(a,o){var l=o.attributes||{};l.stretchy=!1;var u=a.create("token","mo",l,o.char);d.default.setProperty(u,"fixStretchy",!0),a.configuration.addNode("fixStretchy",u),a.Push(u)},s.mathchar7=function(a,o){var l=o.attributes||{mathvariant:f.TexConstant.Variant.NORMAL};a.stack.env.font&&(l.mathvariant=a.stack.env.font);var u=a.create("token","mi",l,o.char);a.Push(u)},s.delimiter=function(a,o){var l=o.attributes||{};l=Object.assign({fence:!1,stretchy:!1},l);var u=a.create("token","mo",l,o.char);a.Push(u)},s.environment=function(a,o,l,u){var p=u[0],h=a.itemFactory.create("begin").setProperties({name:o,end:p});h=l.apply(void 0,C([a,h],M(u.slice(1)),!1)),a.Push(h)}})(y||(y={})),e.default=y},8562:function(R,e,v){var M=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g},C=this&&this.__spreadArray||function(o,l,u){if(u||arguments.length===2)for(var p,h=0,m=l.length;h<m;h++)!p&&h in l||(p||(p=Array.prototype.slice.call(l,0,h)),p[h]=l[h]);return o.concat(p||Array.prototype.slice.call(l))},x=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var d=y(v(5453)),f=v(8929),c=y(v(1256)),s=v(7233),a=function(){function o(l,u){u===void 0&&(u=[]),this.options={},this.packageData=new Map,this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.handlers=l.handlers,this.nodeFactory=new f.NodeFactory,this.nodeFactory.configuration=this,this.nodeFactory.setCreators(l.nodes),this.itemFactory=new d.default(l.items),this.itemFactory.configuration=this,s.defaultOptions.apply(void 0,C([this.options],M(u),!1)),(0,s.defaultOptions)(this.options,l.options)}return o.prototype.pushParser=function(l){this.parsers.unshift(l)},o.prototype.popParser=function(){this.parsers.shift()},Object.defineProperty(o.prototype,"parser",{get:function(){return this.parsers[0]},enumerable:!1,configurable:!0}),o.prototype.clear=function(){this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.tags.resetTag()},o.prototype.addNode=function(l,u){var p=this.nodeLists[l];if(p||(p=this.nodeLists[l]=[]),p.push(u),u.kind!==l){var h=c.default.getProperty(u,"in-lists")||"",m=(h?h.split(/,/):[]).concat(l).join(",");c.default.setProperty(u,"in-lists",m)}},o.prototype.getList=function(l){var u,p,h=this.nodeLists[l]||[],m=[];try{for(var g=x(h),E=g.next();!E.done;E=g.next()){var S=E.value;this.inTree(S)&&m.push(S)}}catch(O){u={error:O}}finally{try{E&&!E.done&&(p=g.return)&&p.call(g)}finally{if(u)throw u.error}}return this.nodeLists[l]=m,m},o.prototype.removeFromList=function(l,u){var p,h,m=this.nodeLists[l]||[];try{for(var g=x(u),E=g.next();!E.done;E=g.next()){var S=E.value,O=m.indexOf(S);O>=0&&m.splice(O,1)}}catch(A){p={error:A}}finally{try{E&&!E.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}},o.prototype.inTree=function(l){for(;l&&l!==this.root;)l=l.parent;return!!l},o}();e.default=a},1130:function(R,e,v){var M=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g},C=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},x=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var y,d=v(9007),f=x(v(1256)),c=x(v(8417)),s=x(v(3971)),a=v(5368);(function(o){var l=7.2,u={em:function(w){return w},ex:function(w){return .43*w},pt:function(w){return w/10},pc:function(w){return 1.2*w},px:function(w){return w*l/72},in:function(w){return w*l},cm:function(w){return w*l/2.54},mm:function(w){return w*l/25.4},mu:function(w){return w/18}},p="([-+]?([.,]\\d+|\\d+([.,]\\d*)?))",h="(pt|em|ex|mu|px|mm|cm|in|pc)",m=RegExp("^\\s*"+p+"\\s*"+h+"\\s*$"),g=RegExp("^\\s*"+p+"\\s*"+h+" ?");function E(w,L){L===void 0&&(L=!1);var I=w.match(L?g:m);return I?function(P){var k=M(P,3),B=k[0],F=k[1],H=k[2];return F!=="mu"?[B,F,H]:[S(u[F](parseFloat(B||"1"))).slice(0,-2),"em",H]}([I[1].replace(/,/,"."),I[4],I[0].length]):[null,null,0]}function S(w){return Math.abs(w)<6e-4?"0em":w.toFixed(3).replace(/\.?0+$/,"")+"em"}function O(w,L,I){L!=="{"&&L!=="}"||(L="\\"+L);var P="{\\bigg"+I+" "+L+"}",k="{\\big"+I+" "+L+"}";return new c.default("\\mathchoice"+P+k+k+k,{},w).mml()}function A(w,L,I){L=L.replace(/^\s+/,a.entities.nbsp).replace(/\s+$/,a.entities.nbsp);var P=w.create("text",L);return w.create("node","mtext",[],I,P)}function _(w,L,I){if(I.match(/^[a-z]/i)&&L.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)&&(L+=" "),L.length+I.length>w.configuration.options.maxBuffer)throw new s.default("MaxBufferSize","MathJax internal buffer size exceeded; is there a recursive macro call?");return L+I}function T(w,L){for(;L>0;)w=w.trim().slice(1,-1),L--;return w.trim()}function N(w,L){for(var I=w.length,P=0,k="",B=0,F=0,H=!0,j=!1;B<I;){var U=w[B++];switch(U){case" ":break;case"{":H?F++:(j=!1,F>P&&(F=P)),P++;break;case"}":P&&P--,(H||j)&&(F--,j=!0),H=!1;break;default:if(!P&&L.indexOf(U)!==-1)return[j?"true":T(k,F),U,w.slice(B)];H=!1,j=!1}k+=U}if(P)throw new s.default("ExtraOpenMissingClose","Extra open brace or missing close brace");return[j?"true":T(k,F),"",w.slice(B)]}o.matchDimen=E,o.dimen2em=function(w){var L=M(E(w),2),I=L[0],P=L[1],k=parseFloat(I||"1"),B=u[P];return B?B(k):0},o.Em=S,o.cols=function(){for(var w=[],L=0;L<arguments.length;L++)w[L]=arguments[L];return w.map(function(I){return S(I)}).join(" ")},o.fenced=function(w,L,I,P,k,B){k===void 0&&(k=""),B===void 0&&(B="");var F,H=w.nodeFactory,j=H.create("node","mrow",[],{open:L,close:P,texClass:d.TEXCLASS.INNER});if(k)F=new c.default("\\"+k+"l"+L,w.parser.stack.env,w).mml();else{var U=H.create("text",L);F=H.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:d.TEXCLASS.OPEN},U)}if(f.default.appendChildren(j,[F,I]),k)F=new c.default("\\"+k+"r"+P,w.parser.stack.env,w).mml();else{var z=H.create("text",P);F=H.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:d.TEXCLASS.CLOSE},z)}return B&&F.attributes.set("mathcolor",B),f.default.appendChildren(j,[F]),j},o.fixedFence=function(w,L,I,P){var k=w.nodeFactory.create("node","mrow",[],{open:L,close:P,texClass:d.TEXCLASS.ORD});return L&&f.default.appendChildren(k,[O(w,L,"l")]),f.default.isType(I,"mrow")?f.default.appendChildren(k,f.default.getChildren(I)):f.default.appendChildren(k,[I]),P&&f.default.appendChildren(k,[O(w,P,"r")]),k},o.mathPalette=O,o.fixInitialMO=function(w,L){for(var I=0,P=L.length;I<P;I++){var k=L[I];if(k&&!f.default.isType(k,"mspace")&&(!f.default.isType(k,"TeXAtom")||f.default.getChildren(k)[0]&&f.default.getChildren(f.default.getChildren(k)[0]).length)){if(f.default.isEmbellished(k)||f.default.isType(k,"TeXAtom")&&f.default.getTexClass(k)===d.TEXCLASS.REL){var B=w.nodeFactory.create("node","mi");L.unshift(B)}break}}},o.internalMath=function(w,L,I,P){if(w.configuration.options.internalMath)return w.configuration.options.internalMath(w,L,I,P);var k,B,F=P||w.stack.env.font,H=F?{mathvariant:F}:{},j=[],U=0,z=0,K="",W=0;if(L.match(/\\?[${}\\]|\\\(|\\(eq)?ref\s*\{/)){for(;U<L.length;)if((k=L.charAt(U++))==="$")K==="$"&&W===0?(B=w.create("node","TeXAtom",[new c.default(L.slice(z,U-1),{},w.configuration).mml()]),j.push(B),K="",z=U):K===""&&(z<U-1&&j.push(A(w,L.slice(z,U-1),H)),K="$",z=U);else if(k==="{"&&K!=="")W++;else if(k==="}")if(K==="}"&&W===0){var q=new c.default(L.slice(z,U),{},w.configuration).mml();B=w.create("node","TeXAtom",[q],H),j.push(B),K="",z=U}else K!==""&&W&&W--;else if(k==="\\")if(K===""&&L.substr(U).match(/^(eq)?ref\s*\{/)){var X=RegExp["$&"].length;z<U-1&&j.push(A(w,L.slice(z,U-1),H)),K="}",z=U-1,U+=X}else(k=L.charAt(U++))==="("&&K===""?(z<U-2&&j.push(A(w,L.slice(z,U-2),H)),K=")",z=U):k===")"&&K===")"&&W===0?(B=w.create("node","TeXAtom",[new c.default(L.slice(z,U-2),{},w.configuration).mml()]),j.push(B),K="",z=U):k.match(/[${}\\]/)&&K===""&&(U--,L=L.substr(0,U-1)+L.substr(U));if(K!=="")throw new s.default("MathNotTerminated","Math not terminated in text box")}return z<L.length&&j.push(A(w,L.slice(z),H)),I!=null?j=[w.create("node","mstyle",j,{displaystyle:!1,scriptlevel:I})]:j.length>1&&(j=[w.create("node","mrow",j)]),j},o.internalText=A,o.underOver=function(w,L,I,P,k){if(o.checkMovableLimits(L),f.default.isType(L,"munderover")&&f.default.isEmbellished(L)){f.default.setProperties(f.default.getCoreMO(L),{lspace:0,rspace:0});var B=w.create("node","mo",[],{rspace:0});L=w.create("node","mrow",[B,L])}var F=w.create("node","munderover",[L]);f.default.setChild(F,P==="over"?F.over:F.under,I);var H=F;return k&&(H=w.create("node","TeXAtom",[F],{texClass:d.TEXCLASS.OP,movesupsub:!0})),f.default.setProperty(H,"subsupOK",!0),H},o.checkMovableLimits=function(w){var L=f.default.isType(w,"mo")?f.default.getForm(w):null;(f.default.getProperty(w,"movablelimits")||L&&L[3]&&L[3].movablelimits)&&f.default.setProperties(w,{movablelimits:!1})},o.trimSpaces=function(w){if(typeof w!="string")return w;var L=w.trim();return L.match(/\\$/)&&w.match(/ $/)&&(L+=" "),L},o.setArrayAlign=function(w,L){return(L=o.trimSpaces(L||""))==="t"?w.arraydef.align="baseline 1":L==="b"?w.arraydef.align="baseline -1":L==="c"?w.arraydef.align="axis":L&&(w.arraydef.align=L),w},o.substituteArgs=function(w,L,I){for(var P="",k="",B=0;B<I.length;){var F=I.charAt(B++);if(F==="\\")P+=F+I.charAt(B++);else if(F==="#")if((F=I.charAt(B++))==="#")P+=F;else{if(!F.match(/[1-9]/)||parseInt(F,10)>L.length)throw new s.default("IllegalMacroParam","Illegal macro parameter reference");k=_(w,_(w,k,P),L[parseInt(F,10)-1]),P=""}else P+=F}return _(w,k,P)},o.addArgs=_,o.checkMaxMacros=function(w,L){if(L===void 0&&(L=!0),!(++w.macroCount<=w.configuration.options.maxMacros))throw L?new s.default("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is here a recursive macro call?"):new s.default("MaxMacroSub2","MathJax maximum substitution count exceeded; is there a recursive latex environment?")},o.checkEqnEnv=function(w){if(w.stack.global.eqnenv)throw new s.default("ErroneousNestingEq","Erroneous nesting of equation structures");w.stack.global.eqnenv=!0},o.copyNode=function(w,L){var I=w.copy(),P=L.configuration;return I.walkTree(function(k){var B,F;P.addNode(k.kind,k);var H=(k.getProperty("in-lists")||"").split(/,/);try{for(var j=C(H),U=j.next();!U.done;U=j.next()){var z=U.value;z&&P.addNode(z,k)}}catch(K){B={error:K}}finally{try{U&&!U.done&&(F=j.return)&&F.call(j)}finally{if(B)throw B.error}}}),I},o.MmlFilterAttribute=function(w,L,I){return I},o.getFontDef=function(w){var L=w.stack.env.font;return L?{mathvariant:L}:{}},o.keyvalOptions=function(w,L,I){var P,k;L===void 0&&(L=null),I===void 0&&(I=!1);var B=function(U){for(var z,K,W,q,X,D={},V=U;V;)q=(z=M(N(V,["=",","]),3))[0],W=z[1],V=z[2],W==="="?(X=(K=M(N(V,[","]),3))[0],W=K[1],V=K[2],X=X==="false"||X==="true"?JSON.parse(X):X,D[q]=X):q&&(D[q]=!0);return D}(w);if(L)try{for(var F=C(Object.keys(B)),H=F.next();!H.done;H=F.next()){var j=H.value;if(!L.hasOwnProperty(j)){if(I)throw new s.default("InvalidOption","Invalid option: %1",j);delete B[j]}}}catch(U){P={error:U}}finally{try{H&&!H.done&&(k=F.return)&&k.call(F)}finally{if(P)throw P.error}}return B}})(y||(y={})),e.default=y},9497:function(R,e,v){var M=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p},x=this&&this.__spreadArray||function(c,s,a){if(a||arguments.length===2)for(var o,l=0,u=s.length;l<u;l++)!o&&l in s||(o||(o=Array.prototype.slice.call(s,0,l)),o[l]=s[l]);return c.concat(o||Array.prototype.slice.call(s))},y=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var d=y(v(1256)),f=function(){function c(s,a,o){this._factory=s,this._env=a,this.global={},this.stack=[],this.global={isInner:o},this.stack=[this._factory.create("start",this.global)],a&&(this.stack[0].env=a),this.env=this.stack[0].env}return Object.defineProperty(c.prototype,"env",{get:function(){return this._env},set:function(s){this._env=s},enumerable:!1,configurable:!0}),c.prototype.Push=function(){for(var s,a,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];try{for(var u=M(o),p=u.next();!p.done;p=u.next()){var h=p.value;if(h){var m=d.default.isNode(h)?this._factory.create("mml",h):h;m.global=this.global;var g=C(this.stack.length?this.Top().checkItem(m):[null,!0],2),E=g[0],S=g[1];S&&(E?(this.Pop(),this.Push.apply(this,x([],C(E),!1))):(this.stack.push(m),m.env?(m.copyEnv&&Object.assign(m.env,this.env),this.env=m.env):m.env=this.env))}}}catch(O){s={error:O}}finally{try{p&&!p.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}},c.prototype.Pop=function(){var s=this.stack.pop();return s.isOpen||delete s.env,this.env=this.stack.length?this.Top().env:{},s},c.prototype.Top=function(s){return s===void 0&&(s=1),this.stack.length<s?null:this.stack[this.stack.length-s]},c.prototype.Prev=function(s){var a=this.Top();return s?a.First:a.Pop()},c.prototype.toString=function(){return`stack[
  `+this.stack.join(`
  `)+`
]`},c}();e.default=f},8292:function(R,e,v){var M,C=this&&this.__extends||(M=function(o,l){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(u[h]=p[h])},M(o,l)},function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=o}M(o,l),o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),x=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g},y=this&&this.__spreadArray||function(o,l,u){if(u||arguments.length===2)for(var p,h=0,m=l.length;h<m;h++)!p&&h in l||(p||(p=Array.prototype.slice.call(l,0,h)),p[h]=l[h]);return o.concat(p||Array.prototype.slice.call(l))},d=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseItem=e.MmlStack=void 0;var c=f(v(3971)),s=function(){function o(l){this._nodes=l}return Object.defineProperty(o.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),o.prototype.Push=function(){for(var l,u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];(l=this._nodes).push.apply(l,y([],x(u),!1))},o.prototype.Pop=function(){return this._nodes.pop()},Object.defineProperty(o.prototype,"First",{get:function(){return this._nodes[this.Size()-1]},set:function(l){this._nodes[this.Size()-1]=l},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Last",{get:function(){return this._nodes[0]},set:function(l){this._nodes[0]=l},enumerable:!1,configurable:!0}),o.prototype.Peek=function(l){return l==null&&(l=1),this._nodes.slice(this.Size()-l)},o.prototype.Size=function(){return this._nodes.length},o.prototype.Clear=function(){this._nodes=[]},o.prototype.toMml=function(l,u){return l===void 0&&(l=!0),this._nodes.length!==1||u?this.create("node",l?"inferredMrow":"mrow",this._nodes,{}):this.First},o.prototype.create=function(l){for(var u,p=[],h=1;h<arguments.length;h++)p[h-1]=arguments[h];return(u=this.factory.configuration.nodeFactory).create.apply(u,y([l],x(p),!1))},o}();e.MmlStack=s;var a=function(o){function l(u){for(var p=[],h=1;h<arguments.length;h++)p[h-1]=arguments[h];var m=o.call(this,p)||this;return m.factory=u,m.global={},m._properties={},m.isOpen&&(m._env={}),m}return C(l,o),Object.defineProperty(l.prototype,"kind",{get:function(){return"base"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"env",{get:function(){return this._env},set:function(u){this._env=u},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"copyEnv",{get:function(){return!0},enumerable:!1,configurable:!0}),l.prototype.getProperty=function(u){return this._properties[u]},l.prototype.setProperty=function(u,p){return this._properties[u]=p,this},Object.defineProperty(l.prototype,"isOpen",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isClose",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isFinal",{get:function(){return!1},enumerable:!1,configurable:!0}),l.prototype.isKind=function(u){return u===this.kind},l.prototype.checkItem=function(u){if(u.isKind("over")&&this.isOpen&&(u.setProperty("num",this.toMml(!1)),this.Clear()),u.isKind("cell")&&this.isOpen){if(u.getProperty("linebreak"))return l.fail;throw new c.default("Misplaced","Misplaced %1",u.getName())}if(u.isClose&&this.getErrors(u.kind)){var p=x(this.getErrors(u.kind),2),h=p[0],m=p[1];throw new c.default(h,m,u.getName())}return u.isFinal?(this.Push(u.First),l.fail):l.success},l.prototype.clearEnv=function(){var u,p;try{for(var h=d(Object.keys(this.env)),m=h.next();!m.done;m=h.next()){var g=m.value;delete this.env[g]}}catch(E){u={error:E}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(u)throw u.error}}},l.prototype.setProperties=function(u){return Object.assign(this._properties,u),this},l.prototype.getName=function(){return this.getProperty("name")},l.prototype.toString=function(){return this.kind+"["+this.nodes.join("; ")+"]"},l.prototype.getErrors=function(u){return(this.constructor.errors||{})[u]||l.errors[u]},l.fail=[null,!1],l.success=[null,!0],l.errors={end:["MissingBeginExtraEnd","Missing \\begin{%1} or extra \\end{%1}"],close:["ExtraCloseMissingOpen","Extra close brace or missing open brace"],right:["MissingLeftExtraRight","Missing \\left or extra \\right"],middle:["ExtraMiddle","Extra \\middle"]},l}(s);e.BaseItem=a},5453:function(R,e,v){var M,C,x=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var y=v(8292),d=v(4574),f=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return x(a,s),a}(y.BaseItem),c=function(s){function a(){var o=s!==null&&s.apply(this,arguments)||this;return o.defaultKind="dummy",o.configuration=null,o}return x(a,s),a.DefaultStackItems=((C={})[f.prototype.kind]=f,C),a}(d.AbstractFactory);e.default=c},8803:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Macro=e.Symbol=void 0;var v=function(){function C(x,y,d){this._symbol=x,this._char=y,this._attributes=d}return Object.defineProperty(C.prototype,"symbol",{get:function(){return this._symbol},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"char",{get:function(){return this._char},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"attributes",{get:function(){return this._attributes},enumerable:!1,configurable:!0}),C}();e.Symbol=v;var M=function(){function C(x,y,d){d===void 0&&(d=[]),this._symbol=x,this._func=y,this._args=d}return Object.defineProperty(C.prototype,"symbol",{get:function(){return this._symbol},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"func",{get:function(){return this._func},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"args",{get:function(){return this._args},enumerable:!1,configurable:!0}),C}();e.Macro=M},9140:function(R,e,v){var M,C=this&&this.__extends||(M=function(E,S){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,A){O.__proto__=A}||function(O,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(O[_]=A[_])},M(E,S)},function(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function O(){this.constructor=E}M(E,S),E.prototype=S===null?Object.create(S):(O.prototype=S.prototype,new O)}),x=this&&this.__read||function(E,S){var O=typeof Symbol=="function"&&E[Symbol.iterator];if(!O)return E;var A,_,T=O.call(E),N=[];try{for(;(S===void 0||S-- >0)&&!(A=T.next()).done;)N.push(A.value)}catch(w){_={error:w}}finally{try{A&&!A.done&&(O=T.return)&&O.call(T)}finally{if(_)throw _.error}}return N},y=this&&this.__values||function(E){var S=typeof Symbol=="function"&&Symbol.iterator,O=S&&E[S],A=0;if(O)return O.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&A>=E.length&&(E=void 0),{value:E&&E[A++],done:!E}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__spreadArray||function(E,S,O){if(O||arguments.length===2)for(var A,_=0,T=S.length;_<T;_++)!A&&_ in S||(A||(A=Array.prototype.slice.call(S,0,_)),A[_]=S[_]);return E.concat(A||Array.prototype.slice.call(S))};Object.defineProperty(e,"__esModule",{value:!0}),e.EnvironmentMap=e.CommandMap=e.MacroMap=e.DelimiterMap=e.CharacterMap=e.AbstractParseMap=e.RegExpMap=e.AbstractSymbolMap=e.parseResult=void 0;var f=v(8803),c=v(2947);function s(E){return E===void 0||E}e.parseResult=s;var a=function(){function E(S,O){this._name=S,this._parser=O,c.MapHandler.register(this)}return Object.defineProperty(E.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),E.prototype.parserFor=function(S){return this.contains(S)?this.parser:null},E.prototype.parse=function(S){var O=x(S,2),A=O[0],_=O[1],T=this.parserFor(_),N=this.lookup(_);return T&&N?s(T(A,N)):null},Object.defineProperty(E.prototype,"parser",{get:function(){return this._parser},set:function(S){this._parser=S},enumerable:!1,configurable:!0}),E}();e.AbstractSymbolMap=a;var o=function(E){function S(O,A,_){var T=E.call(this,O,A)||this;return T._regExp=_,T}return C(S,E),S.prototype.contains=function(O){return this._regExp.test(O)},S.prototype.lookup=function(O){return this.contains(O)?O:null},S}(a);e.RegExpMap=o;var l=function(E){function S(){var O=E!==null&&E.apply(this,arguments)||this;return O.map=new Map,O}return C(S,E),S.prototype.lookup=function(O){return this.map.get(O)},S.prototype.contains=function(O){return this.map.has(O)},S.prototype.add=function(O,A){this.map.set(O,A)},S.prototype.remove=function(O){this.map.delete(O)},S}(a);e.AbstractParseMap=l;var u=function(E){function S(O,A,_){var T,N,w=E.call(this,O,A)||this;try{for(var L=y(Object.keys(_)),I=L.next();!I.done;I=L.next()){var P=I.value,k=_[P],B=x(typeof k=="string"?[k,null]:k,2),F=B[0],H=B[1],j=new f.Symbol(P,F,H);w.add(P,j)}}catch(U){T={error:U}}finally{try{I&&!I.done&&(N=L.return)&&N.call(L)}finally{if(T)throw T.error}}return w}return C(S,E),S}(l);e.CharacterMap=u;var p=function(E){function S(){return E!==null&&E.apply(this,arguments)||this}return C(S,E),S.prototype.parse=function(O){var A=x(O,2),_=A[0],T=A[1];return E.prototype.parse.call(this,[_,"\\"+T])},S}(u);e.DelimiterMap=p;var h=function(E){function S(O,A,_){var T,N,w=E.call(this,O,null)||this;try{for(var L=y(Object.keys(A)),I=L.next();!I.done;I=L.next()){var P=I.value,k=A[P],B=x(typeof k=="string"?[k]:k),F=B[0],H=B.slice(1),j=new f.Macro(P,_[F],H);w.add(P,j)}}catch(U){T={error:U}}finally{try{I&&!I.done&&(N=L.return)&&N.call(L)}finally{if(T)throw T.error}}return w}return C(S,E),S.prototype.parserFor=function(O){var A=this.lookup(O);return A?A.func:null},S.prototype.parse=function(O){var A=x(O,2),_=A[0],T=A[1],N=this.lookup(T),w=this.parserFor(T);return N&&w?s(w.apply(void 0,d([_,N.symbol],x(N.args),!1))):null},S}(l);e.MacroMap=h;var m=function(E){function S(){return E!==null&&E.apply(this,arguments)||this}return C(S,E),S.prototype.parse=function(O){var A=x(O,2),_=A[0],T=A[1],N=this.lookup(T),w=this.parserFor(T);if(!N||!w)return null;var L=_.currentCS;_.currentCS="\\"+T;var I=w.apply(void 0,d([_,"\\"+N.symbol],x(N.args),!1));return _.currentCS=L,s(I)},S}(h);e.CommandMap=m;var g=function(E){function S(O,A,_,T){var N=E.call(this,O,_,T)||this;return N.parser=A,N}return C(S,E),S.prototype.parse=function(O){var A=x(O,2),_=A[0],T=A[1],N=this.lookup(T),w=this.parserFor(T);return N&&w?s(this.parser(_,N.symbol,w,N.args)):null},S}(h);e.EnvironmentMap=g},6521:function(R,e,v){var M,C=this&&this.__extends||(M=function(l,u){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},M(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function p(){this.constructor=l}M(l,u),l.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}),x=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,p=u&&l[u],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.TagsFactory=e.AllTags=e.NoTags=e.AbstractTags=e.TagInfo=e.Label=void 0;var d=y(v(8417)),f=function(l,u){l===void 0&&(l="???"),u===void 0&&(u=""),this.tag=l,this.id=u};e.Label=f;var c=function(l,u,p,h,m,g,E,S){l===void 0&&(l=""),u===void 0&&(u=!1),p===void 0&&(p=!1),h===void 0&&(h=null),m===void 0&&(m=""),g===void 0&&(g=""),E===void 0&&(E=!1),S===void 0&&(S=""),this.env=l,this.taggable=u,this.defaultTags=p,this.tag=h,this.tagId=m,this.tagFormat=g,this.noTag=E,this.labelId=S};e.TagInfo=c;var s=function(){function l(){this.counter=0,this.allCounter=0,this.configuration=null,this.ids={},this.allIds={},this.labels={},this.allLabels={},this.redo=!1,this.refUpdate=!1,this.currentTag=new c,this.history=[],this.stack=[],this.enTag=function(u,p){var h=this.configuration.nodeFactory,m=h.create("node","mtd",[u]),g=h.create("node","mlabeledtr",[p,m]);return h.create("node","mtable",[g],{side:this.configuration.options.tagSide,minlabelspacing:this.configuration.options.tagIndent,displaystyle:!0})}}return l.prototype.start=function(u,p,h){this.currentTag&&this.stack.push(this.currentTag),this.currentTag=new c(u,p,h)},Object.defineProperty(l.prototype,"env",{get:function(){return this.currentTag.env},enumerable:!1,configurable:!0}),l.prototype.end=function(){this.history.push(this.currentTag),this.currentTag=this.stack.pop()},l.prototype.tag=function(u,p){this.currentTag.tag=u,this.currentTag.tagFormat=p?u:this.formatTag(u),this.currentTag.noTag=!1},l.prototype.notag=function(){this.tag("",!0),this.currentTag.noTag=!0},Object.defineProperty(l.prototype,"noTag",{get:function(){return this.currentTag.noTag},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"label",{get:function(){return this.currentTag.labelId},set:function(u){this.currentTag.labelId=u},enumerable:!1,configurable:!0}),l.prototype.formatUrl=function(u,p){return p+"#"+encodeURIComponent(u)},l.prototype.formatTag=function(u){return"("+u+")"},l.prototype.formatId=function(u){return"mjx-eqn:"+u.replace(/\s/g,"_")},l.prototype.formatNumber=function(u){return u.toString()},l.prototype.autoTag=function(){this.currentTag.tag==null&&(this.counter++,this.tag(this.formatNumber(this.counter),!1))},l.prototype.clearTag=function(){this.label="",this.tag(null,!0),this.currentTag.tagId=""},l.prototype.getTag=function(u){if(u===void 0&&(u=!1),u)return this.autoTag(),this.makeTag();var p=this.currentTag;return p.taggable&&!p.noTag&&(p.defaultTags&&this.autoTag(),p.tag)?this.makeTag():null},l.prototype.resetTag=function(){this.history=[],this.redo=!1,this.refUpdate=!1,this.clearTag()},l.prototype.reset=function(u){u===void 0&&(u=0),this.resetTag(),this.counter=this.allCounter=u,this.allLabels={},this.allIds={}},l.prototype.startEquation=function(u){this.history=[],this.stack=[],this.clearTag(),this.currentTag=new c("",void 0,void 0),this.labels={},this.ids={},this.counter=this.allCounter,this.redo=!1;var p=u.inputData.recompile;p&&(this.refUpdate=!0,this.counter=p.counter)},l.prototype.finishEquation=function(u){this.redo&&(u.inputData.recompile={state:u.state(),counter:this.allCounter}),this.refUpdate||(this.allCounter=this.counter),Object.assign(this.allIds,this.ids),Object.assign(this.allLabels,this.labels)},l.prototype.finalize=function(u,p){if(!p.display||this.currentTag.env||this.currentTag.tag==null)return u;var h=this.makeTag();return this.enTag(u,h)},l.prototype.makeId=function(){this.currentTag.tagId=this.formatId(this.configuration.options.useLabelIds&&this.label||this.currentTag.tag)},l.prototype.makeTag=function(){this.makeId(),this.label&&(this.labels[this.label]=new f(this.currentTag.tag,this.currentTag.tagId));var u=new d.default("\\text{"+this.currentTag.tagFormat+"}",{},this.configuration).mml();return this.configuration.nodeFactory.create("node","mtd",[u],{id:this.currentTag.tagId})},l}();e.AbstractTags=s;var a=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.prototype.autoTag=function(){},u.prototype.getTag=function(){return this.currentTag.tag?l.prototype.getTag.call(this):null},u}(s);e.NoTags=a;var o=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.prototype.finalize=function(p,h){if(!h.display||this.history.find(function(g){return g.taggable}))return p;var m=this.getTag(!0);return this.enTag(p,m)},u}(s);e.AllTags=o,function(l){var u=new Map([["none",a],["all",o]]),p="none";l.OPTIONS={tags:p,tagSide:"right",tagIndent:"0.8em",useLabelIds:!0,ignoreDuplicateLabels:!1},l.add=function(h,m){u.set(h,m)},l.addTags=function(h){var m,g;try{for(var E=x(Object.keys(h)),S=E.next();!S.done;S=E.next()){var O=S.value;l.add(O,h[O])}}catch(A){m={error:A}}finally{try{S&&!S.done&&(g=E.return)&&g.call(E)}finally{if(m)throw m.error}}},l.create=function(h){var m=u.get(h)||u.get(p);if(!m)throw Error("Unknown tags class");return new m},l.setDefault=function(h){p=h},l.getDefault=function(){return l.create(p)}}(e.TagsFactory||(e.TagsFactory={}))},8317:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TexConstant=void 0,function(v){v.Variant={NORMAL:"normal",BOLD:"bold",ITALIC:"italic",BOLDITALIC:"bold-italic",DOUBLESTRUCK:"double-struck",FRAKTUR:"fraktur",BOLDFRAKTUR:"bold-fraktur",SCRIPT:"script",BOLDSCRIPT:"bold-script",SANSSERIF:"sans-serif",BOLDSANSSERIF:"bold-sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",MONOSPACE:"monospace",INITIAL:"inital",TAILED:"tailed",LOOPED:"looped",STRETCHED:"stretched",CALLIGRAPHIC:"-tex-calligraphic",BOLDCALLIGRAPHIC:"-tex-bold-calligraphic",OLDSTYLE:"-tex-oldstyle",BOLDOLDSTYLE:"-tex-bold-oldstyle",MATHITALIC:"-tex-mathit"},v.Form={PREFIX:"prefix",INFIX:"infix",POSTFIX:"postfix"},v.LineBreak={AUTO:"auto",NEWLINE:"newline",NOBREAK:"nobreak",GOODBREAK:"goodbreak",BADBREAK:"badbreak"},v.LineBreakStyle={BEFORE:"before",AFTER:"after",DUPLICATE:"duplicate",INFIXLINBREAKSTYLE:"infixlinebreakstyle"},v.IndentAlign={LEFT:"left",CENTER:"center",RIGHT:"right",AUTO:"auto",ID:"id",INDENTALIGN:"indentalign"},v.IndentShift={INDENTSHIFT:"indentshift"},v.LineThickness={THIN:"thin",MEDIUM:"medium",THICK:"thick"},v.Notation={LONGDIV:"longdiv",ACTUARIAL:"actuarial",PHASORANGLE:"phasorangle",RADICAL:"radical",BOX:"box",ROUNDEDBOX:"roundedbox",CIRCLE:"circle",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",UPDIAGONALSTRIKE:"updiagonalstrike",DOWNDIAGONALSTRIKE:"downdiagonalstrike",VERTICALSTRIKE:"verticalstrike",HORIZONTALSTRIKE:"horizontalstrike",NORTHEASTARROW:"northeastarrow",MADRUWB:"madruwb",UPDIAGONALARROW:"updiagonalarrow"},v.Align={TOP:"top",BOTTOM:"bottom",CENTER:"center",BASELINE:"baseline",AXIS:"axis",LEFT:"left",RIGHT:"right"},v.Lines={NONE:"none",SOLID:"solid",DASHED:"dashed"},v.Side={LEFT:"left",RIGHT:"right",LEFTOVERLAP:"leftoverlap",RIGHTOVERLAP:"rightoverlap"},v.Width={AUTO:"auto",FIT:"fit"},v.Actiontype={TOGGLE:"toggle",STATUSLINE:"statusline",TOOLTIP:"tooltip",INPUT:"input"},v.Overflow={LINBREAK:"linebreak",SCROLL:"scroll",ELIDE:"elide",TRUNCATE:"truncate",SCALE:"scale"},v.Unit={EM:"em",EX:"ex",PX:"px",IN:"in",CM:"cm",MM:"mm",PT:"pt",PC:"pc"}}(e.TexConstant||(e.TexConstant={}))},3971:function(R,e){Object.defineProperty(e,"__esModule",{value:!0});var v=function(){function M(C,x){for(var y=[],d=2;d<arguments.length;d++)y[d-2]=arguments[d];this.id=C,this.message=M.processString(x,y)}return M.processString=function(C,x){for(var y=C.split(M.pattern),d=1,f=y.length;d<f;d+=2){var c=y[d].charAt(0);c>="0"&&c<="9"?(y[d]=x[parseInt(y[d],10)-1],typeof y[d]=="number"&&(y[d]=y[d].toString())):c==="{"&&((c=y[d].substr(1))>="0"&&c<="9"?(y[d]=x[parseInt(y[d].substr(1,y[d].length-2),10)-1],typeof y[d]=="number"&&(y[d]=y[d].toString())):y[d].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/)&&(y[d]="%"+y[d])),y[d]==null&&(y[d]="???")}return y.join("")},M.pattern=/%(\d+|\{\d+\}|\{[a-z]+:\%\d+(?:\|(?:%\{\d+\}|%.|[^\}])*)+\}|.)/g,M}();e.default=v},8417:function(R,e,v){var M=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g},x=this&&this.__spreadArray||function(o,l,u){if(u||arguments.length===2)for(var p,h=0,m=l.length;h<m;h++)!p&&h in l||(p||(p=Array.prototype.slice.call(l,0,h)),p[h]=l[h]);return o.concat(p||Array.prototype.slice.call(l))},y=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var d=y(v(1130)),f=y(v(9497)),c=y(v(3971)),s=v(9007),a=function(){function o(l,u,p){var h,m;this._string=l,this.configuration=p,this.macroCount=0,this.i=0,this.currentCS="";var g,E=u.hasOwnProperty("isInner"),S=u.isInner;if(delete u.isInner,u){g={};try{for(var O=M(Object.keys(u)),A=O.next();!A.done;A=O.next()){var _=A.value;g[_]=u[_]}}catch(T){h={error:T}}finally{try{A&&!A.done&&(m=O.return)&&m.call(O)}finally{if(h)throw h.error}}}this.configuration.pushParser(this),this.stack=new f.default(this.itemFactory,g,!E||S),this.Parse(),this.Push(this.itemFactory.create("stop"))}return Object.defineProperty(o.prototype,"options",{get:function(){return this.configuration.options},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"itemFactory",{get:function(){return this.configuration.itemFactory},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tags",{get:function(){return this.configuration.tags},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"string",{get:function(){return this._string},set:function(l){this._string=l},enumerable:!1,configurable:!0}),o.prototype.parse=function(l,u){return this.configuration.handlers.get(l).parse(u)},o.prototype.lookup=function(l,u){return this.configuration.handlers.get(l).lookup(u)},o.prototype.contains=function(l,u){return this.configuration.handlers.get(l).contains(u)},o.prototype.toString=function(){var l,u,p="";try{for(var h=M(Array.from(this.configuration.handlers.keys())),m=h.next();!m.done;m=h.next()){var g=m.value;p+=g+": "+this.configuration.handlers.get(g)+`
`}}catch(E){l={error:E}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}return p},o.prototype.Parse=function(){for(var l;this.i<this.string.length;)l=this.getCodePoint(),this.i+=l.length,this.parse("character",[this,l])},o.prototype.Push=function(l){l instanceof s.AbstractMmlNode&&l.isInferred?this.PushAll(l.childNodes):this.stack.Push(l)},o.prototype.PushAll=function(l){var u,p;try{for(var h=M(l),m=h.next();!m.done;m=h.next()){var g=m.value;this.stack.Push(g)}}catch(E){u={error:E}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(u)throw u.error}}},o.prototype.mml=function(){if(!this.stack.Top().isKind("mml"))return null;var l=this.stack.Top().First;return this.configuration.popParser(),l},o.prototype.convertDelimiter=function(l){var u=this.lookup("delimiter",l);return u?u.char:null},o.prototype.getCodePoint=function(){var l=this.string.codePointAt(this.i);return l===void 0?"":String.fromCodePoint(l)},o.prototype.nextIsSpace=function(){return!!this.string.charAt(this.i).match(/\s/)},o.prototype.GetNext=function(){for(;this.nextIsSpace();)this.i++;return this.getCodePoint()},o.prototype.GetCS=function(){var l=this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);return l?(this.i+=l[0].length,l[2]||l[1]):(this.i++," ")},o.prototype.GetArgument=function(l,u){switch(this.GetNext()){case"":if(!u)throw new c.default("MissingArgFor","Missing argument for %1",this.currentCS);return null;case"}":if(!u)throw new c.default("ExtraCloseMissingOpen","Extra close brace or missing open brace");return null;case"\\":return this.i++,"\\"+this.GetCS();case"{":for(var p=++this.i,h=1;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"\\":this.i++;break;case"{":h++;break;case"}":if(--h==0)return this.string.slice(p,this.i-1)}throw new c.default("MissingCloseBrace","Missing close brace")}var m=this.getCodePoint();return this.i+=m.length,m},o.prototype.GetBrackets=function(l,u){if(this.GetNext()!=="[")return u;for(var p=++this.i,h=0;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"{":h++;break;case"\\":this.i++;break;case"}":if(h--<=0)throw new c.default("ExtraCloseLooking","Extra close brace while looking for %1","']'");break;case"]":if(h===0)return this.string.slice(p,this.i-1)}throw new c.default("MissingCloseBracket","Could not find closing ']' for argument to %1",this.currentCS)},o.prototype.GetDelimiter=function(l,u){var p=this.GetNext();if(this.i+=p.length,this.i<=this.string.length&&(p==="\\"?p+=this.GetCS():p==="{"&&u&&(this.i--,p=this.GetArgument(l).trim()),this.contains("delimiter",p)))return this.convertDelimiter(p);throw new c.default("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)},o.prototype.GetDimen=function(l){if(this.GetNext()==="{"){var u=this.GetArgument(l),p=C(d.default.matchDimen(u),2),h=p[0],m=p[1];if(h)return h+m}else{u=this.string.slice(this.i);var g=C(d.default.matchDimen(u,!0),3),E=(h=g[0],m=g[1],g[2]);if(h)return this.i+=E,h+m}throw new c.default("MissingDimOrUnits","Missing dimension or its units for %1",this.currentCS)},o.prototype.GetUpTo=function(l,u){for(;this.nextIsSpace();)this.i++;for(var p=this.i,h=0;this.i<this.string.length;){var m=this.i,g=this.GetNext();switch(this.i+=g.length,g){case"\\":g+=this.GetCS();break;case"{":h++;break;case"}":if(h===0)throw new c.default("ExtraCloseLooking","Extra close brace while looking for %1",u);h--}if(h===0&&g===u)return this.string.slice(p,m)}throw new c.default("TokenNotFoundForCommand","Could not find %1 for %2",u,this.currentCS)},o.prototype.ParseArg=function(l){return new o(this.GetArgument(l),this.stack.env,this.configuration).mml()},o.prototype.ParseUpTo=function(l,u){return new o(this.GetUpTo(l,u),this.stack.env,this.configuration).mml()},o.prototype.GetDelimiterArg=function(l){var u=d.default.trimSpaces(this.GetArgument(l));if(u==="")return null;if(this.contains("delimiter",u))return u;throw new c.default("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)},o.prototype.GetStar=function(){var l=this.GetNext()==="*";return l&&this.i++,l},o.prototype.create=function(l){for(var u,p=[],h=1;h<arguments.length;h++)p[h-1]=arguments[h];return(u=this.configuration.nodeFactory).create.apply(u,x([l],C(p),!1))},o}();e.default=a},8021:function(R,e,v){var M,C,x=this&&this.__extends||(M=function(o,l){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(u[h]=p[h])},M(o,l)},function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=o}M(o,l),o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)});Object.defineProperty(e,"__esModule",{value:!0}),e.AmsConfiguration=e.AmsTags=void 0;var y=v(9899),d=v(2790),f=v(6521),c=v(4387);v(7379);var s=v(9140),a=function(o){function l(){return o!==null&&o.apply(this,arguments)||this}return x(l,o),l}(f.AbstractTags);e.AmsTags=a,e.AmsConfiguration=y.Configuration.create("ams",{handler:{character:["AMSmath-operatorLetter"],delimiter:["AMSsymbols-delimiter","AMSmath-delimiter"],macro:["AMSsymbols-mathchar0mi","AMSsymbols-mathchar0mo","AMSsymbols-delimiter","AMSsymbols-macros","AMSmath-mathchar0mo","AMSmath-macros","AMSmath-delimiter"],environment:["AMSmath-environment"]},items:(C={},C[d.MultlineItem.prototype.kind]=d.MultlineItem,C[d.FlalignItem.prototype.kind]=d.FlalignItem,C),tags:{ams:a},init:function(o){new s.CommandMap(c.NEW_OPS,{},{}),o.append(y.Configuration.local({handler:{macro:[c.NEW_OPS]},priority:-1}))},config:function(o,l){l.parseOptions.options.multlineWidth&&(l.parseOptions.options.ams.multlineWidth=l.parseOptions.options.multlineWidth),delete l.parseOptions.options.multlineWidth},options:{multlineWidth:"",ams:{multlineWidth:"100%",multlineIndent:"1em"}}})},2790:function(R,e,v){var M,C=this&&this.__extends||(M=function(u,p){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])},M(u,p)},function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function h(){this.constructor=u}M(u,p),u.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),x=this&&this.__assign||function(){return x=Object.assign||function(u){for(var p,h=1,m=arguments.length;h<m;h++)for(var g in p=arguments[h])Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g]);return u},x.apply(this,arguments)},y=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.FlalignItem=e.MultlineItem=void 0;var d=v(1181),f=y(v(1130)),c=y(v(1256)),s=y(v(3971)),a=v(8317),o=function(u){function p(h){for(var m=[],g=1;g<arguments.length;g++)m[g-1]=arguments[g];var E=u.call(this,h)||this;return E.factory.configuration.tags.start("multline",!0,m[0]),E}return C(p,u),Object.defineProperty(p.prototype,"kind",{get:function(){return"multline"},enumerable:!1,configurable:!0}),p.prototype.EndEntry=function(){this.table.length&&f.default.fixInitialMO(this.factory.configuration,this.nodes);var h=this.getProperty("shove"),m=this.create("node","mtd",this.nodes,h?{columnalign:h}:{});this.setProperty("shove",null),this.row.push(m),this.Clear()},p.prototype.EndRow=function(){if(this.row.length!==1)throw new s.default("MultlineRowsOneCol","The rows within the %1 environment must have exactly one column","multline");var h=this.create("node","mtr",this.row);this.table.push(h),this.row=[]},p.prototype.EndTable=function(){if(u.prototype.EndTable.call(this),this.table.length){var h=this.table.length-1,m=-1;c.default.getAttribute(c.default.getChildren(this.table[0])[0],"columnalign")||c.default.setAttribute(c.default.getChildren(this.table[0])[0],"columnalign",a.TexConstant.Align.LEFT),c.default.getAttribute(c.default.getChildren(this.table[h])[0],"columnalign")||c.default.setAttribute(c.default.getChildren(this.table[h])[0],"columnalign",a.TexConstant.Align.RIGHT);var g=this.factory.configuration.tags.getTag();if(g){m=this.arraydef.side===a.TexConstant.Align.LEFT?0:this.table.length-1;var E=this.table[m],S=this.create("node","mlabeledtr",[g].concat(c.default.getChildren(E)));c.default.copyAttributes(E,S),this.table[m]=S}}this.factory.configuration.tags.end()},p}(d.ArrayItem);e.MultlineItem=o;var l=function(u){function p(h,m,g,E,S){var O=u.call(this,h)||this;return O.name=m,O.numbered=g,O.padded=E,O.center=S,O.factory.configuration.tags.start(m,g,g),O}return C(p,u),Object.defineProperty(p.prototype,"kind",{get:function(){return"flalign"},enumerable:!1,configurable:!0}),p.prototype.EndEntry=function(){u.prototype.EndEntry.call(this);var h=this.getProperty("xalignat");if(h&&this.row.length>h)throw new s.default("XalignOverflow","Extra %1 in row of %2","&",this.name)},p.prototype.EndRow=function(){for(var h,m=this.row,g=this.getProperty("xalignat");m.length<g;)m.push(this.create("node","mtd"));for(this.row=[],this.padded&&this.row.push(this.create("node","mtd"));h=m.shift();)this.row.push(h),(h=m.shift())&&this.row.push(h),(m.length||this.padded)&&this.row.push(this.create("node","mtd"));this.row.length>this.maxrow&&(this.maxrow=this.row.length),u.prototype.EndRow.call(this);var E=this.table[this.table.length-1];if(this.getProperty("zeroWidthLabel")&&E.isKind("mlabeledtr")){var S=c.default.getChildren(E)[0],O=this.factory.configuration.options.tagSide,A=x({width:0},O==="right"?{lspace:"-1width"}:{}),_=this.create("node","mpadded",c.default.getChildren(S),A);S.setChildren([_])}},p.prototype.EndTable=function(){u.prototype.EndTable.call(this),this.center&&this.maxrow<=2&&(delete this.arraydef.width,delete this.global.indentalign)},p}(d.EqnArrayItem);e.FlalignItem=l},7379:function(R,e,v){var M=this&&this.__createBinding||(Object.create?function(u,p,h,m){m===void 0&&(m=h);var g=Object.getOwnPropertyDescriptor(p,h);g&&!("get"in g?!p.__esModule:g.writable||g.configurable)||(g={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(u,m,g)}:function(u,p,h,m){m===void 0&&(m=h),u[m]=p[h]}),C=this&&this.__setModuleDefault||(Object.create?function(u,p){Object.defineProperty(u,"default",{enumerable:!0,value:p})}:function(u,p){u.default=p}),x=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var p={};if(u!=null)for(var h in u)h!=="default"&&Object.prototype.hasOwnProperty.call(u,h)&&M(p,u,h);return C(p,u),p},y=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var d=v(4387),f=x(v(9140)),c=v(8317),s=y(v(5450)),a=y(v(1130)),o=v(9007),l=v(6010);new f.CharacterMap("AMSmath-mathchar0mo",s.default.mathchar0mo,{iiiint:["",{texClass:o.TEXCLASS.OP}]}),new f.RegExpMap("AMSmath-operatorLetter",d.AmsMethods.operatorLetter,/[-*]/i),new f.CommandMap("AMSmath-macros",{mathring:["Accent","02DA"],nobreakspace:"Tilde",negmedspace:["Spacer",l.MATHSPACE.negativemediummathspace],negthickspace:["Spacer",l.MATHSPACE.negativethickmathspace],idotsint:["MultiIntegral","\\int\\cdots\\int"],dddot:["Accent","20DB"],ddddot:["Accent","20DC"],sideset:"SideSet",boxed:["Macro","\\fbox{$\\displaystyle{#1}$}",1],tag:"HandleTag",notag:"HandleNoTag",eqref:["HandleRef",!0],substack:["Macro","\\begin{subarray}{c}#1\\end{subarray}",1],injlim:["NamedOp","inj&thinsp;lim"],projlim:["NamedOp","proj&thinsp;lim"],varliminf:["Macro","\\mathop{\\underline{\\mmlToken{mi}{lim}}}"],varlimsup:["Macro","\\mathop{\\overline{\\mmlToken{mi}{lim}}}"],varinjlim:["Macro","\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}"],varprojlim:["Macro","\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}"],DeclareMathOperator:"HandleDeclareOp",operatorname:"HandleOperatorName",genfrac:"Genfrac",frac:["Genfrac","","","",""],tfrac:["Genfrac","","","","1"],dfrac:["Genfrac","","","","0"],binom:["Genfrac","(",")","0",""],tbinom:["Genfrac","(",")","0","1"],dbinom:["Genfrac","(",")","0","0"],cfrac:"CFrac",shoveleft:["HandleShove",c.TexConstant.Align.LEFT],shoveright:["HandleShove",c.TexConstant.Align.RIGHT],xrightarrow:["xArrow",8594,5,10],xleftarrow:["xArrow",8592,10,5]},d.AmsMethods),new f.EnvironmentMap("AMSmath-environment",s.default.environment,{"equation*":["Equation",null,!1],"eqnarray*":["EqnArray",null,!1,!0,"rcl",a.default.cols(0,l.MATHSPACE.thickmathspace),".5em"],align:["EqnArray",null,!0,!0,"rl",a.default.cols(0,2)],"align*":["EqnArray",null,!1,!0,"rl",a.default.cols(0,2)],multline:["Multline",null,!0],"multline*":["Multline",null,!1],split:["EqnArray",null,!1,!1,"rl",a.default.cols(0)],gather:["EqnArray",null,!0,!0,"c"],"gather*":["EqnArray",null,!1,!0,"c"],alignat:["AlignAt",null,!0,!0],"alignat*":["AlignAt",null,!1,!0],alignedat:["AlignAt",null,!1,!1],aligned:["AmsEqnArray",null,null,null,"rl",a.default.cols(0,2),".5em","D"],gathered:["AmsEqnArray",null,null,null,"c",null,".5em","D"],xalignat:["XalignAt",null,!0,!0],"xalignat*":["XalignAt",null,!1,!0],xxalignat:["XalignAt",null,!1,!1],flalign:["FlalignArray",null,!0,!1,!0,"rlc","auto auto fit"],"flalign*":["FlalignArray",null,!1,!1,!0,"rlc","auto auto fit"],subarray:["Array",null,null,null,null,a.default.cols(0),"0.1em","S",1],smallmatrix:["Array",null,null,null,"c",a.default.cols(.3333333333333333),".2em","S",1],matrix:["Array",null,null,null,"c"],pmatrix:["Array",null,"(",")","c"],bmatrix:["Array",null,"[","]","c"],Bmatrix:["Array",null,"\\{","\\}","c"],vmatrix:["Array",null,"\\vert","\\vert","c"],Vmatrix:["Array",null,"\\Vert","\\Vert","c"],cases:["Array",null,"\\{",".","ll",null,".2em","T"]},d.AmsMethods),new f.DelimiterMap("AMSmath-delimiter",s.default.delimiter,{"\\lvert":["|",{texClass:o.TEXCLASS.OPEN}],"\\rvert":["|",{texClass:o.TEXCLASS.CLOSE}],"\\lVert":["",{texClass:o.TEXCLASS.OPEN}],"\\rVert":["",{texClass:o.TEXCLASS.CLOSE}]}),new f.CharacterMap("AMSsymbols-mathchar0mi",s.default.mathchar0mi,{digamma:"",varkappa:"",varGamma:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varDelta:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varTheta:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varLambda:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varXi:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varPi:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varSigma:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varUpsilon:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varPhi:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varPsi:["",{mathvariant:c.TexConstant.Variant.ITALIC}],varOmega:["",{mathvariant:c.TexConstant.Variant.ITALIC}],beth:"",gimel:"",daleth:"",backprime:["",{variantForm:!0}],hslash:"",varnothing:["",{variantForm:!0}],blacktriangle:"",triangledown:["",{variantForm:!0}],blacktriangledown:"",square:"",Box:"",blacksquare:"",lozenge:"",Diamond:"",blacklozenge:"",circledS:["",{mathvariant:c.TexConstant.Variant.NORMAL}],bigstar:"",sphericalangle:"",measuredangle:"",nexists:"",complement:"",mho:"",eth:["",{mathvariant:c.TexConstant.Variant.NORMAL}],Finv:"",diagup:"",Game:"",diagdown:"",Bbbk:["k",{mathvariant:c.TexConstant.Variant.DOUBLESTRUCK}],yen:"",circledR:"",checkmark:"",maltese:""}),new f.CharacterMap("AMSsymbols-mathchar0mo",s.default.mathchar0mo,{dotplus:"",ltimes:"",smallsetminus:["",{variantForm:!0}],rtimes:"",Cap:"",doublecap:"",leftthreetimes:"",Cup:"",doublecup:"",rightthreetimes:"",barwedge:"",curlywedge:"",veebar:"",curlyvee:"",doublebarwedge:"",boxminus:"",circleddash:"",boxtimes:"",circledast:"",boxdot:"",circledcirc:"",boxplus:"",centerdot:["",{variantForm:!0}],divideontimes:"",intercal:"",leqq:"",geqq:"",leqslant:"",geqslant:"",eqslantless:"",eqslantgtr:"",lesssim:"",gtrsim:"",lessapprox:"",gtrapprox:"",approxeq:"",lessdot:"",gtrdot:"",lll:"",llless:"",ggg:"",gggtr:"",lessgtr:"",gtrless:"",lesseqgtr:"",gtreqless:"",lesseqqgtr:"",gtreqqless:"",doteqdot:"",Doteq:"",eqcirc:"",risingdotseq:"",circeq:"",fallingdotseq:"",triangleq:"",backsim:"",thicksim:["",{variantForm:!0}],backsimeq:"",thickapprox:["",{variantForm:!0}],subseteqq:"",supseteqq:"",Subset:"",Supset:"",sqsubset:"",sqsupset:"",preccurlyeq:"",succcurlyeq:"",curlyeqprec:"",curlyeqsucc:"",precsim:"",succsim:"",precapprox:"",succapprox:"",vartriangleleft:"",lhd:"",vartriangleright:"",rhd:"",trianglelefteq:"",unlhd:"",trianglerighteq:"",unrhd:"",vDash:["",{variantForm:!0}],Vdash:"",Vvdash:"",smallsmile:["",{variantForm:!0}],shortmid:["",{variantForm:!0}],smallfrown:["",{variantForm:!0}],shortparallel:["",{variantForm:!0}],bumpeq:"",between:"",Bumpeq:"",pitchfork:"",varpropto:["",{variantForm:!0}],backepsilon:"",blacktriangleleft:"",blacktriangleright:"",therefore:"",because:"",eqsim:"",vartriangle:["",{variantForm:!0}],Join:"",nless:"",ngtr:"",nleq:"",ngeq:"",nleqslant:["",{variantForm:!0}],ngeqslant:["",{variantForm:!0}],nleqq:["",{variantForm:!0}],ngeqq:["",{variantForm:!0}],lneq:"",gneq:"",lneqq:"",gneqq:"",lvertneqq:["",{variantForm:!0}],gvertneqq:["",{variantForm:!0}],lnsim:"",gnsim:"",lnapprox:"",gnapprox:"",nprec:"",nsucc:"",npreceq:["",{variantForm:!0}],nsucceq:["",{variantForm:!0}],precneqq:"",succneqq:"",precnsim:"",succnsim:"",precnapprox:"",succnapprox:"",nsim:"",ncong:"",nshortmid:["",{variantForm:!0}],nshortparallel:["",{variantForm:!0}],nmid:"",nparallel:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",ntriangleleft:"",ntriangleright:"",ntrianglelefteq:"",ntrianglerighteq:"",nsubseteq:"",nsupseteq:"",nsubseteqq:["",{variantForm:!0}],nsupseteqq:["",{variantForm:!0}],subsetneq:"",supsetneq:"",varsubsetneq:["",{variantForm:!0}],varsupsetneq:["",{variantForm:!0}],subsetneqq:"",supsetneqq:"",varsubsetneqq:["",{variantForm:!0}],varsupsetneqq:["",{variantForm:!0}],leftleftarrows:"",rightrightarrows:"",leftrightarrows:"",rightleftarrows:"",Lleftarrow:"",Rrightarrow:"",twoheadleftarrow:"",twoheadrightarrow:"",leftarrowtail:"",rightarrowtail:"",looparrowleft:"",looparrowright:"",leftrightharpoons:"",rightleftharpoons:["",{variantForm:!0}],curvearrowleft:"",curvearrowright:"",circlearrowleft:"",circlearrowright:"",Lsh:"",Rsh:"",upuparrows:"",downdownarrows:"",upharpoonleft:"",upharpoonright:"",downharpoonleft:"",restriction:"",multimap:"",downharpoonright:"",leftrightsquigarrow:"",rightsquigarrow:"",leadsto:"",dashrightarrow:"",dashleftarrow:"",nleftarrow:"",nrightarrow:"",nLeftarrow:"",nRightarrow:"",nleftrightarrow:"",nLeftrightarrow:""}),new f.DelimiterMap("AMSsymbols-delimiter",s.default.delimiter,{"\\ulcorner":"","\\urcorner":"","\\llcorner":"","\\lrcorner":""}),new f.CommandMap("AMSsymbols-macros",{implies:["Macro","\\;\\Longrightarrow\\;"],impliedby:["Macro","\\;\\Longleftarrow\\;"]},d.AmsMethods)},4387:function(R,e,v){var M=this&&this.__assign||function(){return M=Object.assign||function(m){for(var g,E=1,S=arguments.length;E<S;E++)for(var O in g=arguments[E])Object.prototype.hasOwnProperty.call(g,O)&&(m[O]=g[O]);return m},M.apply(this,arguments)},C=this&&this.__read||function(m,g){var E=typeof Symbol=="function"&&m[Symbol.iterator];if(!E)return m;var S,O,A=E.call(m),_=[];try{for(;(g===void 0||g-- >0)&&!(S=A.next()).done;)_.push(S.value)}catch(T){O={error:T}}finally{try{S&&!S.done&&(E=A.return)&&E.call(A)}finally{if(O)throw O.error}}return _},x=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.NEW_OPS=e.AmsMethods=void 0;var y=x(v(1130)),d=x(v(5450)),f=x(v(1256)),c=v(8317),s=x(v(8417)),a=x(v(3971)),o=v(8803),l=x(v(7693)),u=v(9007);function p(m){if(!m||m.isInferred&&m.childNodes.length===0)return[null,null];if(m.isKind("msubsup")&&h(m))return[m,null];var g=f.default.getChildAt(m,0);return m.isInferred&&g&&h(g)?(m.childNodes.splice(0,1),[g,m]):[null,m]}function h(m){var g=m.childNodes[0];return g&&g.isKind("mi")&&g.getText()===""}e.AmsMethods={},e.AmsMethods.AmsEqnArray=function(m,g,E,S,O,A,_){var T=m.GetBrackets("\\begin{"+g.getName()+"}"),N=l.default.EqnArray(m,g,E,S,O,A,_);return y.default.setArrayAlign(N,T)},e.AmsMethods.AlignAt=function(m,g,E,S){var O,A,_=g.getName(),T="",N=[];if(S||(A=m.GetBrackets("\\begin{"+_+"}")),(O=m.GetArgument("\\begin{"+_+"}")).match(/[^0-9]/))throw new a.default("PositiveIntegerArg","Argument to %1 must me a positive integer","\\begin{"+_+"}");for(var w=parseInt(O,10);w>0;)T+="rl",N.push("0em 0em"),w--;var L=N.join(" ");if(S)return e.AmsMethods.EqnArray(m,g,E,S,T,L);var I=e.AmsMethods.EqnArray(m,g,E,S,T,L);return y.default.setArrayAlign(I,A)},e.AmsMethods.Multline=function(m,g,E){m.Push(g),y.default.checkEqnEnv(m);var S=m.itemFactory.create("multline",E,m.stack);return S.arraydef={displaystyle:!0,rowspacing:".5em",columnspacing:"100%",width:m.options.ams.multlineWidth,side:m.options.tagSide,minlabelspacing:m.options.tagIndent,framespacing:m.options.ams.multlineIndent+" 0",frame:"","data-width-includes-label":!0},S},e.AmsMethods.XalignAt=function(m,g,E,S){var O=m.GetArgument("\\begin{"+g.getName()+"}");if(O.match(/[^0-9]/))throw new a.default("PositiveIntegerArg","Argument to %1 must me a positive integer","\\begin{"+g.getName()+"}");var A=S?"crl":"rlc",_=S?"fit auto auto":"auto auto fit",T=e.AmsMethods.FlalignArray(m,g,E,S,!1,A,_,!0);return T.setProperty("xalignat",2*parseInt(O)),T},e.AmsMethods.FlalignArray=function(m,g,E,S,O,A,_,T){T===void 0&&(T=!1),m.Push(g),y.default.checkEqnEnv(m),A=A.split("").join(" ").replace(/r/g,"right").replace(/l/g,"left").replace(/c/g,"center");var N=m.itemFactory.create("flalign",g.getName(),E,S,O,m.stack);return N.arraydef={width:"100%",displaystyle:!0,columnalign:A,columnspacing:"0em",columnwidth:_,rowspacing:"3pt",side:m.options.tagSide,minlabelspacing:T?"0":m.options.tagIndent,"data-width-includes-label":!0},N.setProperty("zeroWidthLabel",T),N},e.NEW_OPS="ams-declare-ops",e.AmsMethods.HandleDeclareOp=function(m,g){var E=m.GetStar()?"*":"",S=y.default.trimSpaces(m.GetArgument(g));S.charAt(0)==="\\"&&(S=S.substr(1));var O=m.GetArgument(g);m.configuration.handlers.retrieve(e.NEW_OPS).add(S,new o.Macro(S,e.AmsMethods.Macro,["\\operatorname".concat(E,"{").concat(O,"}")]))},e.AmsMethods.HandleOperatorName=function(m,g){var E=m.GetStar(),S=y.default.trimSpaces(m.GetArgument(g)),O=new s.default(S,M(M({},m.stack.env),{font:c.TexConstant.Variant.NORMAL,multiLetterIdentifiers:/^[-*a-z]+/i,operatorLetters:!0}),m.configuration).mml();if(O.isKind("mi")||(O=m.create("node","TeXAtom",[O])),f.default.setProperties(O,{movesupsub:E,movablelimits:!0,texClass:u.TEXCLASS.OP}),!E){var A=m.GetNext(),_=m.i;A==="\\"&&++m.i&&m.GetCS()!=="limits"&&(m.i=_)}m.Push(O)},e.AmsMethods.SideSet=function(m,g){var E=C(p(m.ParseArg(g)),2),S=E[0],O=E[1],A=C(p(m.ParseArg(g)),2),_=A[0],T=A[1],N=m.ParseArg(g),w=N;S&&(O?S.replaceChild(m.create("node","mphantom",[m.create("node","mpadded",[y.default.copyNode(N,m)],{width:0})]),f.default.getChildAt(S,0)):(w=m.create("node","mmultiscripts",[N]),_&&f.default.appendChildren(w,[f.default.getChildAt(_,1)||m.create("node","none"),f.default.getChildAt(_,2)||m.create("node","none")]),f.default.setProperty(w,"scriptalign","left"),f.default.appendChildren(w,[m.create("node","mprescripts"),f.default.getChildAt(S,1)||m.create("node","none"),f.default.getChildAt(S,2)||m.create("node","none")]))),_&&w===N&&(_.replaceChild(N,f.default.getChildAt(_,0)),w=_);var L=m.create("node","TeXAtom",[],{texClass:u.TEXCLASS.OP,movesupsub:!0,movablelimits:!0});O&&(S&&L.appendChild(S),L.appendChild(O)),L.appendChild(w),T&&L.appendChild(T),m.Push(L)},e.AmsMethods.operatorLetter=function(m,g){return!!m.stack.env.operatorLetters&&d.default.variable(m,g)},e.AmsMethods.MultiIntegral=function(m,g,E){var S=m.GetNext();if(S==="\\"){var O=m.i;S=m.GetArgument(g),m.i=O,S==="\\limits"&&(E=g==="\\idotsint"?"\\!\\!\\mathop{\\,\\,"+E+"}":"\\!\\!\\!\\mathop{\\,\\,\\,"+E+"}")}m.string=E+" "+m.string.slice(m.i),m.i=0},e.AmsMethods.xArrow=function(m,g,E,S,O){var A={width:"+"+y.default.Em((S+O)/18),lspace:y.default.Em(S/18)},_=m.GetBrackets(g),T=m.ParseArg(g),N=m.create("node","mspace",[],{depth:".25em"}),w=m.create("token","mo",{stretchy:!0,texClass:u.TEXCLASS.REL},String.fromCodePoint(E));w=m.create("node","mstyle",[w],{scriptlevel:0});var L=m.create("node","munderover",[w]),I=m.create("node","mpadded",[T,N],A);if(f.default.setAttribute(I,"voffset","-.2em"),f.default.setAttribute(I,"height","-.2em"),f.default.setChild(L,L.over,I),_){var P=new s.default(_,m.stack.env,m.configuration).mml(),k=m.create("node","mspace",[],{height:".75em"});I=m.create("node","mpadded",[P,k],A),f.default.setAttribute(I,"voffset",".15em"),f.default.setAttribute(I,"depth","-.15em"),f.default.setChild(L,L.under,I)}f.default.setProperty(L,"subsupOK",!0),m.Push(L)},e.AmsMethods.HandleShove=function(m,g,E){var S=m.stack.Top();if(S.kind!=="multline")throw new a.default("CommandOnlyAllowedInEnv","%1 only allowed in %2 environment",m.currentCS,"multline");if(S.Size())throw new a.default("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",m.currentCS);S.setProperty("shove",E)},e.AmsMethods.CFrac=function(m,g){var E=y.default.trimSpaces(m.GetBrackets(g,"")),S=m.GetArgument(g),O=m.GetArgument(g),A={l:c.TexConstant.Align.LEFT,r:c.TexConstant.Align.RIGHT,"":""},_=new s.default("\\strut\\textstyle{"+S+"}",m.stack.env,m.configuration).mml(),T=new s.default("\\strut\\textstyle{"+O+"}",m.stack.env,m.configuration).mml(),N=m.create("node","mfrac",[_,T]);if((E=A[E])==null)throw new a.default("IllegalAlign","Illegal alignment specified in %1",m.currentCS);E&&f.default.setProperties(N,{numalign:E,denomalign:E}),m.Push(N)},e.AmsMethods.Genfrac=function(m,g,E,S,O,A){E==null&&(E=m.GetDelimiterArg(g)),S==null&&(S=m.GetDelimiterArg(g)),O==null&&(O=m.GetArgument(g)),A==null&&(A=y.default.trimSpaces(m.GetArgument(g)));var _=m.ParseArg(g),T=m.ParseArg(g),N=m.create("node","mfrac",[_,T]);if(O!==""&&f.default.setAttribute(N,"linethickness",O),(E||S)&&(f.default.setProperty(N,"withDelims",!0),N=y.default.fixedFence(m.configuration,E,N,S)),A!==""){var w=parseInt(A,10),L=["D","T","S","SS"][w];if(L==null)throw new a.default("BadMathStyleFor","Bad math style for %1",m.currentCS);N=m.create("node","mstyle",[N]),L==="D"?f.default.setProperties(N,{displaystyle:!0,scriptlevel:0}):f.default.setProperties(N,{displaystyle:!1,scriptlevel:w-1})}m.Push(N)},e.AmsMethods.HandleTag=function(m,g){if(!m.tags.currentTag.taggable&&m.tags.env)throw new a.default("CommandNotAllowedInEnv","%1 not allowed in %2 environment",m.currentCS,m.tags.env);if(m.tags.currentTag.tag)throw new a.default("MultipleCommand","Multiple %1",m.currentCS);var E=m.GetStar(),S=y.default.trimSpaces(m.GetArgument(g));m.tags.tag(S,E)},e.AmsMethods.HandleNoTag=l.default.HandleNoTag,e.AmsMethods.HandleRef=l.default.HandleRef,e.AmsMethods.Macro=l.default.Macro,e.AmsMethods.Accent=l.default.Accent,e.AmsMethods.Tilde=l.default.Tilde,e.AmsMethods.Array=l.default.Array,e.AmsMethods.Spacer=l.default.Spacer,e.AmsMethods.NamedOp=l.default.NamedOp,e.AmsMethods.EqnArray=l.default.EqnArray,e.AmsMethods.Equation=l.default.Equation},1275:function(R,e,v){var M=this&&this.__read||function(u,p){var h=typeof Symbol=="function"&&u[Symbol.iterator];if(!h)return u;var m,g,E=h.call(u),S=[];try{for(;(p===void 0||p-- >0)&&!(m=E.next()).done;)S.push(m.value)}catch(O){g={error:O}}finally{try{m&&!m.done&&(h=E.return)&&h.call(E)}finally{if(g)throw g.error}}return S},C=this&&this.__values||function(u){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&u[p],m=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&m>=u.length&&(u=void 0),{value:u&&u[m++],done:!u}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoloadConfiguration=void 0;var x=v(9899),y=v(9140),d=v(8803),f=v(7741),c=v(265),s=v(7233);function a(u,p,h,m){var g,E,S,O;if(c.Package.packages.has(u.options.require.prefix+h)){var A=u.options.autoload[h],_=M(A.length===2&&Array.isArray(A[0])?A:[A,[]],2),T=_[0],N=_[1];try{for(var w=C(T),L=w.next();!L.done;L=w.next()){var I=L.value;o.remove(I)}}catch(F){g={error:F}}finally{try{L&&!L.done&&(E=w.return)&&E.call(w)}finally{if(g)throw g.error}}try{for(var P=C(N),k=P.next();!k.done;k=P.next()){var B=k.value;l.remove(B)}}catch(F){S={error:F}}finally{try{k&&!k.done&&(O=P.return)&&O.call(P)}finally{if(S)throw S.error}}u.string=(m?p+" ":"\\begin{"+p.slice(1)+"}")+u.string.slice(u.i),u.i=0}(0,f.RequireLoad)(u,h)}var o=new y.CommandMap("autoload-macros",{},{}),l=new y.CommandMap("autoload-environments",{},{});e.AutoloadConfiguration=x.Configuration.create("autoload",{handler:{macro:["autoload-macros"],environment:["autoload-environments"]},options:{autoload:(0,s.expandable)({action:["toggle","mathtip","texttip"],amscd:[[],["CD"]],bbox:["bbox"],boldsymbol:["boldsymbol"],braket:["bra","ket","braket","set","Bra","Ket","Braket","Set","ketbra","Ketbra"],bussproofs:[[],["prooftree"]],cancel:["cancel","bcancel","xcancel","cancelto"],color:["color","definecolor","textcolor","colorbox","fcolorbox"],enclose:["enclose"],extpfeil:["xtwoheadrightarrow","xtwoheadleftarrow","xmapsto","xlongequal","xtofrom","Newextarrow"],html:["href","class","style","cssId"],mhchem:["ce","pu"],newcommand:["newcommand","renewcommand","newenvironment","renewenvironment","def","let"],unicode:["unicode"],verb:["verb"]})},config:function(u,p){var h,m,g,E,S,O,A=p.parseOptions,_=A.handlers.get("macro"),T=A.handlers.get("environment"),N=A.options.autoload;A.packageData.set("autoload",{Autoload:a});try{for(var w=C(Object.keys(N)),L=w.next();!L.done;L=w.next()){var I=L.value,P=N[I],k=M(P.length===2&&Array.isArray(P[0])?P:[P,[]],2),B=k[0],F=k[1];try{for(var H=(g=void 0,C(B)),j=H.next();!j.done;j=H.next()){var U=j.value;_.lookup(U)&&U!=="color"||o.add(U,new d.Macro(U,a,[I,!0]))}}catch(q){g={error:q}}finally{try{j&&!j.done&&(E=H.return)&&E.call(H)}finally{if(g)throw g.error}}try{for(var z=(S=void 0,C(F)),K=z.next();!K.done;K=z.next()){var W=K.value;T.lookup(W)||l.add(W,new d.Macro(W,a,[I,!1]))}}catch(q){S={error:q}}finally{try{K&&!K.done&&(O=z.return)&&O.call(z)}finally{if(S)throw S.error}}}}catch(q){h={error:q}}finally{try{L&&!L.done&&(m=w.return)&&m.call(w)}finally{if(h)throw h.error}}A.packageData.get("require")||f.RequireConfiguration.config(u,p)},init:function(u){u.options.require||(0,s.defaultOptions)(u.options,f.RequireConfiguration.options)},priority:10})},2942:function(R,e,v){var M,C,x=this&&this.__extends||(M=function(O,A){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,T){_.__proto__=T}||function(_,T){for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&(_[N]=T[N])},M(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function _(){this.constructor=O}M(O,A),O.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)}),y=this&&this.__createBinding||(Object.create?function(O,A,_,T){T===void 0&&(T=_);var N=Object.getOwnPropertyDescriptor(A,_);N&&!("get"in N?!A.__esModule:N.writable||N.configurable)||(N={enumerable:!0,get:function(){return A[_]}}),Object.defineProperty(O,T,N)}:function(O,A,_,T){T===void 0&&(T=_),O[T]=A[_]}),d=this&&this.__setModuleDefault||(Object.create?function(O,A){Object.defineProperty(O,"default",{enumerable:!0,value:A})}:function(O,A){O.default=A}),f=this&&this.__importStar||function(O){if(O&&O.__esModule)return O;var A={};if(O!=null)for(var _ in O)_!=="default"&&Object.prototype.hasOwnProperty.call(O,_)&&y(A,O,_);return d(A,O),A},c=this&&this.__values||function(O){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&O[A],T=0;if(_)return _.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&T>=O.length&&(O=void 0),{value:O&&O[T++],done:!O}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseConfiguration=e.BaseTags=e.Other=void 0;var a=v(9899),o=v(2947),l=s(v(3971)),u=s(v(1256)),p=v(9140),h=f(v(1181)),m=v(6521);v(1267);var g=v(4082);function E(O,A){var _=O.stack.env.font?{mathvariant:O.stack.env.font}:{},T=o.MapHandler.getMap("remap").lookup(A),N=(0,g.getRange)(A),w=N?N[3]:"mo",L=O.create("token",w,_,T?T.char:A);N[4]&&L.attributes.set("mathvariant",N[4]),w==="mo"&&(u.default.setProperty(L,"fixStretchy",!0),O.configuration.addNode("fixStretchy",L)),O.Push(L)}new p.CharacterMap("remap",null,{"-":"","*":"","`":""}),e.Other=E;var S=function(O){function A(){return O!==null&&O.apply(this,arguments)||this}return x(A,O),A}(m.AbstractTags);e.BaseTags=S,e.BaseConfiguration=a.Configuration.create("base",{handler:{character:["command","special","letter","digit"],delimiter:["delimiter"],macro:["delimiter","macros","mathchar0mi","mathchar0mo","mathchar7"],environment:["environment"]},fallback:{character:E,macro:function(O,A){throw new l.default("UndefinedControlSequence","Undefined control sequence %1","\\"+A)},environment:function(O,A){throw new l.default("UnknownEnv","Unknown environment '%1'",A)}},items:(C={},C[h.StartItem.prototype.kind]=h.StartItem,C[h.StopItem.prototype.kind]=h.StopItem,C[h.OpenItem.prototype.kind]=h.OpenItem,C[h.CloseItem.prototype.kind]=h.CloseItem,C[h.PrimeItem.prototype.kind]=h.PrimeItem,C[h.SubsupItem.prototype.kind]=h.SubsupItem,C[h.OverItem.prototype.kind]=h.OverItem,C[h.LeftItem.prototype.kind]=h.LeftItem,C[h.Middle.prototype.kind]=h.Middle,C[h.RightItem.prototype.kind]=h.RightItem,C[h.BeginItem.prototype.kind]=h.BeginItem,C[h.EndItem.prototype.kind]=h.EndItem,C[h.StyleItem.prototype.kind]=h.StyleItem,C[h.PositionItem.prototype.kind]=h.PositionItem,C[h.CellItem.prototype.kind]=h.CellItem,C[h.MmlItem.prototype.kind]=h.MmlItem,C[h.FnItem.prototype.kind]=h.FnItem,C[h.NotItem.prototype.kind]=h.NotItem,C[h.NonscriptItem.prototype.kind]=h.NonscriptItem,C[h.DotsItem.prototype.kind]=h.DotsItem,C[h.ArrayItem.prototype.kind]=h.ArrayItem,C[h.EqnArrayItem.prototype.kind]=h.EqnArrayItem,C[h.EquationItem.prototype.kind]=h.EquationItem,C),options:{maxMacros:1e3,baseURL:typeof document>"u"||document.getElementsByTagName("base").length===0?"":String(document.location).replace(/#.*$/,"")},tags:{base:S},postprocessors:[[function(O){var A,_,T=O.data;try{for(var N=c(T.getList("nonscript")),w=N.next();!w.done;w=N.next()){var L=w.value;if(L.attributes.get("scriptlevel")>0){var I=L.parent;if(I.childNodes.splice(I.childIndex(L),1),T.removeFromList(L.kind,[L]),L.isKind("mrow")){var P=L.childNodes[0];T.removeFromList("mstyle",[P]),T.removeFromList("mspace",P.childNodes[0].childNodes)}}else L.isKind("mrow")&&(L.parent.replaceChild(L.childNodes[0],L),T.removeFromList("mrow",[L]))}}catch(k){A={error:k}}finally{try{w&&!w.done&&(_=N.return)&&_.call(N)}finally{if(A)throw A.error}}},-4]]})},1181:function(R,e,v){var M,C=this&&this.__extends||(M=function(W,q){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,D){X.__proto__=D}||function(X,D){for(var V in D)Object.prototype.hasOwnProperty.call(D,V)&&(X[V]=D[V])},M(W,q)},function(W,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function X(){this.constructor=W}M(W,q),W.prototype=q===null?Object.create(q):(X.prototype=q.prototype,new X)}),x=this&&this.__read||function(W,q){var X=typeof Symbol=="function"&&W[Symbol.iterator];if(!X)return W;var D,V,G=X.call(W),J=[];try{for(;(q===void 0||q-- >0)&&!(D=G.next()).done;)J.push(D.value)}catch($){V={error:$}}finally{try{D&&!D.done&&(X=G.return)&&X.call(G)}finally{if(V)throw V.error}}return J},y=this&&this.__spreadArray||function(W,q,X){if(X||arguments.length===2)for(var D,V=0,G=q.length;V<G;V++)!D&&V in q||(D||(D=Array.prototype.slice.call(q,0,V)),D[V]=q[V]);return W.concat(D||Array.prototype.slice.call(q))},d=this&&this.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(e,"__esModule",{value:!0}),e.EquationItem=e.EqnArrayItem=e.ArrayItem=e.DotsItem=e.NonscriptItem=e.NotItem=e.FnItem=e.MmlItem=e.CellItem=e.PositionItem=e.StyleItem=e.EndItem=e.BeginItem=e.RightItem=e.Middle=e.LeftItem=e.OverItem=e.SubsupItem=e.PrimeItem=e.CloseItem=e.OpenItem=e.StopItem=e.StartItem=void 0;var f=v(2947),c=v(5368),s=v(9007),a=d(v(3971)),o=d(v(1130)),l=d(v(1256)),u=v(8292),p=function(W){function q(X,D){var V=W.call(this,X)||this;return V.global=D,V}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"start"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("stop")){var D=this.toMml();return this.global.isInner||(D=this.factory.configuration.tags.finalize(D,this.env)),[[this.factory.create("mml",D)],!0]}return W.prototype.checkItem.call(this,X)},q}(u.BaseItem);e.StartItem=p;var h=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"stop"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),q}(u.BaseItem);e.StopItem=h;var m=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"open"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("close")){var D=this.toMml(),V=this.create("node","TeXAtom",[D]);return[[this.factory.create("mml",V)],!0]}return W.prototype.checkItem.call(this,X)},q.errors=Object.assign(Object.create(u.BaseItem.errors),{stop:["ExtraOpenMissingClose","Extra open brace or missing close brace"]}),q}(u.BaseItem);e.OpenItem=m;var g=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"close"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),q}(u.BaseItem);e.CloseItem=g;var E=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"prime"},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){var D=x(this.Peek(2),2),V=D[0],G=D[1];return!l.default.isType(V,"msubsup")||l.default.isType(V,"msup")?[[this.create("node","msup",[V,G]),X],!0]:(l.default.setChild(V,V.sup,G),[[V,X],!0])},q}(u.BaseItem);e.PrimeItem=E;var S=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"subsup"},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("open")||X.isKind("left"))return u.BaseItem.success;var D=this.First,V=this.getProperty("position");if(X.isKind("mml")){if(this.getProperty("primes"))if(V!==2)l.default.setChild(D,2,this.getProperty("primes"));else{l.default.setProperty(this.getProperty("primes"),"variantForm",!0);var G=this.create("node","mrow",[this.getProperty("primes"),X.First]);X.First=G}return l.default.setChild(D,V,X.First),this.getProperty("movesupsub")!=null&&l.default.setProperty(D,"movesupsub",this.getProperty("movesupsub")),[[this.factory.create("mml",D)],!0]}if(W.prototype.checkItem.call(this,X)[1]){var J=this.getErrors(["","sub","sup"][V]);throw new(a.default.bind.apply(a.default,y([void 0,J[0],J[1]],x(J.splice(2)),!1)))}return null},q.errors=Object.assign(Object.create(u.BaseItem.errors),{stop:["MissingScript","Missing superscript or subscript argument"],sup:["MissingOpenForSup","Missing open brace for superscript"],sub:["MissingOpenForSub","Missing open brace for subscript"]}),q}(u.BaseItem);e.SubsupItem=S;var O=function(W){function q(X){var D=W.call(this,X)||this;return D.setProperty("name","\\over"),D}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"over"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("over"))throw new a.default("AmbiguousUseOf","Ambiguous use of %1",X.getName());if(X.isClose){var D=this.create("node","mfrac",[this.getProperty("num"),this.toMml(!1)]);return this.getProperty("thickness")!=null&&l.default.setAttribute(D,"linethickness",this.getProperty("thickness")),(this.getProperty("open")||this.getProperty("close"))&&(l.default.setProperty(D,"withDelims",!0),D=o.default.fixedFence(this.factory.configuration,this.getProperty("open"),D,this.getProperty("close"))),[[this.factory.create("mml",D),X],!0]}return W.prototype.checkItem.call(this,X)},q.prototype.toString=function(){return"over["+this.getProperty("num")+" / "+this.nodes.join("; ")+"]"},q}(u.BaseItem);e.OverItem=O;var A=function(W){function q(X,D){var V=W.call(this,X)||this;return V.setProperty("delim",D),V}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"left"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("right"))return[[this.factory.create("mml",o.default.fenced(this.factory.configuration,this.getProperty("delim"),this.toMml(),X.getProperty("delim"),"",X.getProperty("color")))],!0];if(X.isKind("middle")){var D={stretchy:!0};return X.getProperty("color")&&(D.mathcolor=X.getProperty("color")),this.Push(this.create("node","TeXAtom",[],{texClass:s.TEXCLASS.CLOSE}),this.create("token","mo",D,X.getProperty("delim")),this.create("node","TeXAtom",[],{texClass:s.TEXCLASS.OPEN})),this.env={},[[this],!0]}return W.prototype.checkItem.call(this,X)},q.errors=Object.assign(Object.create(u.BaseItem.errors),{stop:["ExtraLeftMissingRight","Extra \\left or missing \\right"]}),q}(u.BaseItem);e.LeftItem=A;var _=function(W){function q(X,D,V){var G=W.call(this,X)||this;return G.setProperty("delim",D),V&&G.setProperty("color",V),G}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"middle"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),q}(u.BaseItem);e.Middle=_;var T=function(W){function q(X,D,V){var G=W.call(this,X)||this;return G.setProperty("delim",D),V&&G.setProperty("color",V),G}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"right"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),q}(u.BaseItem);e.RightItem=T;var N=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"begin"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("end")){if(X.getName()!==this.getName())throw new a.default("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),X.getName());return this.getProperty("end")?u.BaseItem.fail:[[this.factory.create("mml",this.toMml())],!0]}if(X.isKind("stop"))throw new a.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return W.prototype.checkItem.call(this,X)},q}(u.BaseItem);e.BeginItem=N;var w=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"end"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),q}(u.BaseItem);e.EndItem=w;var L=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"style"},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(!X.isClose)return W.prototype.checkItem.call(this,X);var D=this.create("node","mstyle",this.nodes,this.getProperty("styles"));return[[this.factory.create("mml",D),X],!0]},q}(u.BaseItem);e.StyleItem=L;var I=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"position"},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isClose)throw new a.default("MissingBoxFor","Missing box for %1",this.getName());if(X.isFinal){var D=X.toMml();switch(this.getProperty("move")){case"vertical":return D=this.create("node","mpadded",[D],{height:this.getProperty("dh"),depth:this.getProperty("dd"),voffset:this.getProperty("dh")}),[[this.factory.create("mml",D)],!0];case"horizontal":return[[this.factory.create("mml",this.getProperty("left")),X,this.factory.create("mml",this.getProperty("right"))],!0]}}return W.prototype.checkItem.call(this,X)},q}(u.BaseItem);e.PositionItem=I;var P=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"cell"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),q}(u.BaseItem);e.CellItem=P;var k=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"isFinal",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"kind",{get:function(){return"mml"},enumerable:!1,configurable:!0}),q}(u.BaseItem);e.MmlItem=k;var B=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"fn"},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){var D=this.First;if(D){if(X.isOpen)return u.BaseItem.success;if(!X.isKind("fn")){var V=X.First;if(!X.isKind("mml")||!V)return[[D,X],!0];if(l.default.isType(V,"mstyle")&&V.childNodes.length&&l.default.isType(V.childNodes[0].childNodes[0],"mspace")||l.default.isType(V,"mspace"))return[[D,X],!0];l.default.isEmbellished(V)&&(V=l.default.getCoreMO(V));var G=l.default.getForm(V);if(G!=null&&[0,0,1,1,0,1,1,0,0,0][G[2]])return[[D,X],!0]}var J=this.create("token","mo",{texClass:s.TEXCLASS.NONE},c.entities.ApplyFunction);return[[D,J,X],!0]}return W.prototype.checkItem.apply(this,arguments)},q}(u.BaseItem);e.FnItem=B;var F=function(W){function q(){var X=W!==null&&W.apply(this,arguments)||this;return X.remap=f.MapHandler.getMap("not_remap"),X}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"not"},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){var D,V,G;if(X.isKind("open")||X.isKind("left"))return u.BaseItem.success;if(X.isKind("mml")&&(l.default.isType(X.First,"mo")||l.default.isType(X.First,"mi")||l.default.isType(X.First,"mtext"))&&(D=X.First,(V=l.default.getText(D)).length===1&&!l.default.getProperty(D,"movesupsub")&&l.default.getChildren(D).length===1))return this.remap.contains(V)?(G=this.create("text",this.remap.lookup(V).char),l.default.setChild(D,0,G)):(G=this.create("text",""),l.default.appendChildren(D,[G])),[[X],!0];G=this.create("text","");var J=this.create("node","mtext",[],{},G),$=this.create("node","mpadded",[J],{width:0});return[[D=this.create("node","TeXAtom",[$],{texClass:s.TEXCLASS.REL}),X],!0]},q}(u.BaseItem);e.NotItem=F;var H=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"nonscript"},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("mml")&&X.Size()===1){var D=X.First;if(D.isKind("mstyle")&&D.notParent&&(D=l.default.getChildren(l.default.getChildren(D)[0])[0]),D.isKind("mspace")){if(D!==X.First){var V=this.create("node","mrow",[X.Pop()]);X.Push(V)}this.factory.configuration.addNode("nonscript",X.First)}}return[[X],!0]},q}(u.BaseItem);e.NonscriptItem=H;var j=function(W){function q(){return W!==null&&W.apply(this,arguments)||this}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"dots"},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("open")||X.isKind("left"))return u.BaseItem.success;var D=this.getProperty("ldots"),V=X.First;if(X.isKind("mml")&&l.default.isEmbellished(V)){var G=l.default.getTexClass(l.default.getCoreMO(V));G!==s.TEXCLASS.BIN&&G!==s.TEXCLASS.REL||(D=this.getProperty("cdots"))}return[[D,X],!0]},q}(u.BaseItem);e.DotsItem=j;var U=function(W){function q(){var X=W!==null&&W.apply(this,arguments)||this;return X.table=[],X.row=[],X.frame=[],X.hfill=[],X.arraydef={},X.dashed=!1,X}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"array"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"copyEnv",{get:function(){return!1},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isClose&&!X.isKind("over")){if(X.getProperty("isEntry"))return this.EndEntry(),this.clearEnv(),u.BaseItem.fail;if(X.getProperty("isCR"))return this.EndEntry(),this.EndRow(),this.clearEnv(),u.BaseItem.fail;this.EndTable(),this.clearEnv();var D=this.factory.create("mml",this.createMml());if(this.getProperty("requireClose")){if(X.isKind("close"))return[[D],!0];throw new a.default("MissingCloseBrace","Missing close brace")}return[[D,X],!0]}return W.prototype.checkItem.call(this,X)},q.prototype.createMml=function(){var X=this.arraydef.scriptlevel;delete this.arraydef.scriptlevel;var D=this.create("node","mtable",this.table,this.arraydef);return X&&D.setProperty("scriptlevel",X),this.frame.length===4?l.default.setAttribute(D,"frame",this.dashed?"dashed":"solid"):this.frame.length&&(this.arraydef.rowlines&&(this.arraydef.rowlines=this.arraydef.rowlines.replace(/none( none)+$/,"none")),l.default.setAttribute(D,"frame",""),D=this.create("node","menclose",[D],{notation:this.frame.join(" ")}),(this.arraydef.columnlines||"none")==="none"&&(this.arraydef.rowlines||"none")==="none"||l.default.setAttribute(D,"data-padding",0)),(this.getProperty("open")||this.getProperty("close"))&&(D=o.default.fenced(this.factory.configuration,this.getProperty("open"),D,this.getProperty("close"))),D},q.prototype.EndEntry=function(){var X=this.create("node","mtd",this.nodes);this.hfill.length&&(this.hfill[0]===0&&l.default.setAttribute(X,"columnalign","right"),this.hfill[this.hfill.length-1]===this.Size()&&l.default.setAttribute(X,"columnalign",l.default.getAttribute(X,"columnalign")?"center":"left")),this.row.push(X),this.Clear(),this.hfill=[]},q.prototype.EndRow=function(){var X;this.getProperty("isNumbered")&&this.row.length===3?(this.row.unshift(this.row.pop()),X=this.create("node","mlabeledtr",this.row)):X=this.create("node","mtr",this.row),this.table.push(X),this.row=[]},q.prototype.EndTable=function(){(this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.checkLines()},q.prototype.checkLines=function(){if(this.arraydef.rowlines){var X=this.arraydef.rowlines.split(/ /);X.length===this.table.length?(this.frame.push("bottom"),X.pop(),this.arraydef.rowlines=X.join(" ")):X.length<this.table.length-1&&(this.arraydef.rowlines+=" none")}if(this.getProperty("rowspacing")){for(var D=this.arraydef.rowspacing.split(/ /);D.length<this.table.length;)D.push(this.getProperty("rowspacing")+"em");this.arraydef.rowspacing=D.join(" ")}},q.prototype.addRowSpacing=function(X){if(this.arraydef.rowspacing){var D=this.arraydef.rowspacing.split(/ /);if(!this.getProperty("rowspacing")){var V=o.default.dimen2em(D[0]);this.setProperty("rowspacing",V)}for(var G=this.getProperty("rowspacing");D.length<this.table.length;)D.push(o.default.Em(G));D[this.table.length-1]=o.default.Em(Math.max(0,G+o.default.dimen2em(X))),this.arraydef.rowspacing=D.join(" ")}},q}(u.BaseItem);e.ArrayItem=U;var z=function(W){function q(X){for(var D=[],V=1;V<arguments.length;V++)D[V-1]=arguments[V];var G=W.call(this,X)||this;return G.maxrow=0,G.factory.configuration.tags.start(D[0],D[2],D[1]),G}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"eqnarray"},enumerable:!1,configurable:!0}),q.prototype.EndEntry=function(){this.row.length&&o.default.fixInitialMO(this.factory.configuration,this.nodes);var X=this.create("node","mtd",this.nodes);this.row.push(X),this.Clear()},q.prototype.EndRow=function(){this.row.length>this.maxrow&&(this.maxrow=this.row.length);var X="mtr",D=this.factory.configuration.tags.getTag();D&&(this.row=[D].concat(this.row),X="mlabeledtr"),this.factory.configuration.tags.clearTag();var V=this.create("node",X,this.row);this.table.push(V),this.row=[]},q.prototype.EndTable=function(){W.prototype.EndTable.call(this),this.factory.configuration.tags.end(),this.extendArray("columnalign",this.maxrow),this.extendArray("columnwidth",this.maxrow),this.extendArray("columnspacing",this.maxrow-1)},q.prototype.extendArray=function(X,D){if(this.arraydef[X]){var V=this.arraydef[X].split(/ /),G=y([],x(V),!1);if(G.length>1){for(;G.length<D;)G.push.apply(G,y([],x(V),!1));this.arraydef[X]=G.slice(0,D).join(" ")}}},q}(U);e.EqnArrayItem=z;var K=function(W){function q(X){for(var D=[],V=1;V<arguments.length;V++)D[V-1]=arguments[V];var G=W.call(this,X)||this;return G.factory.configuration.tags.start("equation",!0,D[0]),G}return C(q,W),Object.defineProperty(q.prototype,"kind",{get:function(){return"equation"},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),q.prototype.checkItem=function(X){if(X.isKind("end")){var D=this.toMml(),V=this.factory.configuration.tags.getTag();return this.factory.configuration.tags.end(),[[V?this.factory.configuration.tags.enTag(D,V):D,X],!0]}if(X.isKind("stop"))throw new a.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return W.prototype.checkItem.call(this,X)},q}(u.BaseItem);e.EquationItem=K},1267:function(R,e,v){var M=this&&this.__createBinding||(Object.create?function(u,p,h,m){m===void 0&&(m=h);var g=Object.getOwnPropertyDescriptor(p,h);g&&!("get"in g?!p.__esModule:g.writable||g.configurable)||(g={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(u,m,g)}:function(u,p,h,m){m===void 0&&(m=h),u[m]=p[h]}),C=this&&this.__setModuleDefault||(Object.create?function(u,p){Object.defineProperty(u,"default",{enumerable:!0,value:p})}:function(u,p){u.default=p}),x=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var p={};if(u!=null)for(var h in u)h!=="default"&&Object.prototype.hasOwnProperty.call(u,h)&&M(p,u,h);return C(p,u),p},y=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var d=x(v(9140)),f=v(8317),c=y(v(7693)),s=y(v(5450)),a=y(v(1130)),o=v(9007),l=v(6010);new d.RegExpMap("letter",s.default.variable,/[a-z]/i),new d.RegExpMap("digit",s.default.digit,/[0-9.,]/),new d.RegExpMap("command",s.default.controlSequence,/^\\/),new d.MacroMap("special",{"{":"Open","}":"Close","~":"Tilde","^":"Superscript",_:"Subscript"," ":"Space","	":"Space","\r":"Space","\n":"Space","'":"Prime","%":"Comment","&":"Entry","#":"Hash","":"Space","":"Prime"},c.default),new d.CharacterMap("mathchar0mi",s.default.mathchar0mi,{alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",varepsilon:"",vartheta:"",varpi:"",varrho:"",varsigma:"",varphi:"",S:["",{mathvariant:f.TexConstant.Variant.NORMAL}],aleph:["",{mathvariant:f.TexConstant.Variant.NORMAL}],hbar:["",{variantForm:!0}],imath:"",jmath:"",ell:"",wp:["",{mathvariant:f.TexConstant.Variant.NORMAL}],Re:["",{mathvariant:f.TexConstant.Variant.NORMAL}],Im:["",{mathvariant:f.TexConstant.Variant.NORMAL}],partial:["",{mathvariant:f.TexConstant.Variant.ITALIC}],infty:["",{mathvariant:f.TexConstant.Variant.NORMAL}],prime:["",{variantForm:!0}],emptyset:["",{mathvariant:f.TexConstant.Variant.NORMAL}],nabla:["",{mathvariant:f.TexConstant.Variant.NORMAL}],top:["",{mathvariant:f.TexConstant.Variant.NORMAL}],bot:["",{mathvariant:f.TexConstant.Variant.NORMAL}],angle:["",{mathvariant:f.TexConstant.Variant.NORMAL}],triangle:["",{mathvariant:f.TexConstant.Variant.NORMAL}],backslash:["",{mathvariant:f.TexConstant.Variant.NORMAL}],forall:["",{mathvariant:f.TexConstant.Variant.NORMAL}],exists:["",{mathvariant:f.TexConstant.Variant.NORMAL}],neg:["",{mathvariant:f.TexConstant.Variant.NORMAL}],lnot:["",{mathvariant:f.TexConstant.Variant.NORMAL}],flat:["",{mathvariant:f.TexConstant.Variant.NORMAL}],natural:["",{mathvariant:f.TexConstant.Variant.NORMAL}],sharp:["",{mathvariant:f.TexConstant.Variant.NORMAL}],clubsuit:["",{mathvariant:f.TexConstant.Variant.NORMAL}],diamondsuit:["",{mathvariant:f.TexConstant.Variant.NORMAL}],heartsuit:["",{mathvariant:f.TexConstant.Variant.NORMAL}],spadesuit:["",{mathvariant:f.TexConstant.Variant.NORMAL}]}),new d.CharacterMap("mathchar0mo",s.default.mathchar0mo,{surd:"",coprod:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],bigvee:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],bigwedge:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],biguplus:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],bigcap:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],bigcup:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],int:["",{texClass:o.TEXCLASS.OP}],intop:["",{texClass:o.TEXCLASS.OP,movesupsub:!0,movablelimits:!0}],iint:["",{texClass:o.TEXCLASS.OP}],iiint:["",{texClass:o.TEXCLASS.OP}],prod:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],sum:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],bigotimes:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],bigoplus:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],bigodot:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],oint:["",{texClass:o.TEXCLASS.OP}],bigsqcup:["",{texClass:o.TEXCLASS.OP,movesupsub:!0}],smallint:["",{largeop:!1}],triangleleft:"",triangleright:"",bigtriangleup:"",bigtriangledown:"",wedge:"",land:"",vee:"",lor:"",cap:"",cup:"",ddagger:"",dagger:"",sqcap:"",sqcup:"",uplus:"",amalg:"",diamond:"",bullet:"",wr:"",div:"",divsymbol:"",odot:["",{largeop:!1}],oslash:["",{largeop:!1}],otimes:["",{largeop:!1}],ominus:["",{largeop:!1}],oplus:["",{largeop:!1}],mp:"",pm:"",circ:"",bigcirc:"",setminus:"",cdot:"",ast:"",times:"",star:"",propto:"",sqsubseteq:"",sqsupseteq:"",parallel:"",mid:"",dashv:"",vdash:"",leq:"",le:"",geq:"",ge:"",lt:"<",gt:">",succ:"",prec:"",approx:"",succeq:"",preceq:"",supset:"",subset:"",supseteq:"",subseteq:"",in:"",ni:"",notin:"",owns:"",gg:"",ll:"",sim:"",simeq:"",perp:"",equiv:"",asymp:"",smile:"",frown:"",ne:"",neq:"",cong:"",doteq:"",bowtie:"",models:"",notChar:"",Leftrightarrow:"",Leftarrow:"",Rightarrow:"",leftrightarrow:"",leftarrow:"",gets:"",rightarrow:"",to:["",{accent:!1}],mapsto:"",leftharpoonup:"",leftharpoondown:"",rightharpoonup:"",rightharpoondown:"",nearrow:"",searrow:"",nwarrow:"",swarrow:"",rightleftharpoons:"",hookrightarrow:"",hookleftarrow:"",longleftarrow:"",Longleftarrow:"",longrightarrow:"",Longrightarrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",ldots:"",cdots:"",vdots:"",ddots:"",dotsc:"",dotsb:"",dotsm:"",dotsi:"",dotso:"",ldotp:[".",{texClass:o.TEXCLASS.PUNCT}],cdotp:["",{texClass:o.TEXCLASS.PUNCT}],colon:[":",{texClass:o.TEXCLASS.PUNCT}]}),new d.CharacterMap("mathchar7",s.default.mathchar7,{Gamma:"",Delta:"",Theta:"",Lambda:"",Xi:"",Pi:"",Sigma:"",Upsilon:"",Phi:"",Psi:"",Omega:"",_:"_","#":"#",$:"$","%":"%","&":"&",And:"&"}),new d.DelimiterMap("delimiter",s.default.delimiter,{"(":"(",")":")","[":"[","]":"]","<":"",">":"","\\lt":"","\\gt":"","/":"/","|":["|",{texClass:o.TEXCLASS.ORD}],".":"","\\\\":"\\","\\lmoustache":"","\\rmoustache":"","\\lgroup":"","\\rgroup":"","\\arrowvert":"","\\Arrowvert":"","\\bracevert":"","\\Vert":["",{texClass:o.TEXCLASS.ORD}],"\\|":["",{texClass:o.TEXCLASS.ORD}],"\\vert":["|",{texClass:o.TEXCLASS.ORD}],"\\uparrow":"","\\downarrow":"","\\updownarrow":"","\\Uparrow":"","\\Downarrow":"","\\Updownarrow":"","\\backslash":"\\","\\rangle":"","\\langle":"","\\rbrace":"}","\\lbrace":"{","\\}":"}","\\{":"{","\\rceil":"","\\lceil":"","\\rfloor":"","\\lfloor":"","\\lbrack":"[","\\rbrack":"]"}),new d.CommandMap("macros",{displaystyle:["SetStyle","D",!0,0],textstyle:["SetStyle","T",!1,0],scriptstyle:["SetStyle","S",!1,1],scriptscriptstyle:["SetStyle","SS",!1,2],rm:["SetFont",f.TexConstant.Variant.NORMAL],mit:["SetFont",f.TexConstant.Variant.ITALIC],oldstyle:["SetFont",f.TexConstant.Variant.OLDSTYLE],cal:["SetFont",f.TexConstant.Variant.CALLIGRAPHIC],it:["SetFont",f.TexConstant.Variant.MATHITALIC],bf:["SetFont",f.TexConstant.Variant.BOLD],bbFont:["SetFont",f.TexConstant.Variant.DOUBLESTRUCK],scr:["SetFont",f.TexConstant.Variant.SCRIPT],frak:["SetFont",f.TexConstant.Variant.FRAKTUR],sf:["SetFont",f.TexConstant.Variant.SANSSERIF],tt:["SetFont",f.TexConstant.Variant.MONOSPACE],mathrm:["MathFont",f.TexConstant.Variant.NORMAL],mathup:["MathFont",f.TexConstant.Variant.NORMAL],mathnormal:["MathFont",""],mathbf:["MathFont",f.TexConstant.Variant.BOLD],mathbfup:["MathFont",f.TexConstant.Variant.BOLD],mathit:["MathFont",f.TexConstant.Variant.MATHITALIC],mathbfit:["MathFont",f.TexConstant.Variant.BOLDITALIC],mathbb:["MathFont",f.TexConstant.Variant.DOUBLESTRUCK],Bbb:["MathFont",f.TexConstant.Variant.DOUBLESTRUCK],mathfrak:["MathFont",f.TexConstant.Variant.FRAKTUR],mathbffrak:["MathFont",f.TexConstant.Variant.BOLDFRAKTUR],mathscr:["MathFont",f.TexConstant.Variant.SCRIPT],mathbfscr:["MathFont",f.TexConstant.Variant.BOLDSCRIPT],mathsf:["MathFont",f.TexConstant.Variant.SANSSERIF],mathsfup:["MathFont",f.TexConstant.Variant.SANSSERIF],mathbfsf:["MathFont",f.TexConstant.Variant.BOLDSANSSERIF],mathbfsfup:["MathFont",f.TexConstant.Variant.BOLDSANSSERIF],mathsfit:["MathFont",f.TexConstant.Variant.SANSSERIFITALIC],mathbfsfit:["MathFont",f.TexConstant.Variant.SANSSERIFBOLDITALIC],mathtt:["MathFont",f.TexConstant.Variant.MONOSPACE],mathcal:["MathFont",f.TexConstant.Variant.CALLIGRAPHIC],mathbfcal:["MathFont",f.TexConstant.Variant.BOLDCALLIGRAPHIC],symrm:["MathFont",f.TexConstant.Variant.NORMAL],symup:["MathFont",f.TexConstant.Variant.NORMAL],symnormal:["MathFont",""],symbf:["MathFont",f.TexConstant.Variant.BOLD],symbfup:["MathFont",f.TexConstant.Variant.BOLD],symit:["MathFont",f.TexConstant.Variant.ITALIC],symbfit:["MathFont",f.TexConstant.Variant.BOLDITALIC],symbb:["MathFont",f.TexConstant.Variant.DOUBLESTRUCK],symfrak:["MathFont",f.TexConstant.Variant.FRAKTUR],symbffrak:["MathFont",f.TexConstant.Variant.BOLDFRAKTUR],symscr:["MathFont",f.TexConstant.Variant.SCRIPT],symbfscr:["MathFont",f.TexConstant.Variant.BOLDSCRIPT],symsf:["MathFont",f.TexConstant.Variant.SANSSERIF],symsfup:["MathFont",f.TexConstant.Variant.SANSSERIF],symbfsf:["MathFont",f.TexConstant.Variant.BOLDSANSSERIF],symbfsfup:["MathFont",f.TexConstant.Variant.BOLDSANSSERIF],symsfit:["MathFont",f.TexConstant.Variant.SANSSERIFITALIC],symbfsfit:["MathFont",f.TexConstant.Variant.SANSSERIFBOLDITALIC],symtt:["MathFont",f.TexConstant.Variant.MONOSPACE],symcal:["MathFont",f.TexConstant.Variant.CALLIGRAPHIC],symbfcal:["MathFont",f.TexConstant.Variant.BOLDCALLIGRAPHIC],textrm:["HBox",null,f.TexConstant.Variant.NORMAL],textup:["HBox",null,f.TexConstant.Variant.NORMAL],textnormal:["HBox"],textit:["HBox",null,f.TexConstant.Variant.ITALIC],textbf:["HBox",null,f.TexConstant.Variant.BOLD],textsf:["HBox",null,f.TexConstant.Variant.SANSSERIF],texttt:["HBox",null,f.TexConstant.Variant.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],arcsin:"NamedFn",arccos:"NamedFn",arctan:"NamedFn",arg:"NamedFn",cos:"NamedFn",cosh:"NamedFn",cot:"NamedFn",coth:"NamedFn",csc:"NamedFn",deg:"NamedFn",det:"NamedOp",dim:"NamedFn",exp:"NamedFn",gcd:"NamedOp",hom:"NamedFn",inf:"NamedOp",ker:"NamedFn",lg:"NamedFn",lim:"NamedOp",liminf:["NamedOp","lim&thinsp;inf"],limsup:["NamedOp","lim&thinsp;sup"],ln:"NamedFn",log:"NamedFn",max:"NamedOp",min:"NamedOp",Pr:"NamedOp",sec:"NamedFn",sin:"NamedFn",sinh:"NamedFn",sup:"NamedOp",tan:"NamedFn",tanh:"NamedFn",limits:["Limits",1],nolimits:["Limits",0],overline:["UnderOver","2015"],underline:["UnderOver","2015"],overbrace:["UnderOver","23DE",1],underbrace:["UnderOver","23DF",1],overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"],overrightarrow:["UnderOver","2192"],underrightarrow:["UnderOver","2192"],overleftarrow:["UnderOver","2190"],underleftarrow:["UnderOver","2190"],overleftrightarrow:["UnderOver","2194"],underleftrightarrow:["UnderOver","2194"],overset:"Overset",underset:"Underset",overunderset:"Overunderset",stackrel:["Macro","\\mathrel{\\mathop{#2}\\limits^{#1}}",2],stackbin:["Macro","\\mathbin{\\mathop{#2}\\limits^{#1}}",2],over:"Over",overwithdelims:"Over",atop:"Over",atopwithdelims:"Over",above:"Over",abovewithdelims:"Over",brace:["Over","{","}"],brack:["Over","[","]"],choose:["Over","(",")"],frac:"Frac",sqrt:"Sqrt",root:"Root",uproot:["MoveRoot","upRoot"],leftroot:["MoveRoot","leftRoot"],left:"LeftRight",right:"LeftRight",middle:"LeftRight",llap:"Lap",rlap:"Lap",raise:"RaiseLower",lower:"RaiseLower",moveleft:"MoveLeftRight",moveright:"MoveLeftRight",",":["Spacer",l.MATHSPACE.thinmathspace],":":["Spacer",l.MATHSPACE.mediummathspace],">":["Spacer",l.MATHSPACE.mediummathspace],";":["Spacer",l.MATHSPACE.thickmathspace],"!":["Spacer",l.MATHSPACE.negativethinmathspace],enspace:["Spacer",.5],quad:["Spacer",1],qquad:["Spacer",2],thinspace:["Spacer",l.MATHSPACE.thinmathspace],negthinspace:["Spacer",l.MATHSPACE.negativethinmathspace],hskip:"Hskip",hspace:"Hskip",kern:"Hskip",mskip:"Hskip",mspace:"Hskip",mkern:"Hskip",rule:"rule",Rule:["Rule"],Space:["Rule","blank"],nonscript:"Nonscript",big:["MakeBig",o.TEXCLASS.ORD,.85],Big:["MakeBig",o.TEXCLASS.ORD,1.15],bigg:["MakeBig",o.TEXCLASS.ORD,1.45],Bigg:["MakeBig",o.TEXCLASS.ORD,1.75],bigl:["MakeBig",o.TEXCLASS.OPEN,.85],Bigl:["MakeBig",o.TEXCLASS.OPEN,1.15],biggl:["MakeBig",o.TEXCLASS.OPEN,1.45],Biggl:["MakeBig",o.TEXCLASS.OPEN,1.75],bigr:["MakeBig",o.TEXCLASS.CLOSE,.85],Bigr:["MakeBig",o.TEXCLASS.CLOSE,1.15],biggr:["MakeBig",o.TEXCLASS.CLOSE,1.45],Biggr:["MakeBig",o.TEXCLASS.CLOSE,1.75],bigm:["MakeBig",o.TEXCLASS.REL,.85],Bigm:["MakeBig",o.TEXCLASS.REL,1.15],biggm:["MakeBig",o.TEXCLASS.REL,1.45],Biggm:["MakeBig",o.TEXCLASS.REL,1.75],mathord:["TeXAtom",o.TEXCLASS.ORD],mathop:["TeXAtom",o.TEXCLASS.OP],mathopen:["TeXAtom",o.TEXCLASS.OPEN],mathclose:["TeXAtom",o.TEXCLASS.CLOSE],mathbin:["TeXAtom",o.TEXCLASS.BIN],mathrel:["TeXAtom",o.TEXCLASS.REL],mathpunct:["TeXAtom",o.TEXCLASS.PUNCT],mathinner:["TeXAtom",o.TEXCLASS.INNER],vcenter:["TeXAtom",o.TEXCLASS.VCENTER],buildrel:"BuildRel",hbox:["HBox",0],text:"HBox",mbox:["HBox",0],fbox:"FBox",boxed:["Macro","\\fbox{$\\displaystyle{#1}$}",1],framebox:"FrameBox",strut:"Strut",mathstrut:["Macro","\\vphantom{(}"],phantom:"Phantom",vphantom:["Phantom",1,0],hphantom:["Phantom",0,1],smash:"Smash",acute:["Accent","00B4"],grave:["Accent","0060"],ddot:["Accent","00A8"],tilde:["Accent","007E"],bar:["Accent","00AF"],breve:["Accent","02D8"],check:["Accent","02C7"],hat:["Accent","005E"],vec:["Accent","2192"],dot:["Accent","02D9"],widetilde:["Accent","007E",1],widehat:["Accent","005E",1],matrix:"Matrix",array:"Matrix",pmatrix:["Matrix","(",")"],cases:["Matrix","{","","left left",null,".1em",null,!0],eqalign:["Matrix",null,null,"right left",(0,l.em)(l.MATHSPACE.thickmathspace),".5em","D"],displaylines:["Matrix",null,null,"center",null,".5em","D"],cr:"Cr","\\":"CrLaTeX",newline:["CrLaTeX",!0],hline:["HLine","solid"],hdashline:["HLine","dashed"],eqalignno:["Matrix",null,null,"right left",(0,l.em)(l.MATHSPACE.thickmathspace),".5em","D",null,"right"],leqalignno:["Matrix",null,null,"right left",(0,l.em)(l.MATHSPACE.thickmathspace),".5em","D",null,"left"],hfill:"HFill",hfil:"HFill",hfilll:"HFill",bmod:["Macro",'\\mmlToken{mo}[lspace="thickmathspace" rspace="thickmathspace"]{mod}'],pmod:["Macro","\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}",1],mod:["Macro","\\mathchoice{\\kern18mu}{\\kern12mu}{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1",1],pod:["Macro","\\mathchoice{\\kern18mu}{\\kern8mu}{\\kern8mu}{\\kern8mu}(#1)",1],iff:["Macro","\\;\\Longleftrightarrow\\;"],skew:["Macro","{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}",3],pmb:["Macro","\\rlap{#1}\\kern1px{#1}",1],TeX:["Macro","T\\kern-.14em\\lower.5ex{E}\\kern-.115em X"],LaTeX:["Macro","L\\kern-.325em\\raise.21em{\\scriptstyle{A}}\\kern-.17em\\TeX"]," ":["Macro","\\text{ }"],not:"Not",dots:"Dots",space:"Tilde","":"Tilde",begin:"BeginEnd",end:"BeginEnd",label:"HandleLabel",ref:"HandleRef",nonumber:"HandleNoTag",mathchoice:"MathChoice",mmlToken:"MmlToken"},c.default),new d.EnvironmentMap("environment",s.default.environment,{array:["AlignedArray"],equation:["Equation",null,!0],eqnarray:["EqnArray",null,!0,!0,"rcl",a.default.cols(0,l.MATHSPACE.thickmathspace),".5em"]},c.default),new d.CharacterMap("not_remap",null,{"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","~":"","":"","":"","":"","":"","=":"","":"","<":"",">":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""})},7693:function(R,e,v){var M=this&&this.__assign||function(){return M=Object.assign||function(_){for(var T,N=1,w=arguments.length;N<w;N++)for(var L in T=arguments[N])Object.prototype.hasOwnProperty.call(T,L)&&(_[L]=T[L]);return _},M.apply(this,arguments)},C=this&&this.__createBinding||(Object.create?function(_,T,N,w){w===void 0&&(w=N);var L=Object.getOwnPropertyDescriptor(T,N);L&&!("get"in L?!T.__esModule:L.writable||L.configurable)||(L={enumerable:!0,get:function(){return T[N]}}),Object.defineProperty(_,w,L)}:function(_,T,N,w){w===void 0&&(w=N),_[w]=T[N]}),x=this&&this.__setModuleDefault||(Object.create?function(_,T){Object.defineProperty(_,"default",{enumerable:!0,value:T})}:function(_,T){_.default=T}),y=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var T={};if(_!=null)for(var N in _)N!=="default"&&Object.prototype.hasOwnProperty.call(_,N)&&C(T,_,N);return x(T,_),T},d=this&&this.__read||function(_,T){var N=typeof Symbol=="function"&&_[Symbol.iterator];if(!N)return _;var w,L,I=N.call(_),P=[];try{for(;(T===void 0||T-- >0)&&!(w=I.next()).done;)P.push(w.value)}catch(k){L={error:k}}finally{try{w&&!w.done&&(N=I.return)&&N.call(I)}finally{if(L)throw L.error}}return P},f=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0});var c=y(v(1181)),s=f(v(1256)),a=f(v(3971)),o=f(v(8417)),l=v(8317),u=f(v(1130)),p=v(9007),h=v(6521),m=v(6010),g=v(5368),E=v(7233),S={},O={fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,class:1,href:1,style:1};function A(_,T){var N=_.stack.env,w=N.inRoot;N.inRoot=!0;var L=new o.default(T,N,_.configuration),I=L.mml(),P=L.stack.global;if(P.leftRoot||P.upRoot){var k={};P.leftRoot&&(k.width=P.leftRoot),P.upRoot&&(k.voffset=P.upRoot,k.height=P.upRoot),I=_.create("node","mpadded",[I],k)}return N.inRoot=w,I}S.Open=function(_,T){_.Push(_.itemFactory.create("open"))},S.Close=function(_,T){_.Push(_.itemFactory.create("close"))},S.Tilde=function(_,T){_.Push(_.create("token","mtext",{},g.entities.nbsp))},S.Space=function(_,T){},S.Superscript=function(_,T){var N,w,L;_.GetNext().match(/\d/)&&(_.string=_.string.substr(0,_.i+1)+" "+_.string.substr(_.i+1));var I=_.stack.Top();I.isKind("prime")?(L=(N=d(I.Peek(2),2))[0],w=N[1],_.stack.Pop()):(L=_.stack.Prev())||(L=_.create("token","mi",{},""));var P=s.default.getProperty(L,"movesupsub"),k=s.default.isType(L,"msubsup")?L.sup:L.over;if(s.default.isType(L,"msubsup")&&!s.default.isType(L,"msup")&&s.default.getChildAt(L,L.sup)||s.default.isType(L,"munderover")&&!s.default.isType(L,"mover")&&s.default.getChildAt(L,L.over)&&!s.default.getProperty(L,"subsupOK"))throw new a.default("DoubleExponent","Double exponent: use braces to clarify");s.default.isType(L,"msubsup")&&!s.default.isType(L,"msup")||(P?((!s.default.isType(L,"munderover")||s.default.isType(L,"mover")||s.default.getChildAt(L,L.over))&&(L=_.create("node","munderover",[L],{movesupsub:!0})),k=L.over):k=(L=_.create("node","msubsup",[L])).sup),_.Push(_.itemFactory.create("subsup",L).setProperties({position:k,primes:w,movesupsub:P}))},S.Subscript=function(_,T){var N,w,L;_.GetNext().match(/\d/)&&(_.string=_.string.substr(0,_.i+1)+" "+_.string.substr(_.i+1));var I=_.stack.Top();I.isKind("prime")?(L=(N=d(I.Peek(2),2))[0],w=N[1],_.stack.Pop()):(L=_.stack.Prev())||(L=_.create("token","mi",{},""));var P=s.default.getProperty(L,"movesupsub"),k=s.default.isType(L,"msubsup")?L.sub:L.under;if(s.default.isType(L,"msubsup")&&!s.default.isType(L,"msup")&&s.default.getChildAt(L,L.sub)||s.default.isType(L,"munderover")&&!s.default.isType(L,"mover")&&s.default.getChildAt(L,L.under)&&!s.default.getProperty(L,"subsupOK"))throw new a.default("DoubleSubscripts","Double subscripts: use braces to clarify");s.default.isType(L,"msubsup")&&!s.default.isType(L,"msup")||(P?((!s.default.isType(L,"munderover")||s.default.isType(L,"mover")||s.default.getChildAt(L,L.under))&&(L=_.create("node","munderover",[L],{movesupsub:!0})),k=L.under):k=(L=_.create("node","msubsup",[L])).sub),_.Push(_.itemFactory.create("subsup",L).setProperties({position:k,primes:w,movesupsub:P}))},S.Prime=function(_,T){var N=_.stack.Prev();if(N||(N=_.create("node","mi")),s.default.isType(N,"msubsup")&&!s.default.isType(N,"msup")&&s.default.getChildAt(N,N.sup))throw new a.default("DoubleExponentPrime","Prime causes double exponent: use braces to clarify");var w="";_.i--;do w+=g.entities.prime,_.i++,T=_.GetNext();while(T==="'"||T===g.entities.rsquo);w=["","","","",""][w.length]||w;var L=_.create("token","mo",{variantForm:!0},w);_.Push(_.itemFactory.create("prime",N,L))},S.Comment=function(_,T){for(;_.i<_.string.length&&_.string.charAt(_.i)!==`
`;)_.i++},S.Hash=function(_,T){throw new a.default("CantUseHash1","You can't use 'macro parameter character #' in math mode")},S.MathFont=function(_,T,N){var w=_.GetArgument(T),L=new o.default(w,M(M({},_.stack.env),{font:N,multiLetterIdentifiers:/^[a-zA-Z]+/,noAutoOP:!0}),_.configuration).mml();_.Push(_.create("node","TeXAtom",[L]))},S.SetFont=function(_,T,N){_.stack.env.font=N},S.SetStyle=function(_,T,N,w,L){_.stack.env.style=N,_.stack.env.level=L,_.Push(_.itemFactory.create("style").setProperty("styles",{displaystyle:w,scriptlevel:L}))},S.SetSize=function(_,T,N){_.stack.env.size=N,_.Push(_.itemFactory.create("style").setProperty("styles",{mathsize:(0,m.em)(N)}))},S.Spacer=function(_,T,N){var w=_.create("node","mspace",[],{width:(0,m.em)(N)}),L=_.create("node","mstyle",[w],{scriptlevel:0});_.Push(L)},S.LeftRight=function(_,T){var N=T.substr(1);_.Push(_.itemFactory.create(N,_.GetDelimiter(T),_.stack.env.color))},S.NamedFn=function(_,T,N){N||(N=T.substr(1));var w=_.create("token","mi",{texClass:p.TEXCLASS.OP},N);_.Push(_.itemFactory.create("fn",w))},S.NamedOp=function(_,T,N){N||(N=T.substr(1)),N=N.replace(/&thinsp;/,"");var w=_.create("token","mo",{movablelimits:!0,movesupsub:!0,form:l.TexConstant.Form.PREFIX,texClass:p.TEXCLASS.OP},N);_.Push(w)},S.Limits=function(_,T,N){var w=_.stack.Prev(!0);if(!w||s.default.getTexClass(s.default.getCoreMO(w))!==p.TEXCLASS.OP&&s.default.getProperty(w,"movesupsub")==null)throw new a.default("MisplacedLimits","%1 is allowed only on operators",_.currentCS);var L,I=_.stack.Top();s.default.isType(w,"munderover")&&!N?(L=_.create("node","msubsup"),s.default.copyChildren(w,L),w=I.Last=L):s.default.isType(w,"msubsup")&&N&&(L=_.create("node","munderover"),s.default.copyChildren(w,L),w=I.Last=L),s.default.setProperty(w,"movesupsub",!!N),s.default.setProperties(s.default.getCoreMO(w),{movablelimits:!1}),(s.default.getAttribute(w,"movablelimits")||s.default.getProperty(w,"movablelimits"))&&s.default.setProperties(w,{movablelimits:!1})},S.Over=function(_,T,N,w){var L=_.itemFactory.create("over").setProperty("name",_.currentCS);N||w?(L.setProperty("open",N),L.setProperty("close",w)):T.match(/withdelims$/)&&(L.setProperty("open",_.GetDelimiter(T)),L.setProperty("close",_.GetDelimiter(T))),T.match(/^\\above/)?L.setProperty("thickness",_.GetDimen(T)):(T.match(/^\\atop/)||N||w)&&L.setProperty("thickness",0),_.Push(L)},S.Frac=function(_,T){var N=_.ParseArg(T),w=_.ParseArg(T),L=_.create("node","mfrac",[N,w]);_.Push(L)},S.Sqrt=function(_,T){var N=_.GetBrackets(T),w=_.GetArgument(T);w==="\\frac"&&(w+="{"+_.GetArgument(w)+"}{"+_.GetArgument(w)+"}");var L=new o.default(w,_.stack.env,_.configuration).mml();L=N?_.create("node","mroot",[L,A(_,N)]):_.create("node","msqrt",[L]),_.Push(L)},S.Root=function(_,T){var N=_.GetUpTo(T,"\\of"),w=_.ParseArg(T),L=_.create("node","mroot",[w,A(_,N)]);_.Push(L)},S.MoveRoot=function(_,T,N){if(!_.stack.env.inRoot)throw new a.default("MisplacedMoveRoot","%1 can appear only within a root",_.currentCS);if(_.stack.global[N])throw new a.default("MultipleMoveRoot","Multiple use of %1",_.currentCS);var w=_.GetArgument(T);if(!w.match(/-?[0-9]+/))throw new a.default("IntegerArg","The argument to %1 must be an integer",_.currentCS);(w=parseInt(w,10)/15+"em").substr(0,1)!=="-"&&(w="+"+w),_.stack.global[N]=w},S.Accent=function(_,T,N,w){var L=_.ParseArg(T),I=M(M({},u.default.getFontDef(_)),{accent:!0,mathaccent:!0}),P=s.default.createEntity(N),k=_.create("token","mo",I,P);s.default.setAttribute(k,"stretchy",!!w);var B=s.default.isEmbellished(L)?s.default.getCoreMO(L):L;(s.default.isType(B,"mo")||s.default.getProperty(B,"movablelimits"))&&s.default.setProperties(B,{movablelimits:!1});var F=_.create("node","munderover");s.default.setChild(F,0,L),s.default.setChild(F,1,null),s.default.setChild(F,2,k);var H=_.create("node","TeXAtom",[F]);_.Push(H)},S.UnderOver=function(_,T,N,w){var L=s.default.createEntity(N),I=_.create("token","mo",{stretchy:!0,accent:!0},L),P=T.charAt(1)==="o"?"over":"under",k=_.ParseArg(T);_.Push(u.default.underOver(_,k,I,P,w))},S.Overset=function(_,T){var N=_.ParseArg(T),w=_.ParseArg(T);u.default.checkMovableLimits(w),N.isKind("mo")&&s.default.setAttribute(N,"accent",!1);var L=_.create("node","mover",[w,N]);_.Push(L)},S.Underset=function(_,T){var N=_.ParseArg(T),w=_.ParseArg(T);u.default.checkMovableLimits(w),N.isKind("mo")&&s.default.setAttribute(N,"accent",!1);var L=_.create("node","munder",[w,N],{accentunder:!1});_.Push(L)},S.Overunderset=function(_,T){var N=_.ParseArg(T),w=_.ParseArg(T),L=_.ParseArg(T);u.default.checkMovableLimits(L),N.isKind("mo")&&s.default.setAttribute(N,"accent",!1),w.isKind("mo")&&s.default.setAttribute(w,"accent",!1);var I=_.create("node","munderover",[L,w,N],{accent:!1,accentunder:!1});_.Push(I)},S.TeXAtom=function(_,T,N){var w,L,I,P={texClass:N};if(N===p.TEXCLASS.OP){P.movesupsub=P.movablelimits=!0;var k=_.GetArgument(T),B=k.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);B?(P.mathvariant=l.TexConstant.Variant.NORMAL,L=_.create("token","mi",P,B[1])):(I=new o.default(k,_.stack.env,_.configuration).mml(),L=_.create("node","TeXAtom",[I],P)),w=_.itemFactory.create("fn",L)}else I=_.ParseArg(T),w=_.create("node","TeXAtom",[I],P);_.Push(w)},S.MmlToken=function(_,T){var N,w=_.GetArgument(T),L=_.GetBrackets(T,"").replace(/^\s+/,""),I=_.GetArgument(T),P={},k=[];try{N=_.create("node",w)}catch{N=null}if(!N||!N.isToken)throw new a.default("NotMathMLToken","%1 is not a token element",w);for(;L!=="";){var B=L.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);if(!B)throw new a.default("InvalidMathMLAttr","Invalid MathML attribute: %1",L);if(!N.attributes.hasDefault(B[1])&&!O[B[1]])throw new a.default("UnknownAttrForElement","%1 is not a recognized attribute for %2",B[1],w);var F=u.default.MmlFilterAttribute(_,B[1],B[2].replace(/^(['"])(.*)\1$/,"$2"));F&&(F.toLowerCase()==="true"?F=!0:F.toLowerCase()==="false"&&(F=!1),P[B[1]]=F,k.push(B[1])),L=L.substr(B[0].length)}k.length&&(P["mjx-keep-attrs"]=k.join(" "));var H=_.create("text",I);N.appendChild(H),s.default.setProperties(N,P),_.Push(N)},S.Strut=function(_,T){var N=_.create("node","mrow"),w=_.create("node","mpadded",[N],{height:"8.6pt",depth:"3pt",width:0});_.Push(w)},S.Phantom=function(_,T,N,w){var L=_.create("node","mphantom",[_.ParseArg(T)]);(N||w)&&(L=_.create("node","mpadded",[L]),w&&(s.default.setAttribute(L,"height",0),s.default.setAttribute(L,"depth",0)),N&&s.default.setAttribute(L,"width",0));var I=_.create("node","TeXAtom",[L]);_.Push(I)},S.Smash=function(_,T){var N=u.default.trimSpaces(_.GetBrackets(T,"")),w=_.create("node","mpadded",[_.ParseArg(T)]);switch(N){case"b":s.default.setAttribute(w,"depth",0);break;case"t":s.default.setAttribute(w,"height",0);break;default:s.default.setAttribute(w,"height",0),s.default.setAttribute(w,"depth",0)}var L=_.create("node","TeXAtom",[w]);_.Push(L)},S.Lap=function(_,T){var N=_.create("node","mpadded",[_.ParseArg(T)],{width:0});T==="\\llap"&&s.default.setAttribute(N,"lspace","-1width");var w=_.create("node","TeXAtom",[N]);_.Push(w)},S.RaiseLower=function(_,T){var N=_.GetDimen(T),w=_.itemFactory.create("position").setProperties({name:_.currentCS,move:"vertical"});N.charAt(0)==="-"&&(N=N.slice(1),T=T.substr(1)==="raise"?"\\lower":"\\raise"),T==="\\lower"?(w.setProperty("dh","-"+N),w.setProperty("dd","+"+N)):(w.setProperty("dh","+"+N),w.setProperty("dd","-"+N)),_.Push(w)},S.MoveLeftRight=function(_,T){var N=_.GetDimen(T),w=N.charAt(0)==="-"?N.slice(1):"-"+N;if(T==="\\moveleft"){var L=N;N=w,w=L}_.Push(_.itemFactory.create("position").setProperties({name:_.currentCS,move:"horizontal",left:_.create("node","mspace",[],{width:N}),right:_.create("node","mspace",[],{width:w})}))},S.Hskip=function(_,T){var N=_.create("node","mspace",[],{width:_.GetDimen(T)});_.Push(N)},S.Nonscript=function(_,T){_.Push(_.itemFactory.create("nonscript"))},S.Rule=function(_,T,N){var w={width:_.GetDimen(T),height:_.GetDimen(T),depth:_.GetDimen(T)};N!=="blank"&&(w.mathbackground=_.stack.env.color||"black");var L=_.create("node","mspace",[],w);_.Push(L)},S.rule=function(_,T){var N=_.GetBrackets(T),w=_.GetDimen(T),L=_.GetDimen(T),I=_.create("node","mspace",[],{width:w,height:L,mathbackground:_.stack.env.color||"black"});N&&(I=_.create("node","mpadded",[I],{voffset:N}),N.match(/^\-/)?(s.default.setAttribute(I,"height",N),s.default.setAttribute(I,"depth","+"+N.substr(1))):s.default.setAttribute(I,"height","+"+N)),_.Push(I)},S.MakeBig=function(_,T,N,w){var L=String(w*=1.411764705882353).replace(/(\.\d\d\d).+/,"$1")+"em",I=_.GetDelimiter(T,!0),P=_.create("token","mo",{minsize:L,maxsize:L,fence:!0,stretchy:!0,symmetric:!0},I),k=_.create("node","TeXAtom",[P],{texClass:N});_.Push(k)},S.BuildRel=function(_,T){var N=_.ParseUpTo(T,"\\over"),w=_.ParseArg(T),L=_.create("node","munderover");s.default.setChild(L,0,w),s.default.setChild(L,1,null),s.default.setChild(L,2,N);var I=_.create("node","TeXAtom",[L],{texClass:p.TEXCLASS.REL});_.Push(I)},S.HBox=function(_,T,N,w){_.PushAll(u.default.internalMath(_,_.GetArgument(T),N,w))},S.FBox=function(_,T){var N=u.default.internalMath(_,_.GetArgument(T)),w=_.create("node","menclose",N,{notation:"box"});_.Push(w)},S.FrameBox=function(_,T){var N=_.GetBrackets(T),w=_.GetBrackets(T)||"c",L=u.default.internalMath(_,_.GetArgument(T));N&&(L=[_.create("node","mpadded",L,{width:N,"data-align":(0,E.lookup)(w,{l:"left",r:"right"},"center")})]);var I=_.create("node","TeXAtom",[_.create("node","menclose",L,{notation:"box"})],{texClass:p.TEXCLASS.ORD});_.Push(I)},S.Not=function(_,T){_.Push(_.itemFactory.create("not"))},S.Dots=function(_,T){var N=s.default.createEntity("2026"),w=s.default.createEntity("22EF"),L=_.create("token","mo",{stretchy:!1},N),I=_.create("token","mo",{stretchy:!1},w);_.Push(_.itemFactory.create("dots").setProperties({ldots:L,cdots:I}))},S.Matrix=function(_,T,N,w,L,I,P,k,B,F){var H=_.GetNext();if(H==="")throw new a.default("MissingArgFor","Missing argument for %1",_.currentCS);H==="{"?_.i++:(_.string=H+"}"+_.string.slice(_.i+1),_.i=0);var j=_.itemFactory.create("array").setProperty("requireClose",!0);j.arraydef={rowspacing:P||"4pt",columnspacing:I||"1em"},B&&j.setProperty("isCases",!0),F&&(j.setProperty("isNumbered",!0),j.arraydef.side=F),(N||w)&&(j.setProperty("open",N),j.setProperty("close",w)),k==="D"&&(j.arraydef.displaystyle=!0),L!=null&&(j.arraydef.columnalign=L),_.Push(j)},S.Entry=function(_,T){_.Push(_.itemFactory.create("cell").setProperties({isEntry:!0,name:T}));var N=_.stack.Top(),w=N.getProperty("casesEnv");if(N.getProperty("isCases")||w){for(var L=_.string,I=0,P=-1,k=_.i,B=L.length,F=w?new RegExp("^\\\\end\\s*\\{".concat(w.replace(/\*/,"\\*"),"\\}")):null;k<B;){var H=L.charAt(k);if(H==="{")I++,k++;else if(H==="}")I===0?B=0:(--I===0&&P<0&&(P=k-_.i),k++);else{if(H==="&"&&I===0)throw new a.default("ExtraAlignTab","Extra alignment tab in \\cases text");if(H==="\\"){var j=L.substr(k);j.match(/^((\\cr)[^a-zA-Z]|\\\\)/)||F&&j.match(F)?B=0:k+=2}else k++}}var U=L.substr(_.i,k-_.i);if(!U.match(/^\s*\\text[^a-zA-Z]/)||P!==U.replace(/\s+$/,"").length-1){var z=u.default.internalMath(_,u.default.trimSpaces(U),0);_.PushAll(z),_.i=k}}},S.Cr=function(_,T){_.Push(_.itemFactory.create("cell").setProperties({isCR:!0,name:T}))},S.CrLaTeX=function(_,T,N){var w;if(N===void 0&&(N=!1),!N&&(_.string.charAt(_.i)==="*"&&_.i++,_.string.charAt(_.i)==="[")){var L=_.GetBrackets(T,""),I=d(u.default.matchDimen(L),2),P=I[0],k=I[1];if(L&&!P)throw new a.default("BracketMustBeDimension","Bracket argument to %1 must be a dimension",_.currentCS);w=P+k}_.Push(_.itemFactory.create("cell").setProperties({isCR:!0,name:T,linebreak:!0}));var B,F=_.stack.Top();F instanceof c.ArrayItem?w&&F.addRowSpacing(w):(w&&(B=_.create("node","mspace",[],{depth:w}),_.Push(B)),B=_.create("node","mspace",[],{linebreak:l.TexConstant.LineBreak.NEWLINE}),_.Push(B))},S.HLine=function(_,T,N){N==null&&(N="solid");var w=_.stack.Top();if(!(w instanceof c.ArrayItem)||w.Size())throw new a.default("Misplaced","Misplaced %1",_.currentCS);if(w.table.length){for(var L=w.arraydef.rowlines?w.arraydef.rowlines.split(/ /):[];L.length<w.table.length;)L.push("none");L[w.table.length-1]=N,w.arraydef.rowlines=L.join(" ")}else w.frame.push("top")},S.HFill=function(_,T){var N=_.stack.Top();if(!(N instanceof c.ArrayItem))throw new a.default("UnsupportedHFill","Unsupported use of %1",_.currentCS);N.hfill.push(N.Size())},S.BeginEnd=function(_,T){var N=_.GetArgument(T);if(N.match(/\\/i))throw new a.default("InvalidEnv","Invalid environment name '%1'",N);var w=_.configuration.handlers.get("environment").lookup(N);if(w&&T==="\\end"){if(!w.args[0]){var L=_.itemFactory.create("end").setProperty("name",N);return void _.Push(L)}_.stack.env.closing=N}u.default.checkMaxMacros(_,!1),_.parse("environment",[_,N])},S.Array=function(_,T,N,w,L,I,P,k,B){L||(L=_.GetArgument("\\begin{"+T.getName()+"}"));var F=("c"+L).replace(/[^clr|:]/g,"").replace(/[^|:]([|:])+/g,"$1");L=(L=L.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var H=_.itemFactory.create("array");return H.arraydef={columnalign:L,columnspacing:I||"1em",rowspacing:P||"4pt"},F.match(/[|:]/)&&(F.charAt(0).match(/[|:]/)&&(H.frame.push("left"),H.dashed=F.charAt(0)===":"),F.charAt(F.length-1).match(/[|:]/)&&H.frame.push("right"),F=F.substr(1,F.length-2),H.arraydef.columnlines=F.split("").join(" ").replace(/[^|: ]/g,"none").replace(/\|/g,"solid").replace(/:/g,"dashed")),N&&H.setProperty("open",_.convertDelimiter(N)),w&&H.setProperty("close",_.convertDelimiter(w)),(k||"").charAt(1)==="'"&&(H.arraydef["data-cramped"]=!0,k=k.charAt(0)),k==="D"?H.arraydef.displaystyle=!0:k&&(H.arraydef.displaystyle=!1),k==="S"&&(H.arraydef.scriptlevel=1),B&&(H.arraydef.useHeight=!1),_.Push(T),H},S.AlignedArray=function(_,T){var N=_.GetBrackets("\\begin{"+T.getName()+"}"),w=S.Array(_,T);return u.default.setArrayAlign(w,N)},S.Equation=function(_,T,N){return _.Push(T),u.default.checkEqnEnv(_),_.itemFactory.create("equation",N).setProperty("name",T.getName())},S.EqnArray=function(_,T,N,w,L,I){_.Push(T),w&&u.default.checkEqnEnv(_),L=(L=L.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var P=_.itemFactory.create("eqnarray",T.getName(),N,w,_.stack.global);return P.arraydef={displaystyle:!0,columnalign:L,columnspacing:I||"1em",rowspacing:"3pt",side:_.options.tagSide,minlabelspacing:_.options.tagIndent},P},S.HandleNoTag=function(_,T){_.tags.notag()},S.HandleLabel=function(_,T){var N=_.GetArgument(T);if(N!==""&&!_.tags.refUpdate){if(_.tags.label)throw new a.default("MultipleCommand","Multiple %1",_.currentCS);if(_.tags.label=N,(_.tags.allLabels[N]||_.tags.labels[N])&&!_.options.ignoreDuplicateLabels)throw new a.default("MultipleLabel","Label '%1' multiply defined",N);_.tags.labels[N]=new h.Label}},S.HandleRef=function(_,T,N){var w=_.GetArgument(T),L=_.tags.allLabels[w]||_.tags.labels[w];L||(_.tags.refUpdate||(_.tags.redo=!0),L=new h.Label);var I=L.tag;N&&(I=_.tags.formatTag(I));var P=_.create("node","mrow",u.default.internalMath(_,I),{href:_.tags.formatUrl(L.id,_.options.baseURL),class:"MathJax_ref"});_.Push(P)},S.Macro=function(_,T,N,w,L){if(w){var I=[];if(L!=null){var P=_.GetBrackets(T);I.push(P??L)}for(var k=I.length;k<w;k++)I.push(_.GetArgument(T));N=u.default.substituteArgs(_,I,N)}_.string=u.default.addArgs(_,N,_.string.slice(_.i)),_.i=0,u.default.checkMaxMacros(_)},S.MathChoice=function(_,T){var N=_.ParseArg(T),w=_.ParseArg(T),L=_.ParseArg(T),I=_.ParseArg(T);_.Push(_.create("node","MathChoice",[N,w,L,I]))},e.default=S},8458:function(R,e,v){var M,C=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},x=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigMacrosConfiguration=void 0;var y=v(9899),d=v(7233),f=v(9140),c=x(v(5450)),s=v(8803),a=x(v(1110)),o=v(6793),l="configmacros-map",u="configmacros-env-map";e.ConfigMacrosConfiguration=y.Configuration.create("configmacros",{init:function(p){new f.CommandMap(l,{},{}),new f.EnvironmentMap(u,c.default.environment,{},{}),p.append(y.Configuration.local({handler:{macro:[l],environment:[u]},priority:3}))},config:function(p,h){(function(m){var g,E,S=m.parseOptions.handlers.retrieve(l),O=m.parseOptions.options.macros;try{for(var A=C(Object.keys(O)),_=A.next();!_.done;_=A.next()){var T=_.value,N=typeof O[T]=="string"?[O[T]]:O[T],w=Array.isArray(N[2])?new s.Macro(T,a.default.MacroWithTemplate,N.slice(0,2).concat(N[2])):new s.Macro(T,a.default.Macro,N);S.add(T,w)}}catch(L){g={error:L}}finally{try{_&&!_.done&&(E=A.return)&&E.call(A)}finally{if(g)throw g.error}}})(h),function(m){var g,E,S=m.parseOptions.handlers.retrieve(u),O=m.parseOptions.options.environments;try{for(var A=C(Object.keys(O)),_=A.next();!_.done;_=A.next()){var T=_.value;S.add(T,new s.Macro(T,a.default.BeginEnv,[!0].concat(O[T])))}}catch(N){g={error:N}}finally{try{_&&!_.done&&(E=A.return)&&E.call(A)}finally{if(g)throw g.error}}}(h)},items:(M={},M[o.BeginEnvItem.prototype.kind]=o.BeginEnvItem,M),options:{macros:(0,d.expandable)({}),environments:(0,d.expandable)({})}})},1496:function(R,e,v){var M,C=this&&this.__createBinding||(Object.create?function(l,u,p,h){h===void 0&&(h=p);var m=Object.getOwnPropertyDescriptor(u,p);m&&!("get"in m?!u.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return u[p]}}),Object.defineProperty(l,h,m)}:function(l,u,p,h){h===void 0&&(h=p),l[h]=u[p]}),x=this&&this.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),y=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var p in l)p!=="default"&&Object.prototype.hasOwnProperty.call(l,p)&&C(u,l,p);return x(u,l),u},d=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.NewcommandConfiguration=void 0;var f=v(9899),c=v(6793),s=d(v(5579));v(5117);var a=d(v(5450)),o=y(v(9140));e.NewcommandConfiguration=f.Configuration.create("newcommand",{handler:{macro:["Newcommand-macros"]},items:(M={},M[c.BeginEnvItem.prototype.kind]=c.BeginEnvItem,M),options:{maxMacros:1e3},init:function(l){new o.DelimiterMap(s.default.NEW_DELIMITER,a.default.delimiter,{}),new o.CommandMap(s.default.NEW_COMMAND,{},{}),new o.EnvironmentMap(s.default.NEW_ENVIRONMENT,a.default.environment,{},{}),l.append(f.Configuration.local({handler:{character:[],delimiter:[s.default.NEW_DELIMITER],macro:[s.default.NEW_DELIMITER,s.default.NEW_COMMAND],environment:[s.default.NEW_ENVIRONMENT]},priority:-1}))}})},6793:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.BeginEnvItem=void 0;var y=x(v(3971)),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),Object.defineProperty(c.prototype,"kind",{get:function(){return"beginEnv"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.checkItem=function(s){if(s.isKind("end")){if(s.getName()!==this.getName())throw new y.default("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),s.getName());return[[this.factory.create("mml",this.toMml())],!0]}if(s.isKind("stop"))throw new y.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return f.prototype.checkItem.call(this,s)},c}(v(8292).BaseItem);e.BeginEnvItem=d},5117:function(R,e,v){var M=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0});var C=M(v(1110));new(v(9140)).CommandMap("Newcommand-macros",{newcommand:"NewCommand",renewcommand:"NewCommand",newenvironment:"NewEnvironment",renewenvironment:"NewEnvironment",def:"MacroDef",let:"Let"},C.default)},1110:function(R,e,v){var M=this&&this.__createBinding||(Object.create?function(l,u,p,h){h===void 0&&(h=p);var m=Object.getOwnPropertyDescriptor(u,p);m&&!("get"in m?!u.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return u[p]}}),Object.defineProperty(l,h,m)}:function(l,u,p,h){h===void 0&&(h=p),l[h]=u[p]}),C=this&&this.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),x=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var p in l)p!=="default"&&Object.prototype.hasOwnProperty.call(l,p)&&M(u,l,p);return C(u,l),u},y=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var d=y(v(3971)),f=x(v(9140)),c=y(v(7693)),s=y(v(1130)),a=y(v(5579)),o={NewCommand:function(l,u){var p=a.default.GetCsNameArgument(l,u),h=a.default.GetArgCount(l,u),m=l.GetBrackets(u),g=l.GetArgument(u);a.default.addMacro(l,p,o.Macro,[g,h,m])},NewEnvironment:function(l,u){var p=s.default.trimSpaces(l.GetArgument(u)),h=a.default.GetArgCount(l,u),m=l.GetBrackets(u),g=l.GetArgument(u),E=l.GetArgument(u);a.default.addEnvironment(l,p,o.BeginEnv,[!0,g,E,h,m])},MacroDef:function(l,u){var p=a.default.GetCSname(l,u),h=a.default.GetTemplate(l,u,"\\"+p),m=l.GetArgument(u);h instanceof Array?a.default.addMacro(l,p,o.MacroWithTemplate,[m].concat(h)):a.default.addMacro(l,p,o.Macro,[m,h])},Let:function(l,u){var p=a.default.GetCSname(l,u),h=l.GetNext();h==="="&&(l.i++,h=l.GetNext());var m=l.configuration.handlers;if(h!=="\\"){l.i++;var g=m.get("delimiter").lookup(h);g?a.default.addDelimiter(l,"\\"+p,g.char,g.attributes):a.default.addMacro(l,p,o.Macro,[h])}else{u=a.default.GetCSname(l,u);var E=m.get("delimiter").lookup("\\"+u);if(E)return void a.default.addDelimiter(l,"\\"+p,E.char,E.attributes);var S=m.get("macro").applicable(u);if(!S)return;if(S instanceof f.MacroMap){var O=S.lookup(u);return void a.default.addMacro(l,p,O.func,O.args,O.symbol)}E=S.lookup(u);var A=a.default.disassembleSymbol(p,E);a.default.addMacro(l,p,function(_,T){for(var N=[],w=2;w<arguments.length;w++)N[w-2]=arguments[w];var L=a.default.assembleSymbol(N);return S.parser(_,L)},A)}},MacroWithTemplate:function(l,u,p,h){for(var m=[],g=4;g<arguments.length;g++)m[g-4]=arguments[g];var E=parseInt(h,10);if(E){var S=[];if(l.GetNext(),m[0]&&!a.default.MatchParam(l,m[0]))throw new d.default("MismatchUseDef","Use of %1 doesn't match its definition",u);for(var O=0;O<E;O++)S.push(a.default.GetParameter(l,u,m[O+1]));p=s.default.substituteArgs(l,S,p)}l.string=s.default.addArgs(l,p,l.string.slice(l.i)),l.i=0,s.default.checkMaxMacros(l)},BeginEnv:function(l,u,p,h,m,g){if(u.getProperty("end")&&l.stack.env.closing===u.getName()){delete l.stack.env.closing;var E=l.string.slice(l.i);return l.string=h,l.i=0,l.Parse(),l.string=E,l.i=0,l.itemFactory.create("end").setProperty("name",u.getName())}if(m){var S=[];if(g!=null){var O=l.GetBrackets("\\begin{"+u.getName()+"}");S.push(O??g)}for(var A=S.length;A<m;A++)S.push(l.GetArgument("\\begin{"+u.getName()+"}"));p=s.default.substituteArgs(l,S,p),h=s.default.substituteArgs(l,[],h)}return l.string=s.default.addArgs(l,p,l.string.slice(l.i)),l.i=0,l.itemFactory.create("beginEnv").setProperty("name",u.getName())}};o.Macro=c.default.Macro,e.default=o},5579:function(R,e,v){var M=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var C,x=M(v(1130)),y=M(v(3971)),d=v(8803);(function(f){function c(s,a){return s.string.substr(s.i,a.length)!==a||a.match(/\\[a-z]+$/i)&&s.string.charAt(s.i+a.length).match(/[a-z]/i)?0:(s.i+=a.length,1)}f.disassembleSymbol=function(s,a){var o=[s,a.char];if(a.attributes)for(var l in a.attributes)o.push(l),o.push(a.attributes[l]);return o},f.assembleSymbol=function(s){for(var a=s[0],o=s[1],l={},u=2;u<s.length;u+=2)l[s[u]]=s[u+1];return new d.Symbol(a,o,l)},f.GetCSname=function(s,a){if(s.GetNext()!=="\\")throw new y.default("MissingCS","%1 must be followed by a control sequence",a);return x.default.trimSpaces(s.GetArgument(a)).substr(1)},f.GetCsNameArgument=function(s,a){var o=x.default.trimSpaces(s.GetArgument(a));if(o.charAt(0)==="\\"&&(o=o.substr(1)),!o.match(/^(.|[a-z]+)$/i))throw new y.default("IllegalControlSequenceName","Illegal control sequence name for %1",a);return o},f.GetArgCount=function(s,a){var o=s.GetBrackets(a);if(o&&!(o=x.default.trimSpaces(o)).match(/^[0-9]+$/))throw new y.default("IllegalParamNumber","Illegal number of parameters specified in %1",a);return o},f.GetTemplate=function(s,a,o){for(var l=s.GetNext(),u=[],p=0,h=s.i;s.i<s.string.length;){if((l=s.GetNext())==="#"){if(h!==s.i&&(u[p]=s.string.substr(h,s.i-h)),!(l=s.string.charAt(++s.i)).match(/^[1-9]$/))throw new y.default("CantUseHash2","Illegal use of # in template for %1",o);if(parseInt(l)!==++p)throw new y.default("SequentialParam","Parameters for %1 must be numbered sequentially",o);h=s.i+1}else if(l==="{")return h!==s.i&&(u[p]=s.string.substr(h,s.i-h)),u.length>0?[p.toString()].concat(u):p;s.i++}throw new y.default("MissingReplacementString","Missing replacement string for definition of %1",a)},f.GetParameter=function(s,a,o){if(o==null)return s.GetArgument(a);for(var l=s.i,u=0,p=0;s.i<s.string.length;){var h=s.string.charAt(s.i);if(h==="{")s.i===l&&(p=1),s.GetArgument(a),u=s.i-l;else{if(c(s,o))return p&&(l++,u-=2),s.string.substr(l,u);if(h==="\\"){s.i++,u++,p=0;var m=s.string.substr(s.i).match(/[a-z]+|./i);m&&(s.i+=m[0].length,u=s.i-l)}else s.i++,u++,p=0}}throw new y.default("RunawayArgument","Runaway argument for %1?",a)},f.MatchParam=c,f.addDelimiter=function(s,a,o,l){s.configuration.handlers.retrieve(f.NEW_DELIMITER).add(a,new d.Symbol(a,o,l))},f.addMacro=function(s,a,o,l,u){u===void 0&&(u=""),s.configuration.handlers.retrieve(f.NEW_COMMAND).add(a,new d.Macro(u||a,o,l))},f.addEnvironment=function(s,a,o,l){s.configuration.handlers.retrieve(f.NEW_ENVIRONMENT).add(a,new d.Macro(a,o,l))},f.NEW_DELIMITER="new-Delimiter",f.NEW_COMMAND="new-Command",f.NEW_ENVIRONMENT="new-Environment"})(C||(C={})),e.default=C},4898:function(R,e,v){var M=this&&this.__values||function(x){var y=typeof Symbol=="function"&&Symbol.iterator,d=y&&x[y],f=0;if(d)return d.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&f>=x.length&&(x=void 0),{value:x&&x[f++],done:!x}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.NoUndefinedConfiguration=void 0;var C=v(9899);e.NoUndefinedConfiguration=C.Configuration.create("noundefined",{fallback:{macro:function(x,y){var d,f,c=x.create("text","\\"+y),s=x.options.noundefined||{},a={};try{for(var o=M(["color","background","size"]),l=o.next();!l.done;l=o.next()){var u=l.value;s[u]&&(a["math"+u]=s[u])}}catch(p){d={error:p}}finally{try{l&&!l.done&&(f=o.return)&&f.call(o)}finally{if(d)throw d.error}}x.Push(x.create("node","mtext",[],a,c))}},options:{noundefined:{color:"red",background:"",size:""}},priority:3})},7741:function(R,e,v){var M=this&&this.__values||function(g){var E=typeof Symbol=="function"&&Symbol.iterator,S=E&&g[E],O=0;if(S)return S.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&O>=g.length&&(g=void 0),{value:g&&g[O++],done:!g}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},C=this&&this.__read||function(g,E){var S=typeof Symbol=="function"&&g[Symbol.iterator];if(!S)return g;var O,A,_=S.call(g),T=[];try{for(;(E===void 0||E-- >0)&&!(O=_.next()).done;)T.push(O.value)}catch(N){A={error:N}}finally{try{O&&!O.done&&(S=_.return)&&S.call(_)}finally{if(A)throw A.error}}return T},x=this&&this.__spreadArray||function(g,E,S){if(S||arguments.length===2)for(var O,A=0,_=E.length;A<_;A++)!O&&A in E||(O||(O=Array.prototype.slice.call(E,0,A)),O[A]=E[A]);return g.concat(O||Array.prototype.slice.call(E))},y=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.RequireConfiguration=e.options=e.RequireMethods=e.RequireLoad=void 0;var d=v(9899),f=v(9140),c=y(v(3971)),s=v(9515),a=v(265),o=v(235),l=v(5713),u=v(7233),p=s.MathJax.config;function h(g,E){var S,O=g.parseOptions.options.require,A=g.parseOptions.packageData.get("require").required,_=E.substr(O.prefix.length);if(A.indexOf(_)<0){A.push(_),function(L,I){var P,k;I===void 0&&(I=[]);var B=L.parseOptions.options.require.prefix;try{for(var F=M(I),H=F.next();!H.done;H=F.next()){var j=H.value;j.substr(0,B.length)===B&&h(L,j)}}catch(U){P={error:U}}finally{try{H&&!H.done&&(k=F.return)&&k.call(F)}finally{if(P)throw P.error}}}(g,o.CONFIG.dependencies[E]);var T=d.ConfigurationHandler.get(_);if(T){var N=p[E]||{};T.options&&Object.keys(T.options).length===1&&T.options[_]&&((S={})[_]=N,N=S),g.configuration.add(_,g,N);var w=g.parseOptions.packageData.get("require").configured;T.preprocessors.length&&!w.has(_)&&(w.set(_,!0),l.mathjax.retryAfter(Promise.resolve()))}}}function m(g,E){var S=g.options.require,O=S.allow,A=(E.substr(0,1)==="["?"":S.prefix)+E;if(!(O.hasOwnProperty(A)?O[A]:O.hasOwnProperty(E)?O[E]:S.defaultAllow))throw new c.default("BadRequire",'Extension "%1" is not allowed to be loaded',A);a.Package.packages.has(A)?h(g.configuration.packageData.get("require").jax,A):l.mathjax.retryAfter(o.Loader.load(A))}e.RequireLoad=m,e.RequireMethods={Require:function(g,E){var S=g.GetArgument(E);if(S.match(/[^_a-zA-Z0-9]/)||S==="")throw new c.default("BadPackageName","Argument for %1 is not a valid package name",E);m(g,S)}},e.options={require:{allow:(0,u.expandable)({base:!1,"all-packages":!1,autoload:!1,configmacros:!1,tagformat:!1,setoptions:!1}),defaultAllow:!0,prefix:"tex"}},new f.CommandMap("require",{require:"Require"},e.RequireMethods),e.RequireConfiguration=d.Configuration.create("require",{handler:{macro:["require"]},config:function(g,E){E.parseOptions.packageData.set("require",{jax:E,required:x([],C(E.options.packages),!1),configured:new Map});var S=E.parseOptions.options.require,O=S.prefix;if(O.match(/[^_a-zA-Z0-9]/))throw Error("Illegal characters used in \\require prefix");o.CONFIG.paths[O]||(o.CONFIG.paths[O]="[mathjax]/input/tex/extensions"),S.prefix="["+O+"]/"},options:e.options})},5713:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.mathjax=void 0;var M=v(3282),C=v(805),x=v(4542);e.mathjax={version:M.VERSION,handlers:new C.HandlerList,document:function(y,d){return e.mathjax.handlers.document(y,d)},handleRetriesFor:x.handleRetriesFor,retryAfter:x.retryAfter,asyncLoad:null}},50:function(R,e,v){var M,C=this&&this.__extends||(M=function(g,E){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(S[A]=O[A])},M(g,E)},function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function S(){this.constructor=g}M(g,E),g.prototype=E===null?Object.create(E):(S.prototype=E.prototype,new S)}),x=this&&this.__assign||function(){return x=Object.assign||function(g){for(var E,S=1,O=arguments.length;S<O;S++)for(var A in E=arguments[S])Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A]);return g},x.apply(this,arguments)},y=this&&this.__createBinding||(Object.create?function(g,E,S,O){O===void 0&&(O=S);var A=Object.getOwnPropertyDescriptor(E,S);A&&!("get"in A?!E.__esModule:A.writable||A.configurable)||(A={enumerable:!0,get:function(){return E[S]}}),Object.defineProperty(g,O,A)}:function(g,E,S,O){O===void 0&&(O=S),g[O]=E[S]}),d=this&&this.__setModuleDefault||(Object.create?function(g,E){Object.defineProperty(g,"default",{enumerable:!0,value:E})}:function(g,E){g.default=E}),f=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var E={};if(g!=null)for(var S in g)S!=="default"&&Object.prototype.hasOwnProperty.call(g,S)&&y(E,g,S);return d(E,g),E},c=this&&this.__values||function(g){var E=typeof Symbol=="function"&&Symbol.iterator,S=E&&g[E],O=0;if(S)return S.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&O>=g.length&&(g=void 0),{value:g&&g[O++],done:!g}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTML=void 0;var s=v(3055),a=v(4139),o=v(9261),l=v(6797),u=v(2760),p=f(v(6010)),h=v(505),m=function(g){function E(S){S===void 0&&(S=null);var O=g.call(this,S,o.CHTMLWrapperFactory,u.TeXFont)||this;return O.chtmlStyles=null,O.font.adaptiveCSS(O.options.adaptiveCSS),O.wrapperUsage=new l.Usage,O}return C(E,g),E.prototype.escaped=function(S,O){return this.setDocument(O),this.html("span",{},[this.text(S.math)])},E.prototype.styleSheet=function(S){if(this.chtmlStyles){if(this.options.adaptiveCSS){var O=new a.CssStyles;this.addWrapperStyles(O),this.updateFontStyles(O),this.adaptor.insertRules(this.chtmlStyles,O.getStyleRules())}return this.chtmlStyles}var A=this.chtmlStyles=g.prototype.styleSheet.call(this,S);return this.adaptor.setAttribute(A,"id",E.STYLESHEETID),this.wrapperUsage.update(),A},E.prototype.updateFontStyles=function(S){S.addStyles(this.font.updateStyles({}))},E.prototype.addWrapperStyles=function(S){var O,A;if(this.options.adaptiveCSS)try{for(var _=c(this.wrapperUsage.update()),T=_.next();!T.done;T=_.next()){var N=T.value,w=this.factory.getNodeClass(N);w&&this.addClassStyles(w,S)}}catch(L){O={error:L}}finally{try{T&&!T.done&&(A=_.return)&&A.call(_)}finally{if(O)throw O.error}}else g.prototype.addWrapperStyles.call(this,S)},E.prototype.addClassStyles=function(S,O){var A,_=S;_.autoStyle&&_.kind!=="unknown"&&O.addStyles(((A={})["mjx-"+_.kind]={display:"inline-block","text-align":"left"},A)),this.wrapperUsage.add(_.kind),g.prototype.addClassStyles.call(this,S,O)},E.prototype.processMath=function(S,O){this.factory.wrap(S).toCHTML(O)},E.prototype.clearCache=function(){this.cssStyles.clear(),this.font.clearCache(),this.wrapperUsage.clear(),this.chtmlStyles=null},E.prototype.reset=function(){this.clearCache()},E.prototype.unknownText=function(S,O,A){A===void 0&&(A=null);var _={},T=100/this.math.metrics.scale;if(T!==100&&(_["font-size"]=this.fixed(T,1)+"%",_.padding=p.em(75/T)+" 0 "+p.em(20/T)+" 0"),O!=="-explicitFont"){var N=(0,h.unicodeChars)(S);(N.length!==1||N[0]<119808||N[0]>120831)&&this.cssFontStyles(this.font.getCssFont(O),_)}if(A!==null){var w=this.math.metrics;_.width=Math.round(A*w.em*w.scale)+"px"}return this.html("mjx-utext",{variant:O,style:_},[this.text(S)])},E.prototype.measureTextNode=function(S){var O=this.adaptor,A=O.clone(S);O.setStyle(A,"font-family",O.getStyle(A,"font-family").replace(/MJXZERO, /g,""));var _=this.html("mjx-measure-text",{style:{position:"absolute","white-space":"nowrap"}},[A]);O.append(O.parent(this.math.start.node),this.container),O.append(this.container,_);var T=O.nodeSize(A,this.math.metrics.em)[0]/this.math.metrics.scale;return O.remove(this.container),O.remove(_),{w:T,h:.75,d:.2}},E.NAME="CHTML",E.OPTIONS=x(x({},s.CommonOutputJax.OPTIONS),{adaptiveCSS:!0,matchFontHeight:!0}),E.commonStyles={'mjx-container[jax="CHTML"]':{"line-height":0},'mjx-container [space="1"]':{"margin-left":".111em"},'mjx-container [space="2"]':{"margin-left":".167em"},'mjx-container [space="3"]':{"margin-left":".222em"},'mjx-container [space="4"]':{"margin-left":".278em"},'mjx-container [space="5"]':{"margin-left":".333em"},'mjx-container [rspace="1"]':{"margin-right":".111em"},'mjx-container [rspace="2"]':{"margin-right":".167em"},'mjx-container [rspace="3"]':{"margin-right":".222em"},'mjx-container [rspace="4"]':{"margin-right":".278em"},'mjx-container [rspace="5"]':{"margin-right":".333em"},'mjx-container [size="s"]':{"font-size":"70.7%"},'mjx-container [size="ss"]':{"font-size":"50%"},'mjx-container [size="Tn"]':{"font-size":"60%"},'mjx-container [size="sm"]':{"font-size":"85%"},'mjx-container [size="lg"]':{"font-size":"120%"},'mjx-container [size="Lg"]':{"font-size":"144%"},'mjx-container [size="LG"]':{"font-size":"173%"},'mjx-container [size="hg"]':{"font-size":"207%"},'mjx-container [size="HG"]':{"font-size":"249%"},'mjx-container [width="full"]':{width:"100%"},"mjx-box":{display:"inline-block"},"mjx-block":{display:"block"},"mjx-itable":{display:"inline-table"},"mjx-row":{display:"table-row"},"mjx-row > *":{display:"table-cell"},"mjx-mtext":{display:"inline-block"},"mjx-mstyle":{display:"inline-block"},"mjx-merror":{display:"inline-block",color:"red","background-color":"yellow"},"mjx-mphantom":{visibility:"hidden"},"_::-webkit-full-page-media, _:future, :root mjx-container":{"will-change":"opacity"}},E.STYLESHEETID="MJX-CHTML-styles",E}(s.CommonOutputJax);e.CHTML=m},8042:function(R,e,v){var M,C=this&&this.__extends||(M=function(u,p){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])},M(u,p)},function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function h(){this.constructor=u}M(u,p),u.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),x=this&&this.__assign||function(){return x=Object.assign||function(u){for(var p,h=1,m=arguments.length;h<m;h++)for(var g in p=arguments[h])Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g]);return u},x.apply(this,arguments)},y=this&&this.__createBinding||(Object.create?function(u,p,h,m){m===void 0&&(m=h);var g=Object.getOwnPropertyDescriptor(p,h);g&&!("get"in g?!p.__esModule:g.writable||g.configurable)||(g={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(u,m,g)}:function(u,p,h,m){m===void 0&&(m=h),u[m]=p[h]}),d=this&&this.__exportStar||function(u,p){for(var h in u)h==="default"||Object.prototype.hasOwnProperty.call(p,h)||y(p,u,h)},f=this&&this.__values||function(u){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&u[p],m=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&m>=u.length&&(u=void 0),{value:u&&u[m++],done:!u}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(u,p){var h=typeof Symbol=="function"&&u[Symbol.iterator];if(!h)return u;var m,g,E=h.call(u),S=[];try{for(;(p===void 0||p-- >0)&&!(m=E.next()).done;)S.push(m.value)}catch(O){g={error:O}}finally{try{m&&!m.done&&(h=E.return)&&h.call(E)}finally{if(g)throw g.error}}return S};Object.defineProperty(e,"__esModule",{value:!0}),e.AddCSS=e.CHTMLFontData=void 0;var s=v(5884),a=v(6797),o=v(6010);d(v(5884),e);var l=function(u){function p(){var h=u!==null&&u.apply(this,arguments)||this;return h.charUsage=new a.Usage,h.delimUsage=new a.Usage,h}return C(p,u),p.charOptions=function(h,m){return u.charOptions.call(this,h,m)},p.prototype.adaptiveCSS=function(h){this.options.adaptiveCSS=h},p.prototype.clearCache=function(){this.options.adaptiveCSS&&(this.charUsage.clear(),this.delimUsage.clear())},p.prototype.createVariant=function(h,m,g){m===void 0&&(m=null),g===void 0&&(g=null),u.prototype.createVariant.call(this,h,m,g);var E=this.constructor;this.variant[h].classes=E.defaultVariantClasses[h],this.variant[h].letter=E.defaultVariantLetters[h]},p.prototype.defineChars=function(h,m){var g,E;u.prototype.defineChars.call(this,h,m);var S=this.variant[h].letter;try{for(var O=f(Object.keys(m)),A=O.next();!A.done;A=O.next()){var _=A.value,T=p.charOptions(m,parseInt(_));T.f===void 0&&(T.f=S)}}catch(N){g={error:N}}finally{try{A&&!A.done&&(E=O.return)&&E.call(O)}finally{if(g)throw g.error}}},Object.defineProperty(p.prototype,"styles",{get:function(){var h=this.constructor,m=x({},h.defaultStyles);return this.addFontURLs(m,h.defaultFonts,this.options.fontURL),this.options.adaptiveCSS?this.updateStyles(m):this.allStyles(m),m},enumerable:!1,configurable:!0}),p.prototype.updateStyles=function(h){var m,g,E,S;try{for(var O=f(this.delimUsage.update()),A=O.next();!A.done;A=O.next()){var _=A.value;this.addDelimiterStyles(h,_,this.delimiters[_])}}catch(P){m={error:P}}finally{try{A&&!A.done&&(g=O.return)&&g.call(O)}finally{if(m)throw m.error}}try{for(var T=f(this.charUsage.update()),N=T.next();!N.done;N=T.next()){var w=c(N.value,2),L=w[0],I=(_=w[1],this.variant[L]);this.addCharStyles(h,I.letter,_,I.chars[_])}}catch(P){E={error:P}}finally{try{N&&!N.done&&(S=T.return)&&S.call(T)}finally{if(E)throw E.error}}return h},p.prototype.allStyles=function(h){var m,g,E,S,O,A;try{for(var _=f(Object.keys(this.delimiters)),T=_.next();!T.done;T=_.next()){var N=T.value,w=parseInt(N);this.addDelimiterStyles(h,w,this.delimiters[w])}}catch(U){m={error:U}}finally{try{T&&!T.done&&(g=_.return)&&g.call(_)}finally{if(m)throw m.error}}try{for(var L=f(Object.keys(this.variant)),I=L.next();!I.done;I=L.next()){var P=I.value,k=this.variant[P],B=k.letter;try{for(var F=(O=void 0,f(Object.keys(k.chars))),H=F.next();!H.done;H=F.next()){N=H.value,w=parseInt(N);var j=k.chars[w];(j[3]||{}).smp||(j.length<4&&(j[3]={}),this.addCharStyles(h,B,w,j))}}catch(U){O={error:U}}finally{try{H&&!H.done&&(A=F.return)&&A.call(F)}finally{if(O)throw O.error}}}}catch(U){E={error:U}}finally{try{I&&!I.done&&(S=L.return)&&S.call(L)}finally{if(E)throw E.error}}},p.prototype.addFontURLs=function(h,m,g){var E,S;try{for(var O=f(Object.keys(m)),A=O.next();!A.done;A=O.next()){var _=A.value,T=x({},m[_]);T.src=T.src.replace(/%%URL%%/,g),h[_]=T}}catch(N){E={error:N}}finally{try{A&&!A.done&&(S=O.return)&&S.call(O)}finally{if(E)throw E.error}}},p.prototype.addDelimiterStyles=function(h,m,g){var E=this.charSelector(m);g.c&&g.c!==m&&(h[".mjx-stretched mjx-c"+(E=this.charSelector(g.c))+"::before"]={content:this.charContent(g.c)}),g.stretch&&(g.dir===1?this.addDelimiterVStyles(h,E,g):this.addDelimiterHStyles(h,E,g))},p.prototype.addDelimiterVStyles=function(h,m,g){var E=g.HDW,S=c(g.stretch,4),O=S[0],A=S[1],_=S[2],T=S[3],N=this.addDelimiterVPart(h,m,"beg",O,E);this.addDelimiterVPart(h,m,"ext",A,E);var w=this.addDelimiterVPart(h,m,"end",_,E),L={};if(T){var I=this.addDelimiterVPart(h,m,"mid",T,E);L.height="50%",h["mjx-stretchy-v"+m+" > mjx-mid"]={"margin-top":this.em(-I/2),"margin-bottom":this.em(-I/2)}}N&&(L["border-top-width"]=this.em0(N-.03)),w&&(L["border-bottom-width"]=this.em0(w-.03),h["mjx-stretchy-v"+m+" > mjx-end"]={"margin-top":this.em(-w)}),Object.keys(L).length&&(h["mjx-stretchy-v"+m+" > mjx-ext"]=L)},p.prototype.addDelimiterVPart=function(h,m,g,E,S){if(!E)return 0;var O=this.getDelimiterData(E),A=(S[2]-O[2])/2,_={content:this.charContent(E)};return g!=="ext"?_.padding=this.padding(O,A):(_.width=this.em0(S[2]),A&&(_["padding-left"]=this.em0(A))),h["mjx-stretchy-v"+m+" mjx-"+g+" mjx-c::before"]=_,O[0]+O[1]},p.prototype.addDelimiterHStyles=function(h,m,g){var E=c(g.stretch,4),S=E[0],O=E[1],A=E[2],_=E[3],T=g.HDW;this.addDelimiterHPart(h,m,"beg",S,T),this.addDelimiterHPart(h,m,"ext",O,T),this.addDelimiterHPart(h,m,"end",A,T),_&&(this.addDelimiterHPart(h,m,"mid",_,T),h["mjx-stretchy-h"+m+" > mjx-ext"]={width:"50%"})},p.prototype.addDelimiterHPart=function(h,m,g,E,S){if(E){var O=this.getDelimiterData(E)[3],A={content:O&&O.c?'"'+O.c+'"':this.charContent(E)};A.padding=this.padding(S,0,-S[2]),h["mjx-stretchy-h"+m+" mjx-"+g+" mjx-c::before"]=A}},p.prototype.addCharStyles=function(h,m,g,E){var S=E[3],O=S.f!==void 0?S.f:m;h["mjx-c"+this.charSelector(g)+(O?".TEX-"+O:"")+"::before"]={padding:this.padding(E,0,S.ic||0),content:S.c!=null?'"'+S.c+'"':this.charContent(g)}},p.prototype.getDelimiterData=function(h){return this.getChar("-smallop",h)},p.prototype.em=function(h){return(0,o.em)(h)},p.prototype.em0=function(h){return(0,o.em)(Math.max(0,h))},p.prototype.padding=function(h,m,g){var E=c(h,3),S=E[0],O=E[1];return m===void 0&&(m=0),g===void 0&&(g=0),[S,E[2]+g,O,m].map(this.em0).join(" ")},p.prototype.charContent=function(h){return'"'+(h>=32&&h<=126&&h!==34&&h!==39&&h!==92?String.fromCharCode(h):"\\"+h.toString(16).toUpperCase())+'"'},p.prototype.charSelector=function(h){return".mjx-c"+h.toString(16).toUpperCase()},p.OPTIONS=x(x({},s.FontData.OPTIONS),{fontURL:"js/output/chtml/fonts/tex-woff-v2"}),p.JAX="CHTML",p.defaultVariantClasses={},p.defaultVariantLetters={},p.defaultStyles={"mjx-c::before":{display:"block",width:0}},p.defaultFonts={"@font-face /* 0 */":{"font-family":"MJXZERO",src:'url("%%URL%%/MathJax_Zero.woff") format("woff")'}},p}(s.FontData);e.CHTMLFontData=l,e.AddCSS=function(u,p){var h,m;try{for(var g=f(Object.keys(p)),E=g.next();!E.done;E=g.next()){var S=E.value,O=parseInt(S);Object.assign(s.FontData.charOptions(u,O),p[O])}}catch(A){h={error:A}}finally{try{E&&!E.done&&(m=g.return)&&m.call(g)}finally{if(h)throw h.error}}return u}},8270:function(R,e,v){var M=this&&this.__createBinding||(Object.create?function(c,s,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(s,a);l&&!("get"in l?!s.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(c,o,l)}:function(c,s,a,o){o===void 0&&(o=a),c[o]=s[a]}),C=this&&this.__setModuleDefault||(Object.create?function(c,s){Object.defineProperty(c,"default",{enumerable:!0,value:s})}:function(c,s){c.default=s}),x=this&&this.__importStar||function(c){if(c&&c.__esModule)return c;var s={};if(c!=null)for(var a in c)a!=="default"&&Object.prototype.hasOwnProperty.call(c,a)&&M(s,c,a);return C(s,c),s},y=this&&this.__exportStar||function(c,s){for(var a in c)a==="default"||Object.prototype.hasOwnProperty.call(s,a)||M(s,c,a)},d=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p};Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=e.DiagonalArrow=e.DiagonalStrike=e.Border2=e.Border=e.RenderElement=void 0;var f=x(v(5552));y(v(5552),e),e.RenderElement=function(c,s){return s===void 0&&(s=""),function(a,o){var l=a.adjustBorder(a.html("mjx-"+c));if(s){var u=a.getOffset(s);if(a.thickness!==f.THICKNESS||u){var p="translate".concat(s,"(").concat(a.em(a.thickness/2-u),")");a.adaptor.setStyle(l,"transform",p)}}a.adaptor.append(a.chtml,l)}},e.Border=function(c){return f.CommonBorder(function(s,a){s.adaptor.setStyle(a,"border-"+c,s.em(s.thickness)+" solid")})(c)},e.Border2=function(c,s,a){return f.CommonBorder2(function(o,l){var u=o.em(o.thickness)+" solid";o.adaptor.setStyle(l,"border-"+s,u),o.adaptor.setStyle(l,"border-"+a,u)})(c,s,a)},e.DiagonalStrike=function(c,s){return f.CommonDiagonalStrike(function(a){return function(o,l){var u=o.getBBox(),p=u.w,h=u.h,m=u.d,g=d(o.getArgMod(p,h+m),2),E=g[0],S=g[1],O=s*o.thickness/2,A=o.adjustBorder(o.html(a,{style:{width:o.em(S),transform:"rotate("+o.fixed(-s*E)+"rad) translateY("+O+"em)"}}));o.adaptor.append(o.chtml,A)}})(c)},e.DiagonalArrow=function(c){return f.CommonDiagonalArrow(function(s,a){s.adaptor.append(s.chtml,a)})(c)},e.Arrow=function(c){return f.CommonArrow(function(s,a){s.adaptor.append(s.chtml,a)})(c)}},6797:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Usage=void 0;var v=function(){function M(){this.used=new Set,this.needsUpdate=[]}return M.prototype.add=function(C){var x=JSON.stringify(C);this.used.has(x)||this.needsUpdate.push(C),this.used.add(x)},M.prototype.has=function(C){return this.used.has(JSON.stringify(C))},M.prototype.clear=function(){this.used.clear(),this.needsUpdate=[]},M.prototype.update=function(){var C=this.needsUpdate;return this.needsUpdate=[],C},M}();e.Usage=v},5355:function(R,e,v){var M,C,x=this&&this.__extends||(M=function(p,h){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])},M(p,h)},function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function m(){this.constructor=p}M(p,h),p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}),y=this&&this.__createBinding||(Object.create?function(p,h,m,g){g===void 0&&(g=m);var E=Object.getOwnPropertyDescriptor(h,m);E&&!("get"in E?!h.__esModule:E.writable||E.configurable)||(E={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(p,g,E)}:function(p,h,m,g){g===void 0&&(g=m),p[g]=h[m]}),d=this&&this.__setModuleDefault||(Object.create?function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}:function(p,h){p.default=h}),f=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var m in p)m!=="default"&&Object.prototype.hasOwnProperty.call(p,m)&&y(h,p,m);return d(h,p),h},c=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(p,h){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var g,E,S=m.call(p),O=[];try{for(;(h===void 0||h-- >0)&&!(g=S.next()).done;)O.push(g.value)}catch(A){E={error:A}}finally{try{g&&!g.done&&(m=S.return)&&m.call(S)}finally{if(E)throw E.error}}return O};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLWrapper=e.SPACE=e.FONTSIZE=void 0;var a=f(v(6010)),o=v(7519),l=v(6469);e.FONTSIZE={"70.7%":"s","70%":"s","50%":"ss","60%":"Tn","85%":"sm","120%":"lg","144%":"Lg","173%":"LG","207%":"hg","249%":"HG"},e.SPACE=((C={})[a.em(.1111111111111111)]="1",C[a.em(.16666666666666666)]="2",C[a.em(.2222222222222222)]="3",C[a.em(.2777777777777778)]="4",C[a.em(.3333333333333333)]="5",C);var u=function(p){function h(){var m=p!==null&&p.apply(this,arguments)||this;return m.chtml=null,m}return x(h,p),h.prototype.toCHTML=function(m){var g,E,S=this.standardCHTMLnode(m);try{for(var O=c(this.childNodes),A=O.next();!A.done;A=O.next())A.value.toCHTML(S)}catch(_){g={error:_}}finally{try{A&&!A.done&&(E=O.return)&&E.call(O)}finally{if(g)throw g.error}}},h.prototype.standardCHTMLnode=function(m){this.markUsed();var g=this.createCHTMLnode(m);return this.handleStyles(),this.handleVariant(),this.handleScale(),this.handleColor(),this.handleSpace(),this.handleAttributes(),this.handlePWidth(),g},h.prototype.markUsed=function(){this.jax.wrapperUsage.add(this.kind)},h.prototype.createCHTMLnode=function(m){var g=this.node.attributes.get("href");return g&&(m=this.adaptor.append(m,this.html("a",{href:g}))),this.chtml=this.adaptor.append(m,this.html("mjx-"+this.node.kind)),this.chtml},h.prototype.handleStyles=function(){if(this.styles){var m=this.styles.cssText;if(m){this.adaptor.setAttribute(this.chtml,"style",m);var g=this.styles.get("font-family");g&&this.adaptor.setStyle(this.chtml,"font-family","MJXZERO, "+g)}}},h.prototype.handleVariant=function(){this.node.isToken&&this.variant!=="-explicitFont"&&this.adaptor.setAttribute(this.chtml,"class",(this.font.getVariant(this.variant)||this.font.getVariant("normal")).classes)},h.prototype.handleScale=function(){this.setScale(this.chtml,this.bbox.rscale)},h.prototype.setScale=function(m,g){var E=Math.abs(g-1)<.001?1:g;if(m&&E!==1){var S=this.percent(E);e.FONTSIZE[S]?this.adaptor.setAttribute(m,"size",e.FONTSIZE[S]):this.adaptor.setStyle(m,"fontSize",S)}return m},h.prototype.handleSpace=function(){var m,g;try{for(var E=c([[this.bbox.L,"space","marginLeft"],[this.bbox.R,"rspace","marginRight"]]),S=E.next();!S.done;S=E.next()){var O=S.value,A=s(O,3),_=A[0],T=A[1],N=A[2];if(_){var w=this.em(_);e.SPACE[w]?this.adaptor.setAttribute(this.chtml,T,e.SPACE[w]):this.adaptor.setStyle(this.chtml,N,w)}}}catch(L){m={error:L}}finally{try{S&&!S.done&&(g=E.return)&&g.call(E)}finally{if(m)throw m.error}}},h.prototype.handleColor=function(){var m=this.node.attributes,g=m.getExplicit("mathcolor"),E=m.getExplicit("color"),S=m.getExplicit("mathbackground"),O=m.getExplicit("background");(g||E)&&this.adaptor.setStyle(this.chtml,"color",g||E),(S||O)&&this.adaptor.setStyle(this.chtml,"backgroundColor",S||O)},h.prototype.handleAttributes=function(){var m,g,E,S,O=this.node.attributes,A=O.getAllDefaults(),_=h.skipAttributes;try{for(var T=c(O.getExplicitNames()),N=T.next();!N.done;N=T.next()){var w=N.value;_[w]!==!1&&(w in A||_[w]||this.adaptor.hasAttribute(this.chtml,w))||this.adaptor.setAttribute(this.chtml,w,O.getExplicit(w))}}catch(B){m={error:B}}finally{try{N&&!N.done&&(g=T.return)&&g.call(T)}finally{if(m)throw m.error}}if(O.get("class")){var L=O.get("class").trim().split(/ +/);try{for(var I=c(L),P=I.next();!P.done;P=I.next()){var k=P.value;this.adaptor.addClass(this.chtml,k)}}catch(B){E={error:B}}finally{try{P&&!P.done&&(S=I.return)&&S.call(I)}finally{if(E)throw E.error}}}},h.prototype.handlePWidth=function(){this.bbox.pwidth&&(this.bbox.pwidth===l.BBox.fullWidth?this.adaptor.setAttribute(this.chtml,"width","full"):this.adaptor.setStyle(this.chtml,"width",this.bbox.pwidth))},h.prototype.setIndent=function(m,g,E){var S=this.adaptor;if(g==="center"||g==="left"){var O=this.getBBox().L;S.setStyle(m,"margin-left",this.em(E+O))}if(g==="center"||g==="right"){var A=this.getBBox().R;S.setStyle(m,"margin-right",this.em(-E+A))}},h.prototype.drawBBox=function(){var m=this.getBBox(),g=m.w,E=m.h,S=m.d,O=m.R,A=this.html("mjx-box",{style:{opacity:.25,"margin-left":this.em(-g-O)}},[this.html("mjx-box",{style:{height:this.em(E),width:this.em(g),"background-color":"red"}}),this.html("mjx-box",{style:{height:this.em(S),width:this.em(g),"margin-left":this.em(-g),"vertical-align":this.em(-S),"background-color":"green"}})]),_=this.chtml||this.parent.chtml,T=this.adaptor.getAttribute(_,"size");T&&this.adaptor.setAttribute(A,"size",T);var N=this.adaptor.getStyle(_,"fontSize");N&&this.adaptor.setStyle(A,"fontSize",N),this.adaptor.append(this.adaptor.parent(_),A),this.adaptor.setStyle(_,"backgroundColor","#FFEE00")},h.prototype.html=function(m,g,E){return g===void 0&&(g={}),E===void 0&&(E=[]),this.jax.html(m,g,E)},h.prototype.text=function(m){return this.jax.text(m)},h.prototype.char=function(m){return this.font.charSelector(m).substr(1)},h.kind="unknown",h.autoStyle=!0,h}(o.CommonWrapper);e.CHTMLWrapper=u},9261:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLWrapperFactory=void 0;var x=v(4420),y=v(9086),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),c.defaultNodes=y.CHTMLWrappers,c}(x.CommonWrapperFactory);e.CHTMLWrapperFactory=d},9086:function(R,e,v){var M;Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLWrappers=void 0;var C=v(5355),x=v(804),y=v(1653),d=v(6287),f=v(6460),c=v(4597),s=v(1259),a=v(2970),o=v(5964),l=v(8147),u=v(4798),p=v(2275),h=v(9063),m=v(5610),g=v(8776),E=v(4300),S=v(6590),O=v(6781),A=v(8002),_=v(3571),T=v(7056),N=v(8102),w=v(6911),L=v(421),I=v(95),P=v(1148);e.CHTMLWrappers=((M={})[x.CHTMLmath.kind]=x.CHTMLmath,M[u.CHTMLmrow.kind]=u.CHTMLmrow,M[u.CHTMLinferredMrow.kind]=u.CHTMLinferredMrow,M[y.CHTMLmi.kind]=y.CHTMLmi,M[d.CHTMLmo.kind]=d.CHTMLmo,M[f.CHTMLmn.kind]=f.CHTMLmn,M[c.CHTMLms.kind]=c.CHTMLms,M[s.CHTMLmtext.kind]=s.CHTMLmtext,M[a.CHTMLmspace.kind]=a.CHTMLmspace,M[o.CHTMLmpadded.kind]=o.CHTMLmpadded,M[l.CHTMLmenclose.kind]=l.CHTMLmenclose,M[h.CHTMLmfrac.kind]=h.CHTMLmfrac,M[m.CHTMLmsqrt.kind]=m.CHTMLmsqrt,M[g.CHTMLmroot.kind]=g.CHTMLmroot,M[E.CHTMLmsub.kind]=E.CHTMLmsub,M[E.CHTMLmsup.kind]=E.CHTMLmsup,M[E.CHTMLmsubsup.kind]=E.CHTMLmsubsup,M[S.CHTMLmunder.kind]=S.CHTMLmunder,M[S.CHTMLmover.kind]=S.CHTMLmover,M[S.CHTMLmunderover.kind]=S.CHTMLmunderover,M[O.CHTMLmmultiscripts.kind]=O.CHTMLmmultiscripts,M[p.CHTMLmfenced.kind]=p.CHTMLmfenced,M[A.CHTMLmtable.kind]=A.CHTMLmtable,M[_.CHTMLmtr.kind]=_.CHTMLmtr,M[_.CHTMLmlabeledtr.kind]=_.CHTMLmlabeledtr,M[T.CHTMLmtd.kind]=T.CHTMLmtd,M[N.CHTMLmaction.kind]=N.CHTMLmaction,M[w.CHTMLmglyph.kind]=w.CHTMLmglyph,M[L.CHTMLsemantics.kind]=L.CHTMLsemantics,M[L.CHTMLannotation.kind]=L.CHTMLannotation,M[L.CHTMLannotationXML.kind]=L.CHTMLannotationXML,M[L.CHTMLxml.kind]=L.CHTMLxml,M[I.CHTMLTeXAtom.kind]=I.CHTMLTeXAtom,M[P.CHTMLTextNode.kind]=P.CHTMLTextNode,M[C.CHTMLWrapper.kind]=C.CHTMLWrapper,M)},95:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLTeXAtom=void 0;var x=v(5355),y=v(9800),d=v(3948),f=v(9007),c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),a.prototype.toCHTML=function(o){if(s.prototype.toCHTML.call(this,o),this.adaptor.setAttribute(this.chtml,"texclass",f.TEXCLASSNAMES[this.node.texClass]),this.node.texClass===f.TEXCLASS.VCENTER){var l=this.childNodes[0].getBBox(),u=l.h,p=(u+l.d)/2+this.font.params.axis_height-u;this.adaptor.setStyle(this.chtml,"verticalAlign",this.em(p))}},a.kind=d.TeXAtom.prototype.kind,a}((0,y.CommonTeXAtomMixin)(x.CHTMLWrapper));e.CHTMLTeXAtom=c},1148:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLTextNode=void 0;var y=v(9007),d=v(5355),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.prototype.toCHTML=function(a){var o,l;this.markUsed();var u=this.adaptor,p=this.parent.variant,h=this.node.getText();if(h.length!==0)if(p==="-explicitFont")u.append(a,this.jax.unknownText(h,p,this.getBBox().w));else{var m=this.remappedText(h,p);try{for(var g=x(m),E=g.next();!E.done;E=g.next()){var S=E.value,O=this.getVariantChar(p,S)[3],A=O.f?" TEX-"+O.f:"",_=O.unknown?this.jax.unknownText(String.fromCodePoint(S),p):this.html("mjx-c",{class:this.char(S)+A});u.append(a,_),!O.unknown&&this.font.charUsage.add([p,S])}}catch(T){o={error:T}}finally{try{E&&!E.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}}},s.kind=y.TextNode.prototype.kind,s.autoStyle=!1,s.styles={"mjx-c":{display:"inline-block"},"mjx-utext":{display:"inline-block",padding:".75em 0 .2em 0"}},s}((0,v(1160).CommonTextNodeMixin)(d.CHTMLWrapper));e.CHTMLTextNode=f},8102:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmaction=void 0;var x=v(5355),y=v(1956),d=v(1956),f=v(9145),c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),a.prototype.toCHTML=function(o){var l=this.standardCHTMLnode(o);this.selected.toCHTML(l),this.action(this,this.data)},a.prototype.setEventHandler=function(o,l){this.chtml.addEventListener(o,l)},a.kind=f.MmlMaction.prototype.kind,a.styles={"mjx-maction":{position:"relative"},"mjx-maction > mjx-tool":{display:"none",position:"absolute",bottom:0,right:0,width:0,height:0,"z-index":500},"mjx-tool > mjx-tip":{display:"inline-block",padding:".2em",border:"1px solid #888","font-size":"70%","background-color":"#F8F8F8",color:"black","box-shadow":"2px 2px 5px #AAAAAA"},"mjx-maction[toggle]":{cursor:"pointer"},"mjx-status":{display:"block",position:"fixed",left:"1em",bottom:"1em","min-width":"25%",padding:".2em .4em",border:"1px solid #888","font-size":"90%","background-color":"#F8F8F8",color:"black"}},a.actions=new Map([["toggle",[function(o,l){o.adaptor.setAttribute(o.chtml,"toggle",o.node.attributes.get("selection"));var u=o.factory.jax.math,p=o.factory.jax.document,h=o.node;o.setEventHandler("click",function(m){u.end.node||(u.start.node=u.end.node=u.typesetRoot,u.start.n=u.end.n=0),h.nextToggleSelection(),u.rerender(p),m.stopPropagation()})},{}]],["tooltip",[function(o,l){var u=o.childNodes[1];if(u)if(u.node.isKind("mtext")){var p=u.node.getText();o.adaptor.setAttribute(o.chtml,"title",p)}else{var h=o.adaptor,m=h.append(o.chtml,o.html("mjx-tool",{style:{bottom:o.em(-o.dy),right:o.em(-o.dx)}},[o.html("mjx-tip")]));u.toCHTML(h.firstChild(m)),o.setEventHandler("mouseover",function(g){l.stopTimers(o,l);var E=setTimeout(function(){return h.setStyle(m,"display","block")},l.postDelay);l.hoverTimer.set(o,E),g.stopPropagation()}),o.setEventHandler("mouseout",function(g){l.stopTimers(o,l);var E=setTimeout(function(){return h.setStyle(m,"display","")},l.clearDelay);l.clearTimer.set(o,E),g.stopPropagation()})}},d.TooltipData]],["statusline",[function(o,l){var u=o.childNodes[1];if(u&&u.node.isKind("mtext")){var p=o.adaptor,h=u.node.getText();p.setAttribute(o.chtml,"statusline",h),o.setEventHandler("mouseover",function(m){if(l.status===null){var g=p.body(p.document);l.status=p.append(g,o.html("mjx-status",{},[o.text(h)]))}m.stopPropagation()}),o.setEventHandler("mouseout",function(m){l.status&&(p.remove(l.status),l.status=null),m.stopPropagation()})}},{status:null}]]]),a}((0,y.CommonMactionMixin)(x.CHTMLWrapper));e.CHTMLmaction=c},804:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])},M(a,o)},function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),x=this&&this.__read||function(a,o){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var u,p,h=l.call(a),m=[];try{for(;(o===void 0||o-- >0)&&!(u=h.next()).done;)m.push(u.value)}catch(g){p={error:g}}finally{try{u&&!u.done&&(l=h.return)&&l.call(h)}finally{if(p)throw p.error}}return m};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmath=void 0;var y=v(5355),d=v(7490),f=v(3233),c=v(6469),s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),o.prototype.toCHTML=function(l){a.prototype.toCHTML.call(this,l);var u=this.chtml,p=this.adaptor;this.node.attributes.get("display")==="block"?(p.setAttribute(u,"display","true"),p.setAttribute(l,"display","true"),this.handleDisplay(l)):this.handleInline(l),p.addClass(u,"MJX-TEX")},o.prototype.handleDisplay=function(l){var u=this.adaptor,p=x(this.getAlignShift(),2),h=p[0],m=p[1];if(h!=="center"&&u.setAttribute(l,"justify",h),this.bbox.pwidth===c.BBox.fullWidth){if(u.setAttribute(l,"width","full"),this.jax.table){var g=this.jax.table.getOuterBBox(),E=g.L,S=g.w,O=g.R;h==="right"?O=Math.max(O||-m,-m):h==="left"?E=Math.max(E||m,m):h==="center"&&(S+=2*Math.abs(m));var A=this.em(Math.max(0,E+S+O));u.setStyle(l,"min-width",A),u.setStyle(this.jax.table.chtml,"min-width",A)}}else this.setIndent(this.chtml,h,m)},o.prototype.handleInline=function(l){var u=this.adaptor,p=u.getStyle(this.chtml,"margin-right");p&&(u.setStyle(this.chtml,"margin-right",""),u.setStyle(l,"margin-right",p),u.setStyle(l,"width","0"))},o.prototype.setChildPWidths=function(l,u,p){return u===void 0&&(u=null),p===void 0&&(p=!0),!!this.parent&&a.prototype.setChildPWidths.call(this,l,u,p)},o.kind=f.MmlMath.prototype.kind,o.styles={"mjx-math":{"line-height":0,"text-align":"left","text-indent":0,"font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","letter-spacing":"normal","border-collapse":"collapse","word-wrap":"normal","word-spacing":"normal","white-space":"nowrap",direction:"ltr",padding:"1px 0"},'mjx-container[jax="CHTML"][display="true"]':{display:"block","text-align":"center",margin:"1em 0"},'mjx-container[jax="CHTML"][display="true"][width="full"]':{display:"flex"},'mjx-container[jax="CHTML"][display="true"] mjx-math':{padding:0},'mjx-container[jax="CHTML"][justify="left"]':{"text-align":"left"},'mjx-container[jax="CHTML"][justify="right"]':{"text-align":"right"}},o}((0,d.CommonMathMixin)(y.CHTMLWrapper));e.CHTMLmath=s},8147:function(R,e,v){var M,C=this&&this.__extends||(M=function(g,E){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(S[A]=O[A])},M(g,E)},function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function S(){this.constructor=g}M(g,E),g.prototype=E===null?Object.create(E):(S.prototype=E.prototype,new S)}),x=this&&this.__createBinding||(Object.create?function(g,E,S,O){O===void 0&&(O=S);var A=Object.getOwnPropertyDescriptor(E,S);A&&!("get"in A?!E.__esModule:A.writable||A.configurable)||(A={enumerable:!0,get:function(){return E[S]}}),Object.defineProperty(g,O,A)}:function(g,E,S,O){O===void 0&&(O=S),g[O]=E[S]}),y=this&&this.__setModuleDefault||(Object.create?function(g,E){Object.defineProperty(g,"default",{enumerable:!0,value:E})}:function(g,E){g.default=E}),d=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var E={};if(g!=null)for(var S in g)S!=="default"&&Object.prototype.hasOwnProperty.call(g,S)&&x(E,g,S);return y(E,g),E},f=this&&this.__values||function(g){var E=typeof Symbol=="function"&&Symbol.iterator,S=E&&g[E],O=0;if(S)return S.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&O>=g.length&&(g=void 0),{value:g&&g[O++],done:!g}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(g,E){var S=typeof Symbol=="function"&&g[Symbol.iterator];if(!S)return g;var O,A,_=S.call(g),T=[];try{for(;(E===void 0||E-- >0)&&!(O=_.next()).done;)T.push(O.value)}catch(N){A={error:N}}finally{try{O&&!O.done&&(S=_.return)&&S.call(_)}finally{if(A)throw A.error}}return T};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmenclose=void 0;var s=v(5355),a=v(7313),o=d(v(8270)),l=v(6661),u=v(6010);function p(g,E){return Math.atan2(g,E).toFixed(3).replace(/\.?0+$/,"")}var h=p(o.ARROWDX,o.ARROWY),m=function(g){function E(){return g!==null&&g.apply(this,arguments)||this}return C(E,g),E.prototype.toCHTML=function(S){var O,A,_,T,N=this.adaptor,w=this.standardCHTMLnode(S),L=N.append(w,this.html("mjx-box"));this.renderChild?this.renderChild(this,L):this.childNodes[0].toCHTML(L);try{for(var I=f(Object.keys(this.notations)),P=I.next();!P.done;P=I.next()){var k=P.value,B=this.notations[k];!B.renderChild&&B.renderer(this,L)}}catch(K){O={error:K}}finally{try{P&&!P.done&&(A=I.return)&&A.call(I)}finally{if(O)throw O.error}}var F=this.getPadding();try{for(var H=f(o.sideNames),j=H.next();!j.done;j=H.next()){var U=j.value,z=o.sideIndex[U];F[z]>0&&N.setStyle(L,"padding-"+U,this.em(F[z]))}}catch(K){_={error:K}}finally{try{j&&!j.done&&(T=H.return)&&T.call(H)}finally{if(_)throw _.error}}},E.prototype.arrow=function(S,O,A,_,T){_===void 0&&(_=""),T===void 0&&(T=0);var N=this.getBBox().w,w={width:this.em(S)};N!==S&&(w.left=this.em((N-S)/2)),O&&(w.transform="rotate("+this.fixed(O)+"rad)");var L=this.html("mjx-arrow",{style:w},[this.html("mjx-aline"),this.html("mjx-rthead"),this.html("mjx-rbhead")]);return A&&(this.adaptor.append(L,this.html("mjx-lthead")),this.adaptor.append(L,this.html("mjx-lbhead")),this.adaptor.setAttribute(L,"double","true")),this.adjustArrow(L,A),this.moveArrow(L,_,T),L},E.prototype.adjustArrow=function(S,O){var A=this,_=this.thickness,T=this.arrowhead;if(T.x!==o.ARROWX||T.y!==o.ARROWY||T.dx!==o.ARROWDX||_!==o.THICKNESS){var N=c([_*T.x,_*T.y].map(function(U){return A.em(U)}),2),w=N[0],L=N[1],I=p(T.dx,T.y),P=c(this.adaptor.childNodes(S),5),k=P[0],B=P[1],F=P[2],H=P[3],j=P[4];this.adjustHead(B,[L,"0","1px",w],I),this.adjustHead(F,["1px","0",L,w],"-"+I),this.adjustHead(H,[L,w,"1px","0"],"-"+I),this.adjustHead(j,["1px",w,L,"0"],I),this.adjustLine(k,_,T.x,O)}},E.prototype.adjustHead=function(S,O,A){S&&(this.adaptor.setStyle(S,"border-width",O.join(" ")),this.adaptor.setStyle(S,"transform","skewX("+A+"rad)"))},E.prototype.adjustLine=function(S,O,A,_){this.adaptor.setStyle(S,"borderTop",this.em(O)+" solid"),this.adaptor.setStyle(S,"top",this.em(-O/2)),this.adaptor.setStyle(S,"right",this.em(O*(A-1))),_&&this.adaptor.setStyle(S,"left",this.em(O*(A-1)))},E.prototype.moveArrow=function(S,O,A){if(A){var _=this.adaptor.getStyle(S,"transform");this.adaptor.setStyle(S,"transform","translate".concat(O,"(").concat(this.em(-A),")").concat(_?" "+_:""))}},E.prototype.adjustBorder=function(S){return this.thickness!==o.THICKNESS&&this.adaptor.setStyle(S,"borderWidth",this.em(this.thickness)),S},E.prototype.adjustThickness=function(S){return this.thickness!==o.THICKNESS&&this.adaptor.setStyle(S,"strokeWidth",this.fixed(this.thickness)),S},E.prototype.fixed=function(S,O){return O===void 0&&(O=3),Math.abs(S)<6e-4?"0":S.toFixed(O).replace(/\.?0+$/,"")},E.prototype.em=function(S){return g.prototype.em.call(this,S)},E.kind=l.MmlMenclose.prototype.kind,E.styles={"mjx-menclose":{position:"relative"},"mjx-menclose > mjx-dstrike":{display:"inline-block",left:0,top:0,position:"absolute","border-top":o.SOLID,"transform-origin":"top left"},"mjx-menclose > mjx-ustrike":{display:"inline-block",left:0,bottom:0,position:"absolute","border-top":o.SOLID,"transform-origin":"bottom left"},"mjx-menclose > mjx-hstrike":{"border-top":o.SOLID,position:"absolute",left:0,right:0,bottom:"50%",transform:"translateY("+(0,u.em)(o.THICKNESS/2)+")"},"mjx-menclose > mjx-vstrike":{"border-left":o.SOLID,position:"absolute",top:0,bottom:0,right:"50%",transform:"translateX("+(0,u.em)(o.THICKNESS/2)+")"},"mjx-menclose > mjx-rbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:o.SOLID,"border-radius":(0,u.em)(o.THICKNESS+o.PADDING)},"mjx-menclose > mjx-cbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:o.SOLID,"border-radius":"50%"},"mjx-menclose > mjx-arrow":{position:"absolute",left:0,bottom:"50%",height:0,width:0},"mjx-menclose > mjx-arrow > *":{display:"block",position:"absolute","transform-origin":"bottom","border-left":(0,u.em)(o.THICKNESS*o.ARROWX)+" solid","border-right":0,"box-sizing":"border-box"},"mjx-menclose > mjx-arrow > mjx-aline":{left:0,top:(0,u.em)(-o.THICKNESS/2),right:(0,u.em)(o.THICKNESS*(o.ARROWX-1)),height:0,"border-top":(0,u.em)(o.THICKNESS)+" solid","border-left":0},"mjx-menclose > mjx-arrow[double] > mjx-aline":{left:(0,u.em)(o.THICKNESS*(o.ARROWX-1)),height:0},"mjx-menclose > mjx-arrow > mjx-rthead":{transform:"skewX("+h+"rad)",right:0,bottom:"-1px","border-bottom":"1px solid transparent","border-top":(0,u.em)(o.THICKNESS*o.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-rbhead":{transform:"skewX(-"+h+"rad)","transform-origin":"top",right:0,top:"-1px","border-top":"1px solid transparent","border-bottom":(0,u.em)(o.THICKNESS*o.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lthead":{transform:"skewX(-"+h+"rad)",left:0,bottom:"-1px","border-left":0,"border-right":(0,u.em)(o.THICKNESS*o.ARROWX)+" solid","border-bottom":"1px solid transparent","border-top":(0,u.em)(o.THICKNESS*o.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lbhead":{transform:"skewX("+h+"rad)","transform-origin":"top",left:0,top:"-1px","border-left":0,"border-right":(0,u.em)(o.THICKNESS*o.ARROWX)+" solid","border-top":"1px solid transparent","border-bottom":(0,u.em)(o.THICKNESS*o.ARROWY)+" solid transparent"},"mjx-menclose > dbox":{position:"absolute",top:0,bottom:0,left:(0,u.em)(-1.5*o.PADDING),width:(0,u.em)(3*o.PADDING),border:(0,u.em)(o.THICKNESS)+" solid","border-radius":"50%","clip-path":"inset(0 0 0 "+(0,u.em)(1.5*o.PADDING)+")","box-sizing":"border-box"}},E.notations=new Map([o.Border("top"),o.Border("right"),o.Border("bottom"),o.Border("left"),o.Border2("actuarial","top","right"),o.Border2("madruwb","bottom","right"),o.DiagonalStrike("up",1),o.DiagonalStrike("down",-1),["horizontalstrike",{renderer:o.RenderElement("hstrike","Y"),bbox:function(S){return[0,S.padding,0,S.padding]}}],["verticalstrike",{renderer:o.RenderElement("vstrike","X"),bbox:function(S){return[S.padding,0,S.padding,0]}}],["box",{renderer:function(S,O){S.adaptor.setStyle(O,"border",S.em(S.thickness)+" solid")},bbox:o.fullBBox,border:o.fullBorder,remove:"left right top bottom"}],["roundedbox",{renderer:o.RenderElement("rbox"),bbox:o.fullBBox}],["circle",{renderer:o.RenderElement("cbox"),bbox:o.fullBBox}],["phasorangle",{renderer:function(S,O){var A=S.getBBox(),_=A.h,T=A.d,N=c(S.getArgMod(1.75*S.padding,_+T),2),w=N[0],L=N[1],I=S.thickness*Math.sin(w)*.9;S.adaptor.setStyle(O,"border-bottom",S.em(S.thickness)+" solid");var P=S.adjustBorder(S.html("mjx-ustrike",{style:{width:S.em(L),transform:"translateX("+S.em(I)+") rotate("+S.fixed(-w)+"rad)"}}));S.adaptor.append(S.chtml,P)},bbox:function(S){var O=S.padding/2,A=S.thickness;return[2*O,O,O+A,3*O+A]},border:function(S){return[0,0,S.thickness,0]},remove:"bottom"}],o.Arrow("up"),o.Arrow("down"),o.Arrow("left"),o.Arrow("right"),o.Arrow("updown"),o.Arrow("leftright"),o.DiagonalArrow("updiagonal"),o.DiagonalArrow("northeast"),o.DiagonalArrow("southeast"),o.DiagonalArrow("northwest"),o.DiagonalArrow("southwest"),o.DiagonalArrow("northeastsouthwest"),o.DiagonalArrow("northwestsoutheast"),["longdiv",{renderer:function(S,O){var A=S.adaptor;A.setStyle(O,"border-top",S.em(S.thickness)+" solid");var _=A.append(S.chtml,S.html("dbox")),T=S.thickness,N=S.padding;T!==o.THICKNESS&&A.setStyle(_,"border-width",S.em(T)),N!==o.PADDING&&(A.setStyle(_,"left",S.em(-1.5*N)),A.setStyle(_,"width",S.em(3*N)),A.setStyle(_,"clip-path","inset(0 0 0 "+S.em(1.5*N)+")"))},bbox:function(S){var O=S.padding,A=S.thickness;return[O+A,O,O,2*O+A/2]}}],["radical",{renderer:function(S,O){S.msqrt.toCHTML(O);var A=S.sqrtTRBL();S.adaptor.setStyle(S.msqrt.chtml,"margin",A.map(function(_){return S.em(-_)}).join(" "))},init:function(S){S.msqrt=S.createMsqrt(S.childNodes[0])},bbox:function(S){return S.sqrtTRBL()},renderChild:!0}]]),E}((0,a.CommonMencloseMixin)(s.CHTMLWrapper));e.CHTMLmenclose=m},2275:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmfenced=void 0;var x=v(5355),y=v(7555),d=v(5410),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.prototype.toCHTML=function(a){var o=this.standardCHTMLnode(a);this.mrow.toCHTML(o)},s.kind=d.MmlMfenced.prototype.kind,s}((0,y.CommonMfencedMixin)(x.CHTMLWrapper));e.CHTMLmfenced=f},9063:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__assign||function(){return x=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var u in a=arguments[o])Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmfrac=void 0;var y=v(5355),d=v(2688),f=v(6850),c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),a.prototype.toCHTML=function(o){this.standardCHTMLnode(o);var l=this.node.attributes.getList("linethickness","bevelled"),u=l.linethickness,p=l.bevelled,h=this.isDisplay();if(p)this.makeBevelled(h);else{var m=this.length2em(String(u),.06);m===0?this.makeAtop(h):this.makeFraction(h,m)}},a.prototype.makeFraction=function(o,l){var u,p,h=this.node.attributes.getList("numalign","denomalign"),m=h.numalign,g=h.denomalign,E=o?{type:"d"}:{},S=this.node.getProperty("withDelims")?x(x({},E),{delims:"true"}):x({},E),O=m!=="center"?{align:m}:{},A=g!=="center"?{align:g}:{},_=x({},E),T=x({},E),N=this.font.params;if(l!==.06){var w=N.axis_height,L=this.em(l),I=this.getTUV(o,l),P=I.T,k=I.u,B=I.v,F=(o?this.em(3*l):L)+" -.1em";E.style={height:L,"border-top":L+" solid",margin:F};var H=this.em(Math.max(0,k));T.style={height:H,"vertical-align":"-"+H},_.style={height:this.em(Math.max(0,B))},S.style={"vertical-align":this.em(w-P)}}this.adaptor.append(this.chtml,this.html("mjx-frac",S,[u=this.html("mjx-num",O,[this.html("mjx-nstrut",T)]),this.html("mjx-dbox",{},[this.html("mjx-dtable",{},[this.html("mjx-line",E),this.html("mjx-row",{},[p=this.html("mjx-den",A,[this.html("mjx-dstrut",_)])])])])])),this.childNodes[0].toCHTML(u),this.childNodes[1].toCHTML(p)},a.prototype.makeAtop=function(o){var l,u,p=this.node.attributes.getList("numalign","denomalign"),h=p.numalign,m=p.denomalign,g=o?{type:"d",atop:!0}:{atop:!0},E=this.node.getProperty("withDelims")?x(x({},g),{delims:!0}):x({},g),S=h!=="center"?{align:h}:{},O=m!=="center"?{align:m}:{},A=this.getUVQ(o),_=A.v,T=A.q;S.style={"padding-bottom":this.em(T)},E.style={"vertical-align":this.em(-_)},this.adaptor.append(this.chtml,this.html("mjx-frac",E,[l=this.html("mjx-num",S),u=this.html("mjx-den",O)])),this.childNodes[0].toCHTML(l),this.childNodes[1].toCHTML(u)},a.prototype.makeBevelled=function(o){var l=this.adaptor;l.setAttribute(this.chtml,"bevelled","ture");var u=l.append(this.chtml,this.html("mjx-num"));this.childNodes[0].toCHTML(u),this.bevel.toCHTML(this.chtml);var p=l.append(this.chtml,this.html("mjx-den"));this.childNodes[1].toCHTML(p);var h=this.getBevelData(o),m=h.u,g=h.v,E=h.delta,S=h.nbox,O=h.dbox;m&&l.setStyle(u,"verticalAlign",this.em(m/S.scale)),g&&l.setStyle(p,"verticalAlign",this.em(g/O.scale));var A=this.em(-E/2);l.setStyle(this.bevel.chtml,"marginLeft",A),l.setStyle(this.bevel.chtml,"marginRight",A)},a.kind=f.MmlMfrac.prototype.kind,a.styles={"mjx-frac":{display:"inline-block","vertical-align":"0.17em",padding:"0 .22em"},'mjx-frac[type="d"]':{"vertical-align":".04em"},"mjx-frac[delims]":{padding:"0 .1em"},"mjx-frac[atop]":{padding:"0 .12em"},"mjx-frac[atop][delims]":{padding:"0"},"mjx-dtable":{display:"inline-table",width:"100%"},"mjx-dtable > *":{"font-size":"2000%"},"mjx-dbox":{display:"block","font-size":"5%"},"mjx-num":{display:"block","text-align":"center"},"mjx-den":{display:"block","text-align":"center"},"mjx-mfrac[bevelled] > mjx-num":{display:"inline-block"},"mjx-mfrac[bevelled] > mjx-den":{display:"inline-block"},'mjx-den[align="right"], mjx-num[align="right"]':{"text-align":"right"},'mjx-den[align="left"], mjx-num[align="left"]':{"text-align":"left"},"mjx-nstrut":{display:"inline-block",height:".054em",width:0,"vertical-align":"-.054em"},'mjx-nstrut[type="d"]':{height:".217em","vertical-align":"-.217em"},"mjx-dstrut":{display:"inline-block",height:".505em",width:0},'mjx-dstrut[type="d"]':{height:".726em"},"mjx-line":{display:"block","box-sizing":"border-box","min-height":"1px",height:".06em","border-top":".06em solid",margin:".06em -.1em",overflow:"hidden"},'mjx-line[type="d"]':{margin:".18em -.1em"}},a}((0,d.CommonMfracMixin)(y.CHTMLWrapper));e.CHTMLmfrac=c},6911:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmglyph=void 0;var x=v(5355),y=v(5636),d=v(3985),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.prototype.toCHTML=function(a){var o=this.standardCHTMLnode(a);if(this.charWrapper)this.charWrapper.toCHTML(o);else{var l=this.node.attributes.getList("src","alt"),u=l.src,p=l.alt,h={width:this.em(this.width),height:this.em(this.height)};this.valign&&(h.verticalAlign=this.em(this.valign));var m=this.html("img",{src:u,style:h,alt:p,title:p});this.adaptor.append(o,m)}},s.kind=d.MmlMglyph.prototype.kind,s.styles={"mjx-mglyph > img":{display:"inline-block",border:0,padding:0}},s}((0,y.CommonMglyphMixin)(x.CHTMLWrapper));e.CHTMLmglyph=f},1653:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmi=void 0;var x=v(5355),y=v(5723),d=v(450),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.kind=d.MmlMi.prototype.kind,s}((0,y.CommonMiMixin)(x.CHTMLWrapper));e.CHTMLmi=f},6781:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])},M(a,o)},function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),x=this&&this.__read||function(a,o){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var u,p,h=l.call(a),m=[];try{for(;(o===void 0||o-- >0)&&!(u=h.next()).done;)m.push(u.value)}catch(g){p={error:g}}finally{try{u&&!u.done&&(l=h.return)&&l.call(h)}finally{if(p)throw p.error}}return m};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmmultiscripts=void 0;var y=v(4300),d=v(8009),f=v(6405),c=v(505),s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),o.prototype.toCHTML=function(l){var u=this.standardCHTMLnode(l),p=this.scriptData,h=this.node.getProperty("scriptalign")||"right left",m=x((0,c.split)(h+" "+h),2),g=m[0],E=m[1],S=this.combinePrePost(p.sub,p.psub),O=this.combinePrePost(p.sup,p.psup),A=x(this.getUVQ(S,O),2),_=A[0],T=A[1];if(p.numPrescripts){var N=this.addScripts(_,-T,!0,p.psub,p.psup,this.firstPrescript,p.numPrescripts);g!=="right"&&this.adaptor.setAttribute(N,"script-align",g)}this.childNodes[0].toCHTML(u),p.numScripts&&(N=this.addScripts(_,-T,!1,p.sub,p.sup,1,p.numScripts),E!=="left"&&this.adaptor.setAttribute(N,"script-align",E))},o.prototype.addScripts=function(l,u,p,h,m,g,E){for(var S=this.adaptor,O=l-m.d+(u-h.h),A=l<0&&u===0?h.h+l:l,_=O>0?{style:{height:this.em(O)}}:{},T=A?{style:{"vertical-align":this.em(A)}}:{},N=this.html("mjx-row"),w=this.html("mjx-row",_),L=this.html("mjx-row"),I="mjx-"+(p?"pre":"")+"scripts",P=g+2*E;g<P;)this.childNodes[g++].toCHTML(S.append(L,this.html("mjx-cell"))),this.childNodes[g++].toCHTML(S.append(N,this.html("mjx-cell")));return S.append(this.chtml,this.html(I,T,[N,w,L]))},o.kind=f.MmlMmultiscripts.prototype.kind,o.styles={"mjx-prescripts":{display:"inline-table","padding-left":".05em"},"mjx-scripts":{display:"inline-table","padding-right":".05em"},"mjx-prescripts > mjx-row > mjx-cell":{"text-align":"right"},'[script-align="left"] > mjx-row > mjx-cell':{"text-align":"left"},'[script-align="center"] > mjx-row > mjx-cell':{"text-align":"center"},'[script-align="right"] > mjx-row > mjx-cell':{"text-align":"right"}},o}((0,d.CommonMmultiscriptsMixin)(y.CHTMLmsubsup));e.CHTMLmmultiscripts=s},6460:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmn=void 0;var x=v(5355),y=v(5023),d=v(3050),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.kind=d.MmlMn.prototype.kind,s}((0,y.CommonMnMixin)(x.CHTMLWrapper));e.CHTMLmn=f},6287:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,o=a&&s[a],l=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmo=void 0;var y=v(5355),d=v(7096),f=v(2756),c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),a.prototype.toCHTML=function(o){var l,u,p=this.node.attributes,h=p.get("symmetric")&&this.stretch.dir!==2,m=this.stretch.dir!==0;m&&this.size===null&&this.getStretchedVariant([]);var g=this.standardCHTMLnode(o);if(m&&this.size<0)this.stretchHTML(g);else{if(h||p.get("largeop")){var E=this.em(this.getCenterOffset());E!=="0"&&this.adaptor.setStyle(g,"verticalAlign",E)}this.node.getProperty("mathaccent")&&(this.adaptor.setStyle(g,"width","0"),this.adaptor.setStyle(g,"margin-left",this.em(this.getAccentOffset())));try{for(var S=x(this.childNodes),O=S.next();!O.done;O=S.next())O.value.toCHTML(g)}catch(A){l={error:A}}finally{try{O&&!O.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}}},a.prototype.stretchHTML=function(o){var l=this.getText().codePointAt(0);this.font.delimUsage.add(l),this.childNodes[0].markUsed();var u=this.stretch,p=u.stretch,h=[];p[0]&&h.push(this.html("mjx-beg",{},[this.html("mjx-c")])),h.push(this.html("mjx-ext",{},[this.html("mjx-c")])),p.length===4&&h.push(this.html("mjx-mid",{},[this.html("mjx-c")]),this.html("mjx-ext",{},[this.html("mjx-c")])),p[2]&&h.push(this.html("mjx-end",{},[this.html("mjx-c")]));var m={},g=this.bbox,E=g.h,S=g.d,O=g.w;u.dir===1?(h.push(this.html("mjx-mark")),m.height=this.em(E+S),m.verticalAlign=this.em(-S)):m.width=this.em(O);var A=d.DirectionVH[u.dir],_={class:this.char(u.c||l),style:m},T=this.html("mjx-stretchy-"+A,_,h);this.adaptor.append(o,T)},a.kind=f.MmlMo.prototype.kind,a.styles={"mjx-stretchy-h":{display:"inline-table",width:"100%"},"mjx-stretchy-h > *":{display:"table-cell",width:0},"mjx-stretchy-h > * > mjx-c":{display:"inline-block",transform:"scalex(1.0000001)"},"mjx-stretchy-h > * > mjx-c::before":{display:"inline-block",width:"initial"},"mjx-stretchy-h > mjx-ext":{"/* IE */ overflow":"hidden","/* others */ overflow":"clip visible",width:"100%"},"mjx-stretchy-h > mjx-ext > mjx-c::before":{transform:"scalex(500)"},"mjx-stretchy-h > mjx-ext > mjx-c":{width:0},"mjx-stretchy-h > mjx-beg > mjx-c":{"margin-right":"-.1em"},"mjx-stretchy-h > mjx-end > mjx-c":{"margin-left":"-.1em"},"mjx-stretchy-v":{display:"inline-block"},"mjx-stretchy-v > *":{display:"block"},"mjx-stretchy-v > mjx-beg":{height:0},"mjx-stretchy-v > mjx-end > mjx-c":{display:"block"},"mjx-stretchy-v > * > mjx-c":{transform:"scaley(1.0000001)","transform-origin":"left center",overflow:"hidden"},"mjx-stretchy-v > mjx-ext":{display:"block",height:"100%","box-sizing":"border-box",border:"0px solid transparent","/* IE */ overflow":"hidden","/* others */ overflow":"visible clip"},"mjx-stretchy-v > mjx-ext > mjx-c::before":{width:"initial","box-sizing":"border-box"},"mjx-stretchy-v > mjx-ext > mjx-c":{transform:"scaleY(500) translateY(.075em)",overflow:"visible"},"mjx-mark":{display:"inline-block",height:"0px"}},a}((0,d.CommonMoMixin)(y.CHTMLWrapper));e.CHTMLmo=c},5964:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])},M(a,o)},function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),x=this&&this.__read||function(a,o){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var u,p,h=l.call(a),m=[];try{for(;(o===void 0||o-- >0)&&!(u=h.next()).done;)m.push(u.value)}catch(g){p={error:g}}finally{try{u&&!u.done&&(l=h.return)&&l.call(h)}finally{if(p)throw p.error}}return m},y=this&&this.__values||function(a){var o=typeof Symbol=="function"&&Symbol.iterator,l=o&&a[o],u=0;if(l)return l.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmpadded=void 0;var d=v(5355),f=v(6898),c=v(7238),s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),o.prototype.toCHTML=function(l){var u,p,h=this.standardCHTMLnode(l),m=[],g={},E=x(this.getDimens(),9),S=E[2],O=E[3],A=E[4],_=E[5],T=E[6],N=E[7],w=E[8];if(_&&(g.width=this.em(S+_)),(O||A)&&(g.margin=this.em(O)+" 0 "+this.em(A)),T+w||N){g.position="relative";var L=this.html("mjx-rbox",{style:{left:this.em(T+w),top:this.em(-N),"max-width":g.width}});T+w&&this.childNodes[0].getBBox().pwidth&&(this.adaptor.setAttribute(L,"width","full"),this.adaptor.setStyle(L,"left",this.em(T))),m.push(L)}h=this.adaptor.append(h,this.html("mjx-block",{style:g},m));try{for(var I=y(this.childNodes),P=I.next();!P.done;P=I.next())P.value.toCHTML(m[0]||h)}catch(k){u={error:k}}finally{try{P&&!P.done&&(p=I.return)&&p.call(I)}finally{if(u)throw u.error}}},o.kind=c.MmlMpadded.prototype.kind,o.styles={"mjx-mpadded":{display:"inline-block"},"mjx-rbox":{display:"inline-block",position:"relative"}},o}((0,f.CommonMpaddedMixin)(d.CHTMLWrapper));e.CHTMLmpadded=s},8776:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__read||function(s,a){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var l,u,p=o.call(s),h=[];try{for(;(a===void 0||a-- >0)&&!(l=p.next()).done;)h.push(l.value)}catch(m){u={error:m}}finally{try{l&&!l.done&&(o=p.return)&&o.call(p)}finally{if(u)throw u.error}}return h};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmroot=void 0;var y=v(5610),d=v(6991),f=v(6145),c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),a.prototype.addRoot=function(o,l,u,p){l.toCHTML(o);var h=x(this.getRootDimens(u,p),3),m=h[0],g=h[1],E=h[2];this.adaptor.setStyle(o,"verticalAlign",this.em(g)),this.adaptor.setStyle(o,"width",this.em(m)),E&&this.adaptor.setStyle(this.adaptor.firstChild(o),"paddingLeft",this.em(E))},a.kind=f.MmlMroot.prototype.kind,a}((0,d.CommonMrootMixin)(y.CHTMLmsqrt));e.CHTMLmroot=c},4798:function(R,e,v){var M,C=this&&this.__extends||(M=function(o,l){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(u[h]=p[h])},M(o,l)},function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=o}M(o,l),o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),x=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLinferredMrow=e.CHTMLmrow=void 0;var y=v(5355),d=v(8411),f=v(8411),c=v(9878),s=function(o){function l(){return o!==null&&o.apply(this,arguments)||this}return C(l,o),l.prototype.toCHTML=function(u){var p,h,m=this.node.isInferred?this.chtml=u:this.standardCHTMLnode(u),g=!1;try{for(var E=x(this.childNodes),S=E.next();!S.done;S=E.next()){var O=S.value;O.toCHTML(m),O.bbox.w<0&&(g=!0)}}catch(_){p={error:_}}finally{try{S&&!S.done&&(h=E.return)&&h.call(E)}finally{if(p)throw p.error}}if(g){var A=this.getBBox().w;A&&(this.adaptor.setStyle(m,"width",this.em(Math.max(0,A))),A<0&&this.adaptor.setStyle(m,"marginRight",this.em(A)))}},l.kind=c.MmlMrow.prototype.kind,l}((0,d.CommonMrowMixin)(y.CHTMLWrapper));e.CHTMLmrow=s;var a=function(o){function l(){return o!==null&&o.apply(this,arguments)||this}return C(l,o),l.kind=c.MmlInferredMrow.prototype.kind,l}((0,f.CommonInferredMrowMixin)(s));e.CHTMLinferredMrow=a},4597:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLms=void 0;var x=v(5355),y=v(4126),d=v(7265),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.kind=d.MmlMs.prototype.kind,s}((0,y.CommonMsMixin)(x.CHTMLWrapper));e.CHTMLms=f},2970:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmspace=void 0;var x=v(5355),y=v(258),d=v(6030),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.prototype.toCHTML=function(a){var o=this.standardCHTMLnode(a),l=this.getBBox(),u=l.w,p=l.h,h=l.d;u<0&&(this.adaptor.setStyle(o,"marginRight",this.em(u)),u=0),u&&this.adaptor.setStyle(o,"width",this.em(u)),(p=Math.max(0,p+h))&&this.adaptor.setStyle(o,"height",this.em(Math.max(0,p))),h&&this.adaptor.setStyle(o,"verticalAlign",this.em(-h))},s.kind=d.MmlMspace.prototype.kind,s}((0,y.CommonMspaceMixin)(x.CHTMLWrapper));e.CHTMLmspace=f},5610:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__read||function(s,a){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var l,u,p=o.call(s),h=[];try{for(;(a===void 0||a-- >0)&&!(l=p.next()).done;)h.push(l.value)}catch(m){u={error:m}}finally{try{l&&!l.done&&(o=p.return)&&o.call(p)}finally{if(u)throw u.error}}return h};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmsqrt=void 0;var y=v(5355),d=v(4093),f=v(7131),c=function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),a.prototype.toCHTML=function(o){var l,u,p,h,m=this.childNodes[this.surd],g=this.childNodes[this.base],E=m.getBBox(),S=g.getOuterBBox(),O=x(this.getPQ(E),2)[1],A=this.font.params.rule_thickness,_=S.h+O+A,T=this.standardCHTMLnode(o);this.root!=null&&(p=this.adaptor.append(T,this.html("mjx-root")),h=this.childNodes[this.root]);var N=this.adaptor.append(T,this.html("mjx-sqrt",{},[l=this.html("mjx-surd"),u=this.html("mjx-box",{style:{paddingTop:this.em(O)}})]));this.addRoot(p,h,E,_),m.toCHTML(l),g.toCHTML(u),m.size<0&&this.adaptor.addClass(N,"mjx-tall")},a.prototype.addRoot=function(o,l,u,p){},a.kind=f.MmlMsqrt.prototype.kind,a.styles={"mjx-root":{display:"inline-block","white-space":"nowrap"},"mjx-surd":{display:"inline-block","vertical-align":"top"},"mjx-sqrt":{display:"inline-block","padding-top":".07em"},"mjx-sqrt > mjx-box":{"border-top":".07em solid"},"mjx-sqrt.mjx-tall > mjx-box":{"padding-left":".3em","margin-left":"-.3em"}},a}((0,d.CommonMsqrtMixin)(y.CHTMLWrapper));e.CHTMLmsqrt=c},4300:function(R,e,v){var M,C=this&&this.__extends||(M=function(u,p){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])},M(u,p)},function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function h(){this.constructor=u}M(u,p),u.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),x=this&&this.__read||function(u,p){var h=typeof Symbol=="function"&&u[Symbol.iterator];if(!h)return u;var m,g,E=h.call(u),S=[];try{for(;(p===void 0||p-- >0)&&!(m=E.next()).done;)S.push(m.value)}catch(O){g={error:O}}finally{try{m&&!m.done&&(h=E.return)&&h.call(E)}finally{if(g)throw g.error}}return S};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmsubsup=e.CHTMLmsup=e.CHTMLmsub=void 0;var y=v(8650),d=v(905),f=v(905),c=v(905),s=v(4461),a=function(u){function p(){return u!==null&&u.apply(this,arguments)||this}return C(p,u),p.kind=s.MmlMsub.prototype.kind,p}((0,d.CommonMsubMixin)(y.CHTMLscriptbase));e.CHTMLmsub=a;var o=function(u){function p(){return u!==null&&u.apply(this,arguments)||this}return C(p,u),p.kind=s.MmlMsup.prototype.kind,p}((0,f.CommonMsupMixin)(y.CHTMLscriptbase));e.CHTMLmsup=o;var l=function(u){function p(){return u!==null&&u.apply(this,arguments)||this}return C(p,u),p.prototype.toCHTML=function(h){var m=this.adaptor,g=this.standardCHTMLnode(h),E=x([this.baseChild,this.supChild,this.subChild],3),S=E[0],O=E[1],A=E[2],_=x(this.getUVQ(),3),T=_[1],N=_[2],w={"vertical-align":this.em(T)};S.toCHTML(g);var L=m.append(g,this.html("mjx-script",{style:w}));O.toCHTML(L),m.append(L,this.html("mjx-spacer",{style:{"margin-top":this.em(N)}})),A.toCHTML(L);var I=this.getAdjustedIc();I&&m.setStyle(O.chtml,"marginLeft",this.em(I/O.bbox.rscale)),this.baseRemoveIc&&m.setStyle(L,"marginLeft",this.em(-this.baseIc))},p.kind=s.MmlMsubsup.prototype.kind,p.styles={"mjx-script":{display:"inline-block","padding-right":".05em","padding-left":".033em"},"mjx-script > mjx-spacer":{display:"block"}},p}((0,c.CommonMsubsupMixin)(y.CHTMLscriptbase));e.CHTMLmsubsup=l},8002:function(R,e,v){var M,C=this&&this.__extends||(M=function(o,l){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(u[h]=p[h])},M(o,l)},function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=o}M(o,l),o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),x=this&&this.__values||function(o){var l=typeof Symbol=="function"&&Symbol.iterator,u=l&&o[l],p=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&p>=o.length&&(o=void 0),{value:o&&o[p++],done:!o}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmtable=void 0;var d=v(5355),f=v(6237),c=v(1349),s=v(505),a=function(o){function l(u,p,h){h===void 0&&(h=null);var m=o.call(this,u,p,h)||this;return m.itable=m.html("mjx-itable"),m.labels=m.html("mjx-itable"),m}return C(l,o),l.prototype.getAlignShift=function(){var u=o.prototype.getAlignShift.call(this);return this.isTop||(u[1]=0),u},l.prototype.toCHTML=function(u){var p,h,m=this.standardCHTMLnode(u);this.adaptor.append(m,this.html("mjx-table",{},[this.itable]));try{for(var g=x(this.childNodes),E=g.next();!E.done;E=g.next())E.value.toCHTML(this.itable)}catch(S){p={error:S}}finally{try{E&&!E.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}this.padRows(),this.handleColumnSpacing(),this.handleColumnLines(),this.handleColumnWidths(),this.handleRowSpacing(),this.handleRowLines(),this.handleRowHeights(),this.handleFrame(),this.handleWidth(),this.handleLabels(),this.handleAlign(),this.handleJustify(),this.shiftColor()},l.prototype.shiftColor=function(){var u=this.adaptor,p=u.getStyle(this.chtml,"backgroundColor");p&&(u.setStyle(this.chtml,"backgroundColor",""),u.setStyle(this.itable,"backgroundColor",p))},l.prototype.padRows=function(){var u,p,h=this.adaptor;try{for(var m=x(h.childNodes(this.itable)),g=m.next();!g.done;g=m.next())for(var E=g.value;h.childNodes(E).length<this.numCols;)h.append(E,this.html("mjx-mtd",{extra:!0}))}catch(S){u={error:S}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},l.prototype.handleColumnSpacing=function(){var u,p,h,m,g=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,E=this.getEmHalfSpacing(this.fSpace[0],this.cSpace,g),S=this.frame;try{for(var O=x(this.tableRows),A=O.next();!A.done;A=O.next()){var _=A.value,T=0;try{for(var N=(h=void 0,x(_.tableCells)),w=N.next();!w.done;w=N.next()){var L=w.value,I=E[T++],P=E[T],k=L?L.chtml:this.adaptor.childNodes(_.chtml)[T];(T>1&&I!=="0.4em"||S&&T===1)&&this.adaptor.setStyle(k,"paddingLeft",I),(T<this.numCols&&P!=="0.4em"||S&&T===this.numCols)&&this.adaptor.setStyle(k,"paddingRight",P)}}catch(B){h={error:B}}finally{try{w&&!w.done&&(m=N.return)&&m.call(N)}finally{if(h)throw h.error}}}}catch(B){u={error:B}}finally{try{A&&!A.done&&(p=O.return)&&p.call(O)}finally{if(u)throw u.error}}},l.prototype.handleColumnLines=function(){var u,p,h,m;if(this.node.attributes.get("columnlines")!=="none"){var g=this.getColumnAttributes("columnlines");try{for(var E=x(this.childNodes),S=E.next();!S.done;S=E.next()){var O=S.value,A=0;try{for(var _=(h=void 0,x(this.adaptor.childNodes(O.chtml).slice(1))),T=_.next();!T.done;T=_.next()){var N=T.value,w=g[A++];w!=="none"&&this.adaptor.setStyle(N,"borderLeft",".07em "+w)}}catch(L){h={error:L}}finally{try{T&&!T.done&&(m=_.return)&&m.call(_)}finally{if(h)throw h.error}}}}catch(L){u={error:L}}finally{try{S&&!S.done&&(p=E.return)&&p.call(E)}finally{if(u)throw u.error}}}},l.prototype.handleColumnWidths=function(){var u,p,h,m;try{for(var g=x(this.childNodes),E=g.next();!E.done;E=g.next()){var S=E.value,O=0;try{for(var A=(h=void 0,x(this.adaptor.childNodes(S.chtml))),_=A.next();!_.done;_=A.next()){var T=_.value,N=this.cWidths[O++];if(N!==null){var w=typeof N=="number"?this.em(N):N;this.adaptor.setStyle(T,"width",w),this.adaptor.setStyle(T,"maxWidth",w),this.adaptor.setStyle(T,"minWidth",w)}}}catch(L){h={error:L}}finally{try{_&&!_.done&&(m=A.return)&&m.call(A)}finally{if(h)throw h.error}}}}catch(L){u={error:L}}finally{try{E&&!E.done&&(p=g.return)&&p.call(g)}finally{if(u)throw u.error}}},l.prototype.handleRowSpacing=function(){var u,p,h,m,g=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,E=this.getEmHalfSpacing(this.fSpace[1],this.rSpace,g),S=this.frame,O=0;try{for(var A=x(this.childNodes),_=A.next();!_.done;_=A.next()){var T=_.value,N=E[O++],w=E[O];try{for(var L=(h=void 0,x(T.childNodes)),I=L.next();!I.done;I=L.next()){var P=I.value;(O>1&&N!=="0.215em"||S&&O===1)&&this.adaptor.setStyle(P.chtml,"paddingTop",N),(O<this.numRows&&w!=="0.215em"||S&&O===this.numRows)&&this.adaptor.setStyle(P.chtml,"paddingBottom",w)}}catch(k){h={error:k}}finally{try{I&&!I.done&&(m=L.return)&&m.call(L)}finally{if(h)throw h.error}}}}catch(k){u={error:k}}finally{try{_&&!_.done&&(p=A.return)&&p.call(A)}finally{if(u)throw u.error}}},l.prototype.handleRowLines=function(){var u,p,h,m;if(this.node.attributes.get("rowlines")!=="none"){var g=this.getRowAttributes("rowlines"),E=0;try{for(var S=x(this.childNodes.slice(1)),O=S.next();!O.done;O=S.next()){var A=O.value,_=g[E++];if(_!=="none")try{for(var T=(h=void 0,x(this.adaptor.childNodes(A.chtml))),N=T.next();!N.done;N=T.next()){var w=N.value;this.adaptor.setStyle(w,"borderTop",".07em "+_)}}catch(L){h={error:L}}finally{try{N&&!N.done&&(m=T.return)&&m.call(T)}finally{if(h)throw h.error}}}}catch(L){u={error:L}}finally{try{O&&!O.done&&(p=S.return)&&p.call(S)}finally{if(u)throw u.error}}}},l.prototype.handleRowHeights=function(){this.node.attributes.get("equalrows")&&this.handleEqualRows()},l.prototype.handleEqualRows=function(){for(var u=this.getRowHalfSpacing(),p=this.getTableData(),h=p.H,m=p.D,g=p.NH,E=p.ND,S=this.getEqualRowHeight(),O=0;O<this.numRows;O++){var A=this.childNodes[O];this.setRowHeight(A,S+u[O]+u[O+1]+this.rLines[O]),S!==g[O]+E[O]&&this.setRowBaseline(A,S,(S-h[O]+m[O])/2)}},l.prototype.setRowHeight=function(u,p){this.adaptor.setStyle(u.chtml,"height",this.em(p))},l.prototype.setRowBaseline=function(u,p,h){var m,g,E=u.node.attributes.get("rowalign");try{for(var S=x(u.childNodes),O=S.next();!O.done;O=S.next()){var A=O.value;if(this.setCellBaseline(A,E,p,h))break}}catch(_){m={error:_}}finally{try{O&&!O.done&&(g=S.return)&&g.call(S)}finally{if(m)throw m.error}}},l.prototype.setCellBaseline=function(u,p,h,m){var g=u.node.attributes.get("rowalign");if(g==="baseline"||g==="axis"){var E=this.adaptor,S=E.lastChild(u.chtml);E.setStyle(S,"height",this.em(h)),E.setStyle(S,"verticalAlign",this.em(-m));var O=u.parent;if(!(O.node.isKind("mlabeledtr")&&u===O.childNodes[0]||p!=="baseline"&&p!=="axis"))return!0}return!1},l.prototype.handleFrame=function(){this.frame&&this.fLine&&this.adaptor.setStyle(this.itable,"border",".07em "+this.node.attributes.get("frame"))},l.prototype.handleWidth=function(){var u=this.adaptor,p=this.getBBox(),h=p.w,m=p.L,g=p.R;u.setStyle(this.chtml,"minWidth",this.em(m+h+g));var E=this.node.attributes.get("width");if((0,s.isPercent)(E))u.setStyle(this.chtml,"width",""),u.setAttribute(this.chtml,"width","full");else if(!this.hasLabels){if(E==="auto")return;E=this.em(this.length2em(E)+2*this.fLine)}var S=u.firstChild(this.chtml);if(u.setStyle(S,"width",E),u.setStyle(S,"minWidth",this.em(h)),m||g){u.setStyle(this.chtml,"margin","");var O=this.node.attributes.get("data-width-includes-label")?"padding":"margin";m===g?u.setStyle(S,O,"0 "+this.em(g)):u.setStyle(S,O,"0 "+this.em(g)+" 0 "+this.em(m))}u.setAttribute(this.itable,"width","full")},l.prototype.handleAlign=function(){var u=y(this.getAlignmentRow(),2),p=u[0],h=u[1];if(h===null)p!=="axis"&&this.adaptor.setAttribute(this.chtml,"align",p);else{var m=this.getVerticalPosition(h,p);this.adaptor.setAttribute(this.chtml,"align","top"),this.adaptor.setStyle(this.chtml,"verticalAlign",this.em(m))}},l.prototype.handleJustify=function(){var u=this.getAlignShift()[0];u!=="center"&&this.adaptor.setAttribute(this.chtml,"justify",u)},l.prototype.handleLabels=function(){if(this.hasLabels){var u=this.labels,p=this.node.attributes,h=this.adaptor,m=p.get("side");h.setAttribute(this.chtml,"side",m),h.setAttribute(u,"align",m),h.setStyle(u,m,"0");var g=y(this.addLabelPadding(m),2),E=g[0],S=g[1];if(S){var O=h.firstChild(this.chtml);this.setIndent(O,E,S)}this.updateRowHeights(),this.addLabelSpacing()}},l.prototype.addLabelPadding=function(u){var p=y(this.getPadAlignShift(u),3),h=p[1],m=p[2],g={};if(u==="right"&&!this.node.attributes.get("data-width-includes-label")){var E=this.node.attributes.get("width"),S=this.getBBox(),O=S.w,A=S.L,_=S.R;g.style={width:(0,s.isPercent)(E)?"calc("+E+" + "+this.em(A+_)+")":this.em(A+O+_)}}return this.adaptor.append(this.chtml,this.html("mjx-labels",g,[this.labels])),[h,m]},l.prototype.updateRowHeights=function(){for(var u=this.getTableData(),p=u.H,h=u.D,m=u.NH,g=u.ND,E=this.getRowHalfSpacing(),S=0;S<this.numRows;S++){var O=this.childNodes[S];this.setRowHeight(O,p[S]+h[S]+E[S]+E[S+1]+this.rLines[S]),p[S]!==m[S]||h[S]!==g[S]?this.setRowBaseline(O,p[S]+h[S],h[S]):O.node.isKind("mlabeledtr")&&this.setCellBaseline(O.childNodes[0],"",p[S]+h[S],h[S])}},l.prototype.addLabelSpacing=function(){for(var u=this.adaptor,p=this.node.attributes.get("equalrows"),h=this.getTableData(),m=h.H,g=h.D,E=p?this.getEqualRowHeight():0,S=this.getRowHalfSpacing(),O=this.fLine,A=u.firstChild(this.labels),_=0;_<this.numRows;_++)this.childNodes[_].node.isKind("mlabeledtr")?(O&&u.insert(this.html("mjx-mtr",{style:{height:this.em(O)}}),A),u.setStyle(A,"height",this.em((p?E:m[_]+g[_])+S[_]+S[_+1])),A=u.next(A),O=this.rLines[_]):O+=S[_]+(p?E:m[_]+g[_])+S[_+1]+this.rLines[_]},l.kind=c.MmlMtable.prototype.kind,l.styles={"mjx-mtable":{"vertical-align":".25em","text-align":"center",position:"relative","box-sizing":"border-box","border-spacing":0,"border-collapse":"collapse"},'mjx-mstyle[size="s"] mjx-mtable':{"vertical-align":".354em"},"mjx-labels":{position:"absolute",left:0,top:0},"mjx-table":{display:"inline-block","vertical-align":"-.5ex","box-sizing":"border-box"},"mjx-table > mjx-itable":{"vertical-align":"middle","text-align":"left","box-sizing":"border-box"},"mjx-labels > mjx-itable":{position:"absolute",top:0},'mjx-mtable[justify="left"]':{"text-align":"left"},'mjx-mtable[justify="right"]':{"text-align":"right"},'mjx-mtable[justify="left"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="left"][side="right"]':{"padding-left":"0 ! important"},'mjx-mtable[justify="right"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="right"][side="right"]':{"padding-left":"0 ! important"},"mjx-mtable[align]":{"vertical-align":"baseline"},'mjx-mtable[align="top"] > mjx-table':{"vertical-align":"top"},'mjx-mtable[align="bottom"] > mjx-table':{"vertical-align":"bottom"},'mjx-mtable[side="right"] mjx-labels':{"min-width":"100%"}},l}((0,f.CommonMtableMixin)(d.CHTMLWrapper));e.CHTMLmtable=a},7056:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmtd=void 0;var x=v(5355),y=v(5164),d=v(4359),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.prototype.toCHTML=function(a){c.prototype.toCHTML.call(this,a);var o=this.node.attributes.get("rowalign"),l=this.node.attributes.get("columnalign");o!==this.parent.node.attributes.get("rowalign")&&this.adaptor.setAttribute(this.chtml,"rowalign",o),l==="center"||this.parent.kind==="mlabeledtr"&&this===this.parent.childNodes[0]&&l===this.parent.parent.node.attributes.get("side")||this.adaptor.setStyle(this.chtml,"textAlign",l),this.parent.parent.node.getProperty("useHeight")&&this.adaptor.append(this.chtml,this.html("mjx-tstrut"))},s.kind=d.MmlMtd.prototype.kind,s.styles={"mjx-mtd":{display:"table-cell","text-align":"center",padding:".215em .4em"},"mjx-mtd:first-child":{"padding-left":0},"mjx-mtd:last-child":{"padding-right":0},"mjx-mtable > * > mjx-itable > *:first-child > mjx-mtd":{"padding-top":0},"mjx-mtable > * > mjx-itable > *:last-child > mjx-mtd":{"padding-bottom":0},"mjx-tstrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"},'mjx-labels[align="left"] > mjx-mtr > mjx-mtd':{"text-align":"left"},'mjx-labels[align="right"] > mjx-mtr > mjx-mtd':{"text-align":"right"},"mjx-mtd[extra]":{padding:0},'mjx-mtd[rowalign="top"]':{"vertical-align":"top"},'mjx-mtd[rowalign="center"]':{"vertical-align":"middle"},'mjx-mtd[rowalign="bottom"]':{"vertical-align":"bottom"},'mjx-mtd[rowalign="baseline"]':{"vertical-align":"baseline"},'mjx-mtd[rowalign="axis"]':{"vertical-align":".25em"}},s}((0,y.CommonMtdMixin)(x.CHTMLWrapper));e.CHTMLmtd=f},1259:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmtext=void 0;var x=v(5355),y=v(6319),d=v(4770),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.kind=d.MmlMtext.prototype.kind,s}((0,y.CommonMtextMixin)(x.CHTMLWrapper));e.CHTMLmtext=f},3571:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])},M(a,o)},function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmlabeledtr=e.CHTMLmtr=void 0;var x=v(5355),y=v(5766),d=v(5766),f=v(5022),c=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),o.prototype.toCHTML=function(l){a.prototype.toCHTML.call(this,l);var u=this.node.attributes.get("rowalign");u!=="baseline"&&this.adaptor.setAttribute(this.chtml,"rowalign",u)},o.kind=f.MmlMtr.prototype.kind,o.styles={"mjx-mtr":{display:"table-row"},'mjx-mtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},o}((0,y.CommonMtrMixin)(x.CHTMLWrapper));e.CHTMLmtr=c;var s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return C(o,a),o.prototype.toCHTML=function(l){a.prototype.toCHTML.call(this,l);var u=this.adaptor.firstChild(this.chtml);if(u){this.adaptor.remove(u);var p=this.node.attributes.get("rowalign"),h=p!=="baseline"&&p!=="axis"?{rowalign:p}:{},m=this.html("mjx-mtr",h,[u]);this.adaptor.append(this.parent.labels,m)}},o.prototype.markUsed=function(){a.prototype.markUsed.call(this),this.jax.wrapperUsage.add(c.kind)},o.kind=f.MmlMlabeledtr.prototype.kind,o.styles={"mjx-mlabeledtr":{display:"table-row"},'mjx-mlabeledtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mlabeledtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mlabeledtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mlabeledtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mlabeledtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},o}((0,d.CommonMlabeledtrMixin)(c));e.CHTMLmlabeledtr=s},6590:function(R,e,v){var M,C=this&&this.__extends||(M=function(l,u){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},M(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function p(){this.constructor=l}M(l,u),l.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLmunderover=e.CHTMLmover=e.CHTMLmunder=void 0;var x=v(4300),y=v(1971),d=v(1971),f=v(1971),c=v(5184),s=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.prototype.toCHTML=function(p){if(this.hasMovableLimits())return l.prototype.toCHTML.call(this,p),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(p);var h=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-row")),this.html("mjx-base")),m=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-row")),this.html("mjx-under"));this.baseChild.toCHTML(h),this.scriptChild.toCHTML(m);var g=this.baseChild.getOuterBBox(),E=this.scriptChild.getOuterBBox(),S=this.getUnderKV(g,E)[0],O=this.isLineBelow?0:this.getDelta(!0);this.adaptor.setStyle(m,"paddingTop",this.em(S)),this.setDeltaW([h,m],this.getDeltaW([g,E],[0,-O])),this.adjustUnderDepth(m,E)},u.kind=c.MmlMunder.prototype.kind,u.styles={"mjx-over":{"text-align":"left"},'mjx-munder:not([limits="false"])':{display:"inline-table"},"mjx-munder > mjx-row":{"text-align":"left"},"mjx-under":{"padding-bottom":".1em"}},u}((0,y.CommonMunderMixin)(x.CHTMLmsub));e.CHTMLmunder=s;var a=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.prototype.toCHTML=function(p){if(this.hasMovableLimits())return l.prototype.toCHTML.call(this,p),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(p);var h=this.adaptor.append(this.chtml,this.html("mjx-over")),m=this.adaptor.append(this.chtml,this.html("mjx-base"));this.scriptChild.toCHTML(h),this.baseChild.toCHTML(m);var g=this.scriptChild.getOuterBBox(),E=this.baseChild.getOuterBBox();this.adjustBaseHeight(m,E);var S=this.getOverKU(E,g)[0],O=this.isLineAbove?0:this.getDelta();this.adaptor.setStyle(h,"paddingBottom",this.em(S)),this.setDeltaW([m,h],this.getDeltaW([E,g],[0,O])),this.adjustOverDepth(h,g)},u.kind=c.MmlMover.prototype.kind,u.styles={'mjx-mover:not([limits="false"])':{"padding-top":".1em"},'mjx-mover:not([limits="false"]) > *':{display:"block","text-align":"left"}},u}((0,d.CommonMoverMixin)(x.CHTMLmsup));e.CHTMLmover=a;var o=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.prototype.toCHTML=function(p){if(this.hasMovableLimits())return l.prototype.toCHTML.call(this,p),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(p);var h=this.adaptor.append(this.chtml,this.html("mjx-over")),m=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-box")),this.html("mjx-munder")),g=this.adaptor.append(this.adaptor.append(m,this.html("mjx-row")),this.html("mjx-base")),E=this.adaptor.append(this.adaptor.append(m,this.html("mjx-row")),this.html("mjx-under"));this.overChild.toCHTML(h),this.baseChild.toCHTML(g),this.underChild.toCHTML(E);var S=this.overChild.getOuterBBox(),O=this.baseChild.getOuterBBox(),A=this.underChild.getOuterBBox();this.adjustBaseHeight(g,O);var _=this.getOverKU(O,S)[0],T=this.getUnderKV(O,A)[0],N=this.getDelta();this.adaptor.setStyle(h,"paddingBottom",this.em(_)),this.adaptor.setStyle(E,"paddingTop",this.em(T)),this.setDeltaW([g,E,h],this.getDeltaW([O,A,S],[0,this.isLineBelow?0:-N,this.isLineAbove?0:N])),this.adjustOverDepth(h,S),this.adjustUnderDepth(E,A)},u.prototype.markUsed=function(){l.prototype.markUsed.call(this),this.jax.wrapperUsage.add(x.CHTMLmsubsup.kind)},u.kind=c.MmlMunderover.prototype.kind,u.styles={'mjx-munderover:not([limits="false"])':{"padding-top":".1em"},'mjx-munderover:not([limits="false"]) > *':{display:"block"}},u}((0,f.CommonMunderoverMixin)(x.CHTMLmsubsup));e.CHTMLmunderover=o},8650:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p},y=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLscriptbase=void 0;var d=v(5355),f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.prototype.toCHTML=function(a){this.chtml=this.standardCHTMLnode(a);var o=x(this.getOffset(),2),l=o[0],u=o[1],p=l-(this.baseRemoveIc?this.baseIc:0),h={"vertical-align":this.em(u)};p&&(h["margin-left"]=this.em(p)),this.baseChild.toCHTML(this.chtml),this.scriptChild.toCHTML(this.adaptor.append(this.chtml,this.html("mjx-script",{style:h})))},s.prototype.setDeltaW=function(a,o){for(var l=0;l<o.length;l++)o[l]&&this.adaptor.setStyle(a[l],"paddingLeft",this.em(o[l]))},s.prototype.adjustOverDepth=function(a,o){o.d>=0||this.adaptor.setStyle(a,"marginBottom",this.em(o.d*o.rscale))},s.prototype.adjustUnderDepth=function(a,o){var l,u;if(!(o.d>=0)){var p=this.adaptor,h=this.em(o.d),m=this.html("mjx-box",{style:{"margin-bottom":h,"vertical-align":h}});try{for(var g=y(p.childNodes(p.firstChild(a))),E=g.next();!E.done;E=g.next()){var S=E.value;p.append(m,S)}}catch(O){l={error:O}}finally{try{E&&!E.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}p.append(p.firstChild(a),m)}},s.prototype.adjustBaseHeight=function(a,o){if(this.node.attributes.get("accent")){var l=this.font.params.x_height*o.scale;o.h<l&&(this.adaptor.setStyle(a,"paddingTop",this.em(l-o.h)),o.h=l)}},s.kind="scriptbase",s}((0,v(167).CommonScriptbaseMixin)(d.CHTMLWrapper));e.CHTMLscriptbase=f},421:function(R,e,v){var M,C=this&&this.__extends||(M=function(l,u){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},M(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function p(){this.constructor=l}M(l,u),l.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)});Object.defineProperty(e,"__esModule",{value:!0}),e.CHTMLxml=e.CHTMLannotationXML=e.CHTMLannotation=e.CHTMLsemantics=void 0;var x=v(5355),y=v(5806),d=v(9102),f=v(9007),c=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.prototype.toCHTML=function(p){var h=this.standardCHTMLnode(p);this.childNodes.length&&this.childNodes[0].toCHTML(h)},u.kind=d.MmlSemantics.prototype.kind,u}((0,y.CommonSemanticsMixin)(x.CHTMLWrapper));e.CHTMLsemantics=c;var s=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.prototype.toCHTML=function(p){l.prototype.toCHTML.call(this,p)},u.prototype.computeBBox=function(){return this.bbox},u.kind=d.MmlAnnotation.prototype.kind,u}(x.CHTMLWrapper);e.CHTMLannotation=s;var a=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.kind=d.MmlAnnotationXML.prototype.kind,u.styles={"mjx-annotation-xml":{"font-family":"initial","line-height":"normal"}},u}(x.CHTMLWrapper);e.CHTMLannotationXML=a;var o=function(l){function u(){return l!==null&&l.apply(this,arguments)||this}return C(u,l),u.prototype.toCHTML=function(p){this.chtml=this.adaptor.append(p,this.adaptor.clone(this.node.getXML()))},u.prototype.computeBBox=function(p,h){var m=this.jax.measureXMLnode(this.node.getXML()),g=m.w,E=m.h,S=m.d;p.w=g,p.h=E,p.d=S},u.prototype.getStyles=function(){},u.prototype.getScale=function(){},u.prototype.getVariant=function(){},u.kind=f.XMLNode.prototype.kind,u.autoStyle=!1,u}(x.CHTMLWrapper);e.CHTMLxml=o},2760:function(R,e,v){var M,C=this&&this.__extends||(M=function(j,U){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,K){z.__proto__=K}||function(z,K){for(var W in K)Object.prototype.hasOwnProperty.call(K,W)&&(z[W]=K[W])},M(j,U)},function(j,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function z(){this.constructor=j}M(j,U),j.prototype=U===null?Object.create(U):(z.prototype=U.prototype,new z)}),x=this&&this.__assign||function(){return x=Object.assign||function(j){for(var U,z=1,K=arguments.length;z<K;z++)for(var W in U=arguments[z])Object.prototype.hasOwnProperty.call(U,W)&&(j[W]=U[W]);return j},x.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.TeXFont=void 0;var y=v(8042),d=v(5920),f=v(4005),c=v(1015),s=v(4515),a=v(6555),o=v(2183),l=v(3490),u=v(9056),p=v(3019),h=v(2713),m=v(7517),g=v(4182),E=v(2679),S=v(5469),O=v(7563),A=v(9409),_=v(775),T=v(9551),N=v(7907),w=v(9659),L=v(98),I=v(6275),P=v(6530),k=v(4409),B=v(5292),F=v(9124),H=function(j){function U(){return j!==null&&j.apply(this,arguments)||this}return C(U,j),U.defaultCssFamilyPrefix="MJXZERO",U.defaultVariantClasses={normal:"mjx-n",bold:"mjx-b",italic:"mjx-i","bold-italic":"mjx-b mjx-i","double-struck":"mjx-ds mjx-b",fraktur:"mjx-fr","bold-fraktur":"mjx-fr mjx-b",script:"mjx-sc mjx-i","bold-script":"mjx-sc mjx-b mjx-i","sans-serif":"mjx-ss","bold-sans-serif":"mjx-ss mjx-b","sans-serif-italic":"mjx-ss mjx-i","sans-serif-bold-italic":"mjx-ss mjx-b mjx-i",monospace:"mjx-ty","-smallop":"mjx-sop","-largeop":"mjx-lop","-size3":"mjx-s3","-size4":"mjx-s4","-tex-calligraphic":"mjx-cal mjx-i","-tex-bold-calligraphic":"mjx-cal mjx-b","-tex-mathit":"mjx-mit mjx-i","-tex-oldstyle":"mjx-os","-tex-bold-oldstyle":"mjx-os mjx-b","-tex-variant":"mjx-var"},U.defaultVariantLetters={normal:"",bold:"B",italic:"MI","bold-italic":"BI","double-struck":"A",fraktur:"FR","bold-fraktur":"FRB",script:"SC","bold-script":"SCB","sans-serif":"SS","bold-sans-serif":"SSB","sans-serif-italic":"SSI","sans-serif-bold-italic":"SSBI",monospace:"T","-smallop":"S1","-largeop":"S2","-size3":"S3","-size4":"S4","-tex-calligraphic":"C","-tex-bold-calligraphic":"CB","-tex-mathit":"MI","-tex-oldstyle":"C","-tex-bold-oldstyle":"CB","-tex-variant":"A"},U.defaultDelimiters=F.delimiters,U.defaultChars={normal:h.normal,bold:c.bold,italic:l.italic,"bold-italic":f.boldItalic,"double-struck":s.doubleStruck,fraktur:o.fraktur,"bold-fraktur":a.frakturBold,script:A.script,"bold-script":O.scriptBold,"sans-serif":S.sansSerif,"bold-sans-serif":g.sansSerifBold,"sans-serif-italic":E.sansSerifItalic,"sans-serif-bold-italic":m.sansSerifBoldItalic,monospace:p.monospace,"-smallop":_.smallop,"-largeop":u.largeop,"-size3":P.texSize3,"-size4":k.texSize4,"-tex-calligraphic":N.texCalligraphic,"-tex-bold-calligraphic":T.texCalligraphicBold,"-tex-mathit":w.texMathit,"-tex-oldstyle":I.texOldstyle,"-tex-bold-oldstyle":L.texOldstyleBold,"-tex-variant":B.texVariant},U.defaultStyles=x(x({},y.CHTMLFontData.defaultStyles),{".MJX-TEX":{"font-family":"MJXZERO, MJXTEX"},".TEX-B":{"font-family":"MJXZERO, MJXTEX-B"},".TEX-I":{"font-family":"MJXZERO, MJXTEX-I"},".TEX-MI":{"font-family":"MJXZERO, MJXTEX-MI"},".TEX-BI":{"font-family":"MJXZERO, MJXTEX-BI"},".TEX-S1":{"font-family":"MJXZERO, MJXTEX-S1"},".TEX-S2":{"font-family":"MJXZERO, MJXTEX-S2"},".TEX-S3":{"font-family":"MJXZERO, MJXTEX-S3"},".TEX-S4":{"font-family":"MJXZERO, MJXTEX-S4"},".TEX-A":{"font-family":"MJXZERO, MJXTEX-A"},".TEX-C":{"font-family":"MJXZERO, MJXTEX-C"},".TEX-CB":{"font-family":"MJXZERO, MJXTEX-CB"},".TEX-FR":{"font-family":"MJXZERO, MJXTEX-FR"},".TEX-FRB":{"font-family":"MJXZERO, MJXTEX-FRB"},".TEX-SS":{"font-family":"MJXZERO, MJXTEX-SS"},".TEX-SSB":{"font-family":"MJXZERO, MJXTEX-SSB"},".TEX-SSI":{"font-family":"MJXZERO, MJXTEX-SSI"},".TEX-SC":{"font-family":"MJXZERO, MJXTEX-SC"},".TEX-T":{"font-family":"MJXZERO, MJXTEX-T"},".TEX-V":{"font-family":"MJXZERO, MJXTEX-V"},".TEX-VB":{"font-family":"MJXZERO, MJXTEX-VB"},"mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c":{"font-family":"MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important"}}),U.defaultFonts=x(x({},y.CHTMLFontData.defaultFonts),{"@font-face /* 1 */":{"font-family":"MJXTEX",src:'url("%%URL%%/MathJax_Main-Regular.woff") format("woff")'},"@font-face /* 2 */":{"font-family":"MJXTEX-B",src:'url("%%URL%%/MathJax_Main-Bold.woff") format("woff")'},"@font-face /* 3 */":{"font-family":"MJXTEX-I",src:'url("%%URL%%/MathJax_Math-Italic.woff") format("woff")'},"@font-face /* 4 */":{"font-family":"MJXTEX-MI",src:'url("%%URL%%/MathJax_Main-Italic.woff") format("woff")'},"@font-face /* 5 */":{"font-family":"MJXTEX-BI",src:'url("%%URL%%/MathJax_Math-BoldItalic.woff") format("woff")'},"@font-face /* 6 */":{"font-family":"MJXTEX-S1",src:'url("%%URL%%/MathJax_Size1-Regular.woff") format("woff")'},"@font-face /* 7 */":{"font-family":"MJXTEX-S2",src:'url("%%URL%%/MathJax_Size2-Regular.woff") format("woff")'},"@font-face /* 8 */":{"font-family":"MJXTEX-S3",src:'url("%%URL%%/MathJax_Size3-Regular.woff") format("woff")'},"@font-face /* 9 */":{"font-family":"MJXTEX-S4",src:'url("%%URL%%/MathJax_Size4-Regular.woff") format("woff")'},"@font-face /* 10 */":{"font-family":"MJXTEX-A",src:'url("%%URL%%/MathJax_AMS-Regular.woff") format("woff")'},"@font-face /* 11 */":{"font-family":"MJXTEX-C",src:'url("%%URL%%/MathJax_Calligraphic-Regular.woff") format("woff")'},"@font-face /* 12 */":{"font-family":"MJXTEX-CB",src:'url("%%URL%%/MathJax_Calligraphic-Bold.woff") format("woff")'},"@font-face /* 13 */":{"font-family":"MJXTEX-FR",src:'url("%%URL%%/MathJax_Fraktur-Regular.woff") format("woff")'},"@font-face /* 14 */":{"font-family":"MJXTEX-FRB",src:'url("%%URL%%/MathJax_Fraktur-Bold.woff") format("woff")'},"@font-face /* 15 */":{"font-family":"MJXTEX-SS",src:'url("%%URL%%/MathJax_SansSerif-Regular.woff") format("woff")'},"@font-face /* 16 */":{"font-family":"MJXTEX-SSB",src:'url("%%URL%%/MathJax_SansSerif-Bold.woff") format("woff")'},"@font-face /* 17 */":{"font-family":"MJXTEX-SSI",src:'url("%%URL%%/MathJax_SansSerif-Italic.woff") format("woff")'},"@font-face /* 18 */":{"font-family":"MJXTEX-SC",src:'url("%%URL%%/MathJax_Script-Regular.woff") format("woff")'},"@font-face /* 19 */":{"font-family":"MJXTEX-T",src:'url("%%URL%%/MathJax_Typewriter-Regular.woff") format("woff")'},"@font-face /* 20 */":{"font-family":"MJXTEX-V",src:'url("%%URL%%/MathJax_Vector-Regular.woff") format("woff")'},"@font-face /* 21 */":{"font-family":"MJXTEX-VB",src:'url("%%URL%%/MathJax_Vector-Bold.woff") format("woff")'}}),U}((0,d.CommonTeXFontMixin)(y.CHTMLFontData));e.TeXFont=H},4005:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.boldItalic=void 0;var M=v(8042),C=v(3980);e.boldItalic=(0,M.AddCSS)(C.boldItalic,{305:{f:"B"},567:{f:"B"},8260:{c:"/"},8710:{c:"\\394"},10744:{c:"/"}})},1015:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.bold=void 0;var M=v(8042),C=v(1103);e.bold=(0,M.AddCSS)(C.bold,{183:{c:"\\22C5"},305:{f:""},567:{f:""},697:{c:"\\2032"},8194:{c:""},8195:{c:""},8196:{c:""},8197:{c:""},8198:{c:""},8201:{c:""},8202:{c:""},8213:{c:"\\2014"},8214:{c:"\\2225"},8215:{c:"_"},8226:{c:"\\2219"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8254:{c:"\\2C9"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8407:{c:"\\2192",f:"VB"},8602:{c:"\\2190\\338"},8603:{c:"\\2192\\338"},8622:{c:"\\2194\\338"},8653:{c:"\\21D0\\338"},8654:{c:"\\21D4\\338"},8655:{c:"\\21D2\\338"},8708:{c:"\\2203\\338"},8710:{c:"\\394"},8716:{c:"\\220B\\338"},8740:{c:"\\2223\\338"},8742:{c:"\\2225\\338"},8769:{c:"\\223C\\338"},8772:{c:"\\2243\\338"},8775:{c:"\\2245\\338"},8777:{c:"\\2248\\338"},8802:{c:"\\2261\\338"},8813:{c:"\\224D\\338"},8814:{c:"<\\338"},8815:{c:">\\338"},8816:{c:"\\2264\\338"},8817:{c:"\\2265\\338"},8832:{c:"\\227A\\338"},8833:{c:"\\227B\\338"},8836:{c:"\\2282\\338"},8837:{c:"\\2283\\338"},8840:{c:"\\2286\\338"},8841:{c:"\\2287\\338"},8876:{c:"\\22A2\\338"},8877:{c:"\\22A8\\338"},8930:{c:"\\2291\\338"},8931:{c:"\\2292\\338"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9653:{c:"\\25B3"},9663:{c:"\\25BD"},10072:{c:"\\2223"},10744:{c:"/",f:"BI"},10799:{c:"\\D7"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}})},4515:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.doubleStruck=void 0;var M=v(6001);Object.defineProperty(e,"doubleStruck",{enumerable:!0,get:function(){return M.doubleStruck}})},6555:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.frakturBold=void 0;var M=v(8042),C=v(3696);e.frakturBold=(0,M.AddCSS)(C.frakturBold,{8260:{c:"/"}})},2183:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.fraktur=void 0;var M=v(8042),C=v(9587);e.fraktur=(0,M.AddCSS)(C.fraktur,{8260:{c:"/"}})},3490:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.italic=void 0;var M=v(8042),C=v(8348);e.italic=(0,M.AddCSS)(C.italic,{47:{f:"I"},989:{c:"\\E008",f:"A"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/",f:"I"},8710:{c:"\\394",f:"I"},10744:{c:"/",f:"I"}})},9056:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.largeop=void 0;var M=v(8042),C=v(1376);e.largeop=(0,M.AddCSS)(C.largeop,{8214:{f:"S1"},8260:{c:"/"},8593:{f:"S1"},8595:{f:"S1"},8657:{f:"S1"},8659:{f:"S1"},8739:{f:"S1"},8741:{f:"S1"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9168:{f:"S1"},10072:{c:"\\2223",f:"S1"},10764:{c:"\\222C\\222C"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}})},3019:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.monospace=void 0;var M=v(8042),C=v(1439);e.monospace=(0,M.AddCSS)(C.monospace,{697:{c:"\\2032"},913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8215:{c:"_"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8710:{c:"\\394"}})},2713:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.normal=void 0;var M=v(8042),C=v(331);e.normal=(0,M.AddCSS)(C.normal,{163:{f:"MI"},165:{f:"A"},174:{f:"A"},183:{c:"\\22C5"},240:{f:"A"},697:{c:"\\2032"},913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8192:{c:""},8193:{c:""},8194:{c:""},8195:{c:""},8196:{c:""},8197:{c:""},8198:{c:""},8201:{c:""},8202:{c:""},8203:{c:""},8204:{c:""},8213:{c:"\\2014"},8214:{c:"\\2225"},8215:{c:"_"},8226:{c:"\\2219"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8245:{f:"A"},8246:{c:"\\2035\\2035",f:"A"},8247:{c:"\\2035\\2035\\2035",f:"A"},8254:{c:"\\2C9"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8288:{c:""},8289:{c:""},8290:{c:""},8291:{c:""},8292:{c:""},8407:{c:"\\2192",f:"V"},8450:{c:"C",f:"A"},8459:{c:"H",f:"SC"},8460:{c:"H",f:"FR"},8461:{c:"H",f:"A"},8462:{c:"h",f:"I"},8463:{f:"A"},8464:{c:"I",f:"SC"},8465:{c:"I",f:"FR"},8466:{c:"L",f:"SC"},8469:{c:"N",f:"A"},8473:{c:"P",f:"A"},8474:{c:"Q",f:"A"},8475:{c:"R",f:"SC"},8476:{c:"R",f:"FR"},8477:{c:"R",f:"A"},8484:{c:"Z",f:"A"},8486:{c:"\\3A9"},8487:{f:"A"},8488:{c:"Z",f:"FR"},8492:{c:"B",f:"SC"},8493:{c:"C",f:"FR"},8496:{c:"E",f:"SC"},8497:{c:"F",f:"SC"},8498:{f:"A"},8499:{c:"M",f:"SC"},8502:{f:"A"},8503:{f:"A"},8504:{f:"A"},8513:{f:"A"},8602:{f:"A"},8603:{f:"A"},8606:{f:"A"},8608:{f:"A"},8610:{f:"A"},8611:{f:"A"},8619:{f:"A"},8620:{f:"A"},8621:{f:"A"},8622:{f:"A"},8624:{f:"A"},8625:{f:"A"},8630:{f:"A"},8631:{f:"A"},8634:{f:"A"},8635:{f:"A"},8638:{f:"A"},8639:{f:"A"},8642:{f:"A"},8643:{f:"A"},8644:{f:"A"},8646:{f:"A"},8647:{f:"A"},8648:{f:"A"},8649:{f:"A"},8650:{f:"A"},8651:{f:"A"},8653:{f:"A"},8654:{f:"A"},8655:{f:"A"},8666:{f:"A"},8667:{f:"A"},8669:{f:"A"},8672:{f:"A"},8674:{f:"A"},8705:{f:"A"},8708:{c:"\\2203\\338"},8710:{c:"\\394"},8716:{c:"\\220B\\338"},8717:{f:"A"},8719:{f:"S1"},8720:{f:"S1"},8721:{f:"S1"},8724:{f:"A"},8737:{f:"A"},8738:{f:"A"},8740:{f:"A"},8742:{f:"A"},8748:{f:"S1"},8749:{f:"S1"},8750:{f:"S1"},8756:{f:"A"},8757:{f:"A"},8765:{f:"A"},8769:{f:"A"},8770:{f:"A"},8772:{c:"\\2243\\338"},8775:{c:"\\2246",f:"A"},8777:{c:"\\2248\\338"},8778:{f:"A"},8782:{f:"A"},8783:{f:"A"},8785:{f:"A"},8786:{f:"A"},8787:{f:"A"},8790:{f:"A"},8791:{f:"A"},8796:{f:"A"},8802:{c:"\\2261\\338"},8806:{f:"A"},8807:{f:"A"},8808:{f:"A"},8809:{f:"A"},8812:{f:"A"},8813:{c:"\\224D\\338"},8814:{f:"A"},8815:{f:"A"},8816:{f:"A"},8817:{f:"A"},8818:{f:"A"},8819:{f:"A"},8820:{c:"\\2272\\338"},8821:{c:"\\2273\\338"},8822:{f:"A"},8823:{f:"A"},8824:{c:"\\2276\\338"},8825:{c:"\\2277\\338"},8828:{f:"A"},8829:{f:"A"},8830:{f:"A"},8831:{f:"A"},8832:{f:"A"},8833:{f:"A"},8836:{c:"\\2282\\338"},8837:{c:"\\2283\\338"},8840:{f:"A"},8841:{f:"A"},8842:{f:"A"},8843:{f:"A"},8847:{f:"A"},8848:{f:"A"},8858:{f:"A"},8859:{f:"A"},8861:{f:"A"},8862:{f:"A"},8863:{f:"A"},8864:{f:"A"},8865:{f:"A"},8873:{f:"A"},8874:{f:"A"},8876:{f:"A"},8877:{f:"A"},8878:{f:"A"},8879:{f:"A"},8882:{f:"A"},8883:{f:"A"},8884:{f:"A"},8885:{f:"A"},8888:{f:"A"},8890:{f:"A"},8891:{f:"A"},8892:{f:"A"},8896:{f:"S1"},8897:{f:"S1"},8898:{f:"S1"},8899:{f:"S1"},8903:{f:"A"},8905:{f:"A"},8906:{f:"A"},8907:{f:"A"},8908:{f:"A"},8909:{f:"A"},8910:{f:"A"},8911:{f:"A"},8912:{f:"A"},8913:{f:"A"},8914:{f:"A"},8915:{f:"A"},8916:{f:"A"},8918:{f:"A"},8919:{f:"A"},8920:{f:"A"},8921:{f:"A"},8922:{f:"A"},8923:{f:"A"},8926:{f:"A"},8927:{f:"A"},8928:{f:"A"},8929:{f:"A"},8930:{c:"\\2291\\338"},8931:{c:"\\2292\\338"},8934:{f:"A"},8935:{f:"A"},8936:{f:"A"},8937:{f:"A"},8938:{f:"A"},8939:{f:"A"},8940:{f:"A"},8941:{f:"A"},8965:{c:"\\22BC",f:"A"},8966:{c:"\\2A5E",f:"A"},8988:{c:"\\250C",f:"A"},8989:{c:"\\2510",f:"A"},8990:{c:"\\2514",f:"A"},8991:{c:"\\2518",f:"A"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9168:{f:"S1"},9416:{f:"A"},9484:{f:"A"},9488:{f:"A"},9492:{f:"A"},9496:{f:"A"},9585:{f:"A"},9586:{f:"A"},9632:{f:"A"},9633:{f:"A"},9642:{c:"\\25A0",f:"A"},9650:{f:"A"},9652:{c:"\\25B2",f:"A"},9653:{c:"\\25B3"},9654:{f:"A"},9656:{c:"\\25B6",f:"A"},9660:{f:"A"},9662:{c:"\\25BC",f:"A"},9663:{c:"\\25BD"},9664:{f:"A"},9666:{c:"\\25C0",f:"A"},9674:{f:"A"},9723:{c:"\\25A1",f:"A"},9724:{c:"\\25A0",f:"A"},9733:{f:"A"},10003:{f:"A"},10016:{f:"A"},10072:{c:"\\2223"},10731:{f:"A"},10744:{c:"/",f:"I"},10752:{f:"S1"},10753:{f:"S1"},10754:{f:"S1"},10756:{f:"S1"},10758:{f:"S1"},10764:{c:"\\222C\\222C",f:"S1"},10799:{c:"\\D7"},10846:{f:"A"},10877:{f:"A"},10878:{f:"A"},10885:{f:"A"},10886:{f:"A"},10887:{f:"A"},10888:{f:"A"},10889:{f:"A"},10890:{f:"A"},10891:{f:"A"},10892:{f:"A"},10901:{f:"A"},10902:{f:"A"},10933:{f:"A"},10934:{f:"A"},10935:{f:"A"},10936:{f:"A"},10937:{f:"A"},10938:{f:"A"},10949:{f:"A"},10950:{f:"A"},10955:{f:"A"},10956:{f:"A"},12296:{c:"\\27E8"},12297:{c:"\\27E9"},57350:{f:"A"},57351:{f:"A"},57352:{f:"A"},57353:{f:"A"},57356:{f:"A"},57357:{f:"A"},57358:{f:"A"},57359:{f:"A"},57360:{f:"A"},57361:{f:"A"},57366:{f:"A"},57367:{f:"A"},57368:{f:"A"},57369:{f:"A"},57370:{f:"A"},57371:{f:"A"},119808:{c:"A",f:"B"},119809:{c:"B",f:"B"},119810:{c:"C",f:"B"},119811:{c:"D",f:"B"},119812:{c:"E",f:"B"},119813:{c:"F",f:"B"},119814:{c:"G",f:"B"},119815:{c:"H",f:"B"},119816:{c:"I",f:"B"},119817:{c:"J",f:"B"},119818:{c:"K",f:"B"},119819:{c:"L",f:"B"},119820:{c:"M",f:"B"},119821:{c:"N",f:"B"},119822:{c:"O",f:"B"},119823:{c:"P",f:"B"},119824:{c:"Q",f:"B"},119825:{c:"R",f:"B"},119826:{c:"S",f:"B"},119827:{c:"T",f:"B"},119828:{c:"U",f:"B"},119829:{c:"V",f:"B"},119830:{c:"W",f:"B"},119831:{c:"X",f:"B"},119832:{c:"Y",f:"B"},119833:{c:"Z",f:"B"},119834:{c:"a",f:"B"},119835:{c:"b",f:"B"},119836:{c:"c",f:"B"},119837:{c:"d",f:"B"},119838:{c:"e",f:"B"},119839:{c:"f",f:"B"},119840:{c:"g",f:"B"},119841:{c:"h",f:"B"},119842:{c:"i",f:"B"},119843:{c:"j",f:"B"},119844:{c:"k",f:"B"},119845:{c:"l",f:"B"},119846:{c:"m",f:"B"},119847:{c:"n",f:"B"},119848:{c:"o",f:"B"},119849:{c:"p",f:"B"},119850:{c:"q",f:"B"},119851:{c:"r",f:"B"},119852:{c:"s",f:"B"},119853:{c:"t",f:"B"},119854:{c:"u",f:"B"},119855:{c:"v",f:"B"},119856:{c:"w",f:"B"},119857:{c:"x",f:"B"},119858:{c:"y",f:"B"},119859:{c:"z",f:"B"},119860:{c:"A",f:"I"},119861:{c:"B",f:"I"},119862:{c:"C",f:"I"},119863:{c:"D",f:"I"},119864:{c:"E",f:"I"},119865:{c:"F",f:"I"},119866:{c:"G",f:"I"},119867:{c:"H",f:"I"},119868:{c:"I",f:"I"},119869:{c:"J",f:"I"},119870:{c:"K",f:"I"},119871:{c:"L",f:"I"},119872:{c:"M",f:"I"},119873:{c:"N",f:"I"},119874:{c:"O",f:"I"},119875:{c:"P",f:"I"},119876:{c:"Q",f:"I"},119877:{c:"R",f:"I"},119878:{c:"S",f:"I"},119879:{c:"T",f:"I"},119880:{c:"U",f:"I"},119881:{c:"V",f:"I"},119882:{c:"W",f:"I"},119883:{c:"X",f:"I"},119884:{c:"Y",f:"I"},119885:{c:"Z",f:"I"},119886:{c:"a",f:"I"},119887:{c:"b",f:"I"},119888:{c:"c",f:"I"},119889:{c:"d",f:"I"},119890:{c:"e",f:"I"},119891:{c:"f",f:"I"},119892:{c:"g",f:"I"},119894:{c:"i",f:"I"},119895:{c:"j",f:"I"},119896:{c:"k",f:"I"},119897:{c:"l",f:"I"},119898:{c:"m",f:"I"},119899:{c:"n",f:"I"},119900:{c:"o",f:"I"},119901:{c:"p",f:"I"},119902:{c:"q",f:"I"},119903:{c:"r",f:"I"},119904:{c:"s",f:"I"},119905:{c:"t",f:"I"},119906:{c:"u",f:"I"},119907:{c:"v",f:"I"},119908:{c:"w",f:"I"},119909:{c:"x",f:"I"},119910:{c:"y",f:"I"},119911:{c:"z",f:"I"},119912:{c:"A",f:"BI"},119913:{c:"B",f:"BI"},119914:{c:"C",f:"BI"},119915:{c:"D",f:"BI"},119916:{c:"E",f:"BI"},119917:{c:"F",f:"BI"},119918:{c:"G",f:"BI"},119919:{c:"H",f:"BI"},119920:{c:"I",f:"BI"},119921:{c:"J",f:"BI"},119922:{c:"K",f:"BI"},119923:{c:"L",f:"BI"},119924:{c:"M",f:"BI"},119925:{c:"N",f:"BI"},119926:{c:"O",f:"BI"},119927:{c:"P",f:"BI"},119928:{c:"Q",f:"BI"},119929:{c:"R",f:"BI"},119930:{c:"S",f:"BI"},119931:{c:"T",f:"BI"},119932:{c:"U",f:"BI"},119933:{c:"V",f:"BI"},119934:{c:"W",f:"BI"},119935:{c:"X",f:"BI"},119936:{c:"Y",f:"BI"},119937:{c:"Z",f:"BI"},119938:{c:"a",f:"BI"},119939:{c:"b",f:"BI"},119940:{c:"c",f:"BI"},119941:{c:"d",f:"BI"},119942:{c:"e",f:"BI"},119943:{c:"f",f:"BI"},119944:{c:"g",f:"BI"},119945:{c:"h",f:"BI"},119946:{c:"i",f:"BI"},119947:{c:"j",f:"BI"},119948:{c:"k",f:"BI"},119949:{c:"l",f:"BI"},119950:{c:"m",f:"BI"},119951:{c:"n",f:"BI"},119952:{c:"o",f:"BI"},119953:{c:"p",f:"BI"},119954:{c:"q",f:"BI"},119955:{c:"r",f:"BI"},119956:{c:"s",f:"BI"},119957:{c:"t",f:"BI"},119958:{c:"u",f:"BI"},119959:{c:"v",f:"BI"},119960:{c:"w",f:"BI"},119961:{c:"x",f:"BI"},119962:{c:"y",f:"BI"},119963:{c:"z",f:"BI"},119964:{c:"A",f:"SC"},119966:{c:"C",f:"SC"},119967:{c:"D",f:"SC"},119970:{c:"G",f:"SC"},119973:{c:"J",f:"SC"},119974:{c:"K",f:"SC"},119977:{c:"N",f:"SC"},119978:{c:"O",f:"SC"},119979:{c:"P",f:"SC"},119980:{c:"Q",f:"SC"},119982:{c:"S",f:"SC"},119983:{c:"T",f:"SC"},119984:{c:"U",f:"SC"},119985:{c:"V",f:"SC"},119986:{c:"W",f:"SC"},119987:{c:"X",f:"SC"},119988:{c:"Y",f:"SC"},119989:{c:"Z",f:"SC"},120068:{c:"A",f:"FR"},120069:{c:"B",f:"FR"},120071:{c:"D",f:"FR"},120072:{c:"E",f:"FR"},120073:{c:"F",f:"FR"},120074:{c:"G",f:"FR"},120077:{c:"J",f:"FR"},120078:{c:"K",f:"FR"},120079:{c:"L",f:"FR"},120080:{c:"M",f:"FR"},120081:{c:"N",f:"FR"},120082:{c:"O",f:"FR"},120083:{c:"P",f:"FR"},120084:{c:"Q",f:"FR"},120086:{c:"S",f:"FR"},120087:{c:"T",f:"FR"},120088:{c:"U",f:"FR"},120089:{c:"V",f:"FR"},120090:{c:"W",f:"FR"},120091:{c:"X",f:"FR"},120092:{c:"Y",f:"FR"},120094:{c:"a",f:"FR"},120095:{c:"b",f:"FR"},120096:{c:"c",f:"FR"},120097:{c:"d",f:"FR"},120098:{c:"e",f:"FR"},120099:{c:"f",f:"FR"},120100:{c:"g",f:"FR"},120101:{c:"h",f:"FR"},120102:{c:"i",f:"FR"},120103:{c:"j",f:"FR"},120104:{c:"k",f:"FR"},120105:{c:"l",f:"FR"},120106:{c:"m",f:"FR"},120107:{c:"n",f:"FR"},120108:{c:"o",f:"FR"},120109:{c:"p",f:"FR"},120110:{c:"q",f:"FR"},120111:{c:"r",f:"FR"},120112:{c:"s",f:"FR"},120113:{c:"t",f:"FR"},120114:{c:"u",f:"FR"},120115:{c:"v",f:"FR"},120116:{c:"w",f:"FR"},120117:{c:"x",f:"FR"},120118:{c:"y",f:"FR"},120119:{c:"z",f:"FR"},120120:{c:"A",f:"A"},120121:{c:"B",f:"A"},120123:{c:"D",f:"A"},120124:{c:"E",f:"A"},120125:{c:"F",f:"A"},120126:{c:"G",f:"A"},120128:{c:"I",f:"A"},120129:{c:"J",f:"A"},120130:{c:"K",f:"A"},120131:{c:"L",f:"A"},120132:{c:"M",f:"A"},120134:{c:"O",f:"A"},120138:{c:"S",f:"A"},120139:{c:"T",f:"A"},120140:{c:"U",f:"A"},120141:{c:"V",f:"A"},120142:{c:"W",f:"A"},120143:{c:"X",f:"A"},120144:{c:"Y",f:"A"},120172:{c:"A",f:"FRB"},120173:{c:"B",f:"FRB"},120174:{c:"C",f:"FRB"},120175:{c:"D",f:"FRB"},120176:{c:"E",f:"FRB"},120177:{c:"F",f:"FRB"},120178:{c:"G",f:"FRB"},120179:{c:"H",f:"FRB"},120180:{c:"I",f:"FRB"},120181:{c:"J",f:"FRB"},120182:{c:"K",f:"FRB"},120183:{c:"L",f:"FRB"},120184:{c:"M",f:"FRB"},120185:{c:"N",f:"FRB"},120186:{c:"O",f:"FRB"},120187:{c:"P",f:"FRB"},120188:{c:"Q",f:"FRB"},120189:{c:"R",f:"FRB"},120190:{c:"S",f:"FRB"},120191:{c:"T",f:"FRB"},120192:{c:"U",f:"FRB"},120193:{c:"V",f:"FRB"},120194:{c:"W",f:"FRB"},120195:{c:"X",f:"FRB"},120196:{c:"Y",f:"FRB"},120197:{c:"Z",f:"FRB"},120198:{c:"a",f:"FRB"},120199:{c:"b",f:"FRB"},120200:{c:"c",f:"FRB"},120201:{c:"d",f:"FRB"},120202:{c:"e",f:"FRB"},120203:{c:"f",f:"FRB"},120204:{c:"g",f:"FRB"},120205:{c:"h",f:"FRB"},120206:{c:"i",f:"FRB"},120207:{c:"j",f:"FRB"},120208:{c:"k",f:"FRB"},120209:{c:"l",f:"FRB"},120210:{c:"m",f:"FRB"},120211:{c:"n",f:"FRB"},120212:{c:"o",f:"FRB"},120213:{c:"p",f:"FRB"},120214:{c:"q",f:"FRB"},120215:{c:"r",f:"FRB"},120216:{c:"s",f:"FRB"},120217:{c:"t",f:"FRB"},120218:{c:"u",f:"FRB"},120219:{c:"v",f:"FRB"},120220:{c:"w",f:"FRB"},120221:{c:"x",f:"FRB"},120222:{c:"y",f:"FRB"},120223:{c:"z",f:"FRB"},120224:{c:"A",f:"SS"},120225:{c:"B",f:"SS"},120226:{c:"C",f:"SS"},120227:{c:"D",f:"SS"},120228:{c:"E",f:"SS"},120229:{c:"F",f:"SS"},120230:{c:"G",f:"SS"},120231:{c:"H",f:"SS"},120232:{c:"I",f:"SS"},120233:{c:"J",f:"SS"},120234:{c:"K",f:"SS"},120235:{c:"L",f:"SS"},120236:{c:"M",f:"SS"},120237:{c:"N",f:"SS"},120238:{c:"O",f:"SS"},120239:{c:"P",f:"SS"},120240:{c:"Q",f:"SS"},120241:{c:"R",f:"SS"},120242:{c:"S",f:"SS"},120243:{c:"T",f:"SS"},120244:{c:"U",f:"SS"},120245:{c:"V",f:"SS"},120246:{c:"W",f:"SS"},120247:{c:"X",f:"SS"},120248:{c:"Y",f:"SS"},120249:{c:"Z",f:"SS"},120250:{c:"a",f:"SS"},120251:{c:"b",f:"SS"},120252:{c:"c",f:"SS"},120253:{c:"d",f:"SS"},120254:{c:"e",f:"SS"},120255:{c:"f",f:"SS"},120256:{c:"g",f:"SS"},120257:{c:"h",f:"SS"},120258:{c:"i",f:"SS"},120259:{c:"j",f:"SS"},120260:{c:"k",f:"SS"},120261:{c:"l",f:"SS"},120262:{c:"m",f:"SS"},120263:{c:"n",f:"SS"},120264:{c:"o",f:"SS"},120265:{c:"p",f:"SS"},120266:{c:"q",f:"SS"},120267:{c:"r",f:"SS"},120268:{c:"s",f:"SS"},120269:{c:"t",f:"SS"},120270:{c:"u",f:"SS"},120271:{c:"v",f:"SS"},120272:{c:"w",f:"SS"},120273:{c:"x",f:"SS"},120274:{c:"y",f:"SS"},120275:{c:"z",f:"SS"},120276:{c:"A",f:"SSB"},120277:{c:"B",f:"SSB"},120278:{c:"C",f:"SSB"},120279:{c:"D",f:"SSB"},120280:{c:"E",f:"SSB"},120281:{c:"F",f:"SSB"},120282:{c:"G",f:"SSB"},120283:{c:"H",f:"SSB"},120284:{c:"I",f:"SSB"},120285:{c:"J",f:"SSB"},120286:{c:"K",f:"SSB"},120287:{c:"L",f:"SSB"},120288:{c:"M",f:"SSB"},120289:{c:"N",f:"SSB"},120290:{c:"O",f:"SSB"},120291:{c:"P",f:"SSB"},120292:{c:"Q",f:"SSB"},120293:{c:"R",f:"SSB"},120294:{c:"S",f:"SSB"},120295:{c:"T",f:"SSB"},120296:{c:"U",f:"SSB"},120297:{c:"V",f:"SSB"},120298:{c:"W",f:"SSB"},120299:{c:"X",f:"SSB"},120300:{c:"Y",f:"SSB"},120301:{c:"Z",f:"SSB"},120302:{c:"a",f:"SSB"},120303:{c:"b",f:"SSB"},120304:{c:"c",f:"SSB"},120305:{c:"d",f:"SSB"},120306:{c:"e",f:"SSB"},120307:{c:"f",f:"SSB"},120308:{c:"g",f:"SSB"},120309:{c:"h",f:"SSB"},120310:{c:"i",f:"SSB"},120311:{c:"j",f:"SSB"},120312:{c:"k",f:"SSB"},120313:{c:"l",f:"SSB"},120314:{c:"m",f:"SSB"},120315:{c:"n",f:"SSB"},120316:{c:"o",f:"SSB"},120317:{c:"p",f:"SSB"},120318:{c:"q",f:"SSB"},120319:{c:"r",f:"SSB"},120320:{c:"s",f:"SSB"},120321:{c:"t",f:"SSB"},120322:{c:"u",f:"SSB"},120323:{c:"v",f:"SSB"},120324:{c:"w",f:"SSB"},120325:{c:"x",f:"SSB"},120326:{c:"y",f:"SSB"},120327:{c:"z",f:"SSB"},120328:{c:"A",f:"SSI"},120329:{c:"B",f:"SSI"},120330:{c:"C",f:"SSI"},120331:{c:"D",f:"SSI"},120332:{c:"E",f:"SSI"},120333:{c:"F",f:"SSI"},120334:{c:"G",f:"SSI"},120335:{c:"H",f:"SSI"},120336:{c:"I",f:"SSI"},120337:{c:"J",f:"SSI"},120338:{c:"K",f:"SSI"},120339:{c:"L",f:"SSI"},120340:{c:"M",f:"SSI"},120341:{c:"N",f:"SSI"},120342:{c:"O",f:"SSI"},120343:{c:"P",f:"SSI"},120344:{c:"Q",f:"SSI"},120345:{c:"R",f:"SSI"},120346:{c:"S",f:"SSI"},120347:{c:"T",f:"SSI"},120348:{c:"U",f:"SSI"},120349:{c:"V",f:"SSI"},120350:{c:"W",f:"SSI"},120351:{c:"X",f:"SSI"},120352:{c:"Y",f:"SSI"},120353:{c:"Z",f:"SSI"},120354:{c:"a",f:"SSI"},120355:{c:"b",f:"SSI"},120356:{c:"c",f:"SSI"},120357:{c:"d",f:"SSI"},120358:{c:"e",f:"SSI"},120359:{c:"f",f:"SSI"},120360:{c:"g",f:"SSI"},120361:{c:"h",f:"SSI"},120362:{c:"i",f:"SSI"},120363:{c:"j",f:"SSI"},120364:{c:"k",f:"SSI"},120365:{c:"l",f:"SSI"},120366:{c:"m",f:"SSI"},120367:{c:"n",f:"SSI"},120368:{c:"o",f:"SSI"},120369:{c:"p",f:"SSI"},120370:{c:"q",f:"SSI"},120371:{c:"r",f:"SSI"},120372:{c:"s",f:"SSI"},120373:{c:"t",f:"SSI"},120374:{c:"u",f:"SSI"},120375:{c:"v",f:"SSI"},120376:{c:"w",f:"SSI"},120377:{c:"x",f:"SSI"},120378:{c:"y",f:"SSI"},120379:{c:"z",f:"SSI"},120432:{c:"A",f:"T"},120433:{c:"B",f:"T"},120434:{c:"C",f:"T"},120435:{c:"D",f:"T"},120436:{c:"E",f:"T"},120437:{c:"F",f:"T"},120438:{c:"G",f:"T"},120439:{c:"H",f:"T"},120440:{c:"I",f:"T"},120441:{c:"J",f:"T"},120442:{c:"K",f:"T"},120443:{c:"L",f:"T"},120444:{c:"M",f:"T"},120445:{c:"N",f:"T"},120446:{c:"O",f:"T"},120447:{c:"P",f:"T"},120448:{c:"Q",f:"T"},120449:{c:"R",f:"T"},120450:{c:"S",f:"T"},120451:{c:"T",f:"T"},120452:{c:"U",f:"T"},120453:{c:"V",f:"T"},120454:{c:"W",f:"T"},120455:{c:"X",f:"T"},120456:{c:"Y",f:"T"},120457:{c:"Z",f:"T"},120458:{c:"a",f:"T"},120459:{c:"b",f:"T"},120460:{c:"c",f:"T"},120461:{c:"d",f:"T"},120462:{c:"e",f:"T"},120463:{c:"f",f:"T"},120464:{c:"g",f:"T"},120465:{c:"h",f:"T"},120466:{c:"i",f:"T"},120467:{c:"j",f:"T"},120468:{c:"k",f:"T"},120469:{c:"l",f:"T"},120470:{c:"m",f:"T"},120471:{c:"n",f:"T"},120472:{c:"o",f:"T"},120473:{c:"p",f:"T"},120474:{c:"q",f:"T"},120475:{c:"r",f:"T"},120476:{c:"s",f:"T"},120477:{c:"t",f:"T"},120478:{c:"u",f:"T"},120479:{c:"v",f:"T"},120480:{c:"w",f:"T"},120481:{c:"x",f:"T"},120482:{c:"y",f:"T"},120483:{c:"z",f:"T"},120488:{c:"A",f:"B"},120489:{c:"B",f:"B"},120490:{c:"\\393",f:"B"},120491:{c:"\\394",f:"B"},120492:{c:"E",f:"B"},120493:{c:"Z",f:"B"},120494:{c:"H",f:"B"},120495:{c:"\\398",f:"B"},120496:{c:"I",f:"B"},120497:{c:"K",f:"B"},120498:{c:"\\39B",f:"B"},120499:{c:"M",f:"B"},120500:{c:"N",f:"B"},120501:{c:"\\39E",f:"B"},120502:{c:"O",f:"B"},120503:{c:"\\3A0",f:"B"},120504:{c:"P",f:"B"},120506:{c:"\\3A3",f:"B"},120507:{c:"T",f:"B"},120508:{c:"\\3A5",f:"B"},120509:{c:"\\3A6",f:"B"},120510:{c:"X",f:"B"},120511:{c:"\\3A8",f:"B"},120512:{c:"\\3A9",f:"B"},120513:{c:"\\2207",f:"B"},120546:{c:"A",f:"I"},120547:{c:"B",f:"I"},120548:{c:"\\393",f:"I"},120549:{c:"\\394",f:"I"},120550:{c:"E",f:"I"},120551:{c:"Z",f:"I"},120552:{c:"H",f:"I"},120553:{c:"\\398",f:"I"},120554:{c:"I",f:"I"},120555:{c:"K",f:"I"},120556:{c:"\\39B",f:"I"},120557:{c:"M",f:"I"},120558:{c:"N",f:"I"},120559:{c:"\\39E",f:"I"},120560:{c:"O",f:"I"},120561:{c:"\\3A0",f:"I"},120562:{c:"P",f:"I"},120564:{c:"\\3A3",f:"I"},120565:{c:"T",f:"I"},120566:{c:"\\3A5",f:"I"},120567:{c:"\\3A6",f:"I"},120568:{c:"X",f:"I"},120569:{c:"\\3A8",f:"I"},120570:{c:"\\3A9",f:"I"},120572:{c:"\\3B1",f:"I"},120573:{c:"\\3B2",f:"I"},120574:{c:"\\3B3",f:"I"},120575:{c:"\\3B4",f:"I"},120576:{c:"\\3B5",f:"I"},120577:{c:"\\3B6",f:"I"},120578:{c:"\\3B7",f:"I"},120579:{c:"\\3B8",f:"I"},120580:{c:"\\3B9",f:"I"},120581:{c:"\\3BA",f:"I"},120582:{c:"\\3BB",f:"I"},120583:{c:"\\3BC",f:"I"},120584:{c:"\\3BD",f:"I"},120585:{c:"\\3BE",f:"I"},120586:{c:"\\3BF",f:"I"},120587:{c:"\\3C0",f:"I"},120588:{c:"\\3C1",f:"I"},120589:{c:"\\3C2",f:"I"},120590:{c:"\\3C3",f:"I"},120591:{c:"\\3C4",f:"I"},120592:{c:"\\3C5",f:"I"},120593:{c:"\\3C6",f:"I"},120594:{c:"\\3C7",f:"I"},120595:{c:"\\3C8",f:"I"},120596:{c:"\\3C9",f:"I"},120597:{c:"\\2202"},120598:{c:"\\3F5",f:"I"},120599:{c:"\\3D1",f:"I"},120600:{c:"\\E009",f:"A"},120601:{c:"\\3D5",f:"I"},120602:{c:"\\3F1",f:"I"},120603:{c:"\\3D6",f:"I"},120604:{c:"A",f:"BI"},120605:{c:"B",f:"BI"},120606:{c:"\\393",f:"BI"},120607:{c:"\\394",f:"BI"},120608:{c:"E",f:"BI"},120609:{c:"Z",f:"BI"},120610:{c:"H",f:"BI"},120611:{c:"\\398",f:"BI"},120612:{c:"I",f:"BI"},120613:{c:"K",f:"BI"},120614:{c:"\\39B",f:"BI"},120615:{c:"M",f:"BI"},120616:{c:"N",f:"BI"},120617:{c:"\\39E",f:"BI"},120618:{c:"O",f:"BI"},120619:{c:"\\3A0",f:"BI"},120620:{c:"P",f:"BI"},120622:{c:"\\3A3",f:"BI"},120623:{c:"T",f:"BI"},120624:{c:"\\3A5",f:"BI"},120625:{c:"\\3A6",f:"BI"},120626:{c:"X",f:"BI"},120627:{c:"\\3A8",f:"BI"},120628:{c:"\\3A9",f:"BI"},120630:{c:"\\3B1",f:"BI"},120631:{c:"\\3B2",f:"BI"},120632:{c:"\\3B3",f:"BI"},120633:{c:"\\3B4",f:"BI"},120634:{c:"\\3B5",f:"BI"},120635:{c:"\\3B6",f:"BI"},120636:{c:"\\3B7",f:"BI"},120637:{c:"\\3B8",f:"BI"},120638:{c:"\\3B9",f:"BI"},120639:{c:"\\3BA",f:"BI"},120640:{c:"\\3BB",f:"BI"},120641:{c:"\\3BC",f:"BI"},120642:{c:"\\3BD",f:"BI"},120643:{c:"\\3BE",f:"BI"},120644:{c:"\\3BF",f:"BI"},120645:{c:"\\3C0",f:"BI"},120646:{c:"\\3C1",f:"BI"},120647:{c:"\\3C2",f:"BI"},120648:{c:"\\3C3",f:"BI"},120649:{c:"\\3C4",f:"BI"},120650:{c:"\\3C5",f:"BI"},120651:{c:"\\3C6",f:"BI"},120652:{c:"\\3C7",f:"BI"},120653:{c:"\\3C8",f:"BI"},120654:{c:"\\3C9",f:"BI"},120655:{c:"\\2202",f:"B"},120656:{c:"\\3F5",f:"BI"},120657:{c:"\\3D1",f:"BI"},120658:{c:"\\E009",f:"A"},120659:{c:"\\3D5",f:"BI"},120660:{c:"\\3F1",f:"BI"},120661:{c:"\\3D6",f:"BI"},120662:{c:"A",f:"SSB"},120663:{c:"B",f:"SSB"},120664:{c:"\\393",f:"SSB"},120665:{c:"\\394",f:"SSB"},120666:{c:"E",f:"SSB"},120667:{c:"Z",f:"SSB"},120668:{c:"H",f:"SSB"},120669:{c:"\\398",f:"SSB"},120670:{c:"I",f:"SSB"},120671:{c:"K",f:"SSB"},120672:{c:"\\39B",f:"SSB"},120673:{c:"M",f:"SSB"},120674:{c:"N",f:"SSB"},120675:{c:"\\39E",f:"SSB"},120676:{c:"O",f:"SSB"},120677:{c:"\\3A0",f:"SSB"},120678:{c:"P",f:"SSB"},120680:{c:"\\3A3",f:"SSB"},120681:{c:"T",f:"SSB"},120682:{c:"\\3A5",f:"SSB"},120683:{c:"\\3A6",f:"SSB"},120684:{c:"X",f:"SSB"},120685:{c:"\\3A8",f:"SSB"},120686:{c:"\\3A9",f:"SSB"},120782:{c:"0",f:"B"},120783:{c:"1",f:"B"},120784:{c:"2",f:"B"},120785:{c:"3",f:"B"},120786:{c:"4",f:"B"},120787:{c:"5",f:"B"},120788:{c:"6",f:"B"},120789:{c:"7",f:"B"},120790:{c:"8",f:"B"},120791:{c:"9",f:"B"},120802:{c:"0",f:"SS"},120803:{c:"1",f:"SS"},120804:{c:"2",f:"SS"},120805:{c:"3",f:"SS"},120806:{c:"4",f:"SS"},120807:{c:"5",f:"SS"},120808:{c:"6",f:"SS"},120809:{c:"7",f:"SS"},120810:{c:"8",f:"SS"},120811:{c:"9",f:"SS"},120812:{c:"0",f:"SSB"},120813:{c:"1",f:"SSB"},120814:{c:"2",f:"SSB"},120815:{c:"3",f:"SSB"},120816:{c:"4",f:"SSB"},120817:{c:"5",f:"SSB"},120818:{c:"6",f:"SSB"},120819:{c:"7",f:"SSB"},120820:{c:"8",f:"SSB"},120821:{c:"9",f:"SSB"},120822:{c:"0",f:"T"},120823:{c:"1",f:"T"},120824:{c:"2",f:"T"},120825:{c:"3",f:"T"},120826:{c:"4",f:"T"},120827:{c:"5",f:"T"},120828:{c:"6",f:"T"},120829:{c:"7",f:"T"},120830:{c:"8",f:"T"},120831:{c:"9",f:"T"}})},7517:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.sansSerifBoldItalic=void 0;var M=v(8042),C=v(4886);e.sansSerifBoldItalic=(0,M.AddCSS)(C.sansSerifBoldItalic,{305:{f:"SSB"},567:{f:"SSB"}})},4182:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.sansSerifBold=void 0;var M=v(8042),C=v(4471);e.sansSerifBold=(0,M.AddCSS)(C.sansSerifBold,{8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}})},2679:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.sansSerifItalic=void 0;var M=v(8042),C=v(5181);e.sansSerifItalic=(0,M.AddCSS)(C.sansSerifItalic,{913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}})},5469:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.sansSerif=void 0;var M=v(8042),C=v(3526);e.sansSerif=(0,M.AddCSS)(C.sansSerif,{913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}})},7563:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.scriptBold=void 0;var M=v(5649);Object.defineProperty(e,"scriptBold",{enumerable:!0,get:function(){return M.scriptBold}})},9409:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.script=void 0;var M=v(7153);Object.defineProperty(e,"script",{enumerable:!0,get:function(){return M.script}})},775:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.smallop=void 0;var M=v(8042),C=v(5745);e.smallop=(0,M.AddCSS)(C.smallop,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},10072:{c:"\\2223"},10764:{c:"\\222C\\222C"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}})},9551:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.texCalligraphicBold=void 0;var M=v(8042),C=v(1411);e.texCalligraphicBold=(0,M.AddCSS)(C.texCalligraphicBold,{305:{f:"B"},567:{f:"B"}})},7907:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.texCalligraphic=void 0;var M=v(6384);Object.defineProperty(e,"texCalligraphic",{enumerable:!0,get:function(){return M.texCalligraphic}})},9659:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.texMathit=void 0;var M=v(6041);Object.defineProperty(e,"texMathit",{enumerable:!0,get:function(){return M.texMathit}})},98:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.texOldstyleBold=void 0;var M=v(8199);Object.defineProperty(e,"texOldstyleBold",{enumerable:!0,get:function(){return M.texOldstyleBold}})},6275:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.texOldstyle=void 0;var M=v(9848);Object.defineProperty(e,"texOldstyle",{enumerable:!0,get:function(){return M.texOldstyle}})},6530:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.texSize3=void 0;var M=v(8042),C=v(7906);e.texSize3=(0,M.AddCSS)(C.texSize3,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}})},4409:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.texSize4=void 0;var M=v(8042),C=v(2644);e.texSize4=(0,M.AddCSS)(C.texSize4,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},12296:{c:"\\27E8"},12297:{c:"\\27E9"},57685:{c:"\\E153\\E152"},57686:{c:"\\E151\\E150"}})},5292:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.texVariant=void 0;var M=v(8042),C=v(4926);e.texVariant=(0,M.AddCSS)(C.texVariant,{1008:{c:"\\E009"},8463:{f:""},8740:{c:"\\E006"},8742:{c:"\\E007"},8808:{c:"\\E00C"},8809:{c:"\\E00D"},8816:{c:"\\E011"},8817:{c:"\\E00E"},8840:{c:"\\E016"},8841:{c:"\\E018"},8842:{c:"\\E01A"},8843:{c:"\\E01B"},10887:{c:"\\E010"},10888:{c:"\\E00F"},10955:{c:"\\E017"},10956:{c:"\\E019"}})},5884:function(R,e,v){var M=this&&this.__assign||function(){return M=Object.assign||function(c){for(var s,a=1,o=arguments.length;a<o;a++)for(var l in s=arguments[a])Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=s[l]);return c},M.apply(this,arguments)},C=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p},x=this&&this.__spreadArray||function(c,s,a){if(a||arguments.length===2)for(var o,l=0,u=s.length;l<u;l++)!o&&l in s||(o||(o=Array.prototype.slice.call(s,0,l)),o[l]=s[l]);return c.concat(o||Array.prototype.slice.call(s))},y=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.FontData=e.NOSTRETCH=e.H=e.V=void 0;var d=v(7233);e.V=1,e.H=2,e.NOSTRETCH={dir:0};var f=function(){function c(s){var a,o,l,u;s===void 0&&(s=null),this.variant={},this.delimiters={},this.cssFontMap={},this.remapChars={},this.skewIcFactor=.75;var p=this.constructor;this.options=(0,d.userOptions)((0,d.defaultOptions)({},p.OPTIONS),s),this.params=M({},p.defaultParams),this.sizeVariants=x([],C(p.defaultSizeVariants),!1),this.stretchVariants=x([],C(p.defaultStretchVariants),!1),this.cssFontMap=M({},p.defaultCssFonts);try{for(var h=y(Object.keys(this.cssFontMap)),m=h.next();!m.done;m=h.next()){var g=m.value;this.cssFontMap[g][0]==="unknown"&&(this.cssFontMap[g][0]=this.options.unknownFamily)}}catch(A){a={error:A}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}this.cssFamilyPrefix=p.defaultCssFamilyPrefix,this.createVariants(p.defaultVariants),this.defineDelimiters(p.defaultDelimiters);try{for(var E=y(Object.keys(p.defaultChars)),S=E.next();!S.done;S=E.next()){var O=S.value;this.defineChars(O,p.defaultChars[O])}}catch(A){l={error:A}}finally{try{S&&!S.done&&(u=E.return)&&u.call(E)}finally{if(l)throw l.error}}this.defineRemap("accent",p.defaultAccentMap),this.defineRemap("mo",p.defaultMoMap),this.defineRemap("mn",p.defaultMnMap)}return c.charOptions=function(s,a){var o=s[a];return o.length===3&&(o[3]={}),o[3]},Object.defineProperty(c.prototype,"styles",{get:function(){return this._styles},set:function(s){this._styles=s},enumerable:!1,configurable:!0}),c.prototype.createVariant=function(s,a,o){a===void 0&&(a=null),o===void 0&&(o=null);var l={linked:[],chars:a?Object.create(this.variant[a].chars):{}};o&&this.variant[o]&&(Object.assign(l.chars,this.variant[o].chars),this.variant[o].linked.push(l.chars),l.chars=Object.create(l.chars)),this.remapSmpChars(l.chars,s),this.variant[s]=l},c.prototype.remapSmpChars=function(s,a){var o,l,u,p,h=this.constructor;if(h.VariantSmp[a]){var m=h.SmpRemap,g=[null,null,h.SmpRemapGreekU,h.SmpRemapGreekL];try{for(var E=y(h.SmpRanges),S=E.next();!S.done;S=E.next()){var O=C(S.value,3),A=O[0],_=O[1],T=O[2],N=h.VariantSmp[a][A];if(N){for(var w=_;w<=T;w++)if(w!==930){var L=N+w-_;s[w]=this.smpChar(m[L]||L)}if(g[A])try{for(var I=(u=void 0,y(Object.keys(g[A]).map(function(k){return parseInt(k)}))),P=I.next();!P.done;P=I.next())s[w=P.value]=this.smpChar(N+g[A][w])}catch(k){u={error:k}}finally{try{P&&!P.done&&(p=I.return)&&p.call(I)}finally{if(u)throw u.error}}}}}catch(k){o={error:k}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}}a==="bold"&&(s[988]=this.smpChar(120778),s[989]=this.smpChar(120779))},c.prototype.smpChar=function(s){return[,,,{smp:s}]},c.prototype.createVariants=function(s){var a,o;try{for(var l=y(s),u=l.next();!u.done;u=l.next()){var p=u.value;this.createVariant(p[0],p[1],p[2])}}catch(h){a={error:h}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}},c.prototype.defineChars=function(s,a){var o,l,u=this.variant[s];Object.assign(u.chars,a);try{for(var p=y(u.linked),h=p.next();!h.done;h=p.next()){var m=h.value;Object.assign(m,a)}}catch(g){o={error:g}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(o)throw o.error}}},c.prototype.defineDelimiters=function(s){Object.assign(this.delimiters,s)},c.prototype.defineRemap=function(s,a){this.remapChars.hasOwnProperty(s)||(this.remapChars[s]={}),Object.assign(this.remapChars[s],a)},c.prototype.getDelimiter=function(s){return this.delimiters[s]},c.prototype.getSizeVariant=function(s,a){return this.delimiters[s].variants&&(a=this.delimiters[s].variants[a]),this.sizeVariants[a]},c.prototype.getStretchVariant=function(s,a){return this.stretchVariants[this.delimiters[s].stretchv?this.delimiters[s].stretchv[a]:0]},c.prototype.getChar=function(s,a){return this.variant[s].chars[a]},c.prototype.getVariant=function(s){return this.variant[s]},c.prototype.getCssFont=function(s){return this.cssFontMap[s]||["serif",!1,!1]},c.prototype.getFamily=function(s){return this.cssFamilyPrefix?this.cssFamilyPrefix+", "+s:s},c.prototype.getRemappedChar=function(s,a){return(this.remapChars[s]||{})[a]},c.OPTIONS={unknownFamily:"serif"},c.JAX="common",c.NAME="",c.defaultVariants=[["normal"],["bold","normal"],["italic","normal"],["bold-italic","italic","bold"],["double-struck","bold"],["fraktur","normal"],["bold-fraktur","bold","fraktur"],["script","italic"],["bold-script","bold-italic","script"],["sans-serif","normal"],["bold-sans-serif","bold","sans-serif"],["sans-serif-italic","italic","sans-serif"],["sans-serif-bold-italic","bold-italic","bold-sans-serif"],["monospace","normal"]],c.defaultCssFonts={normal:["unknown",!1,!1],bold:["unknown",!1,!0],italic:["unknown",!0,!1],"bold-italic":["unknown",!0,!0],"double-struck":["unknown",!1,!0],fraktur:["unknown",!1,!1],"bold-fraktur":["unknown",!1,!0],script:["cursive",!1,!1],"bold-script":["cursive",!1,!0],"sans-serif":["sans-serif",!1,!1],"bold-sans-serif":["sans-serif",!1,!0],"sans-serif-italic":["sans-serif",!0,!1],"sans-serif-bold-italic":["sans-serif",!0,!0],monospace:["monospace",!1,!1]},c.defaultCssFamilyPrefix="",c.VariantSmp={bold:[119808,119834,120488,120514,120782],italic:[119860,119886,120546,120572],"bold-italic":[119912,119938,120604,120630],script:[119964,119990],"bold-script":[120016,120042],fraktur:[120068,120094],"double-struck":[120120,120146,,,120792],"bold-fraktur":[120172,120198],"sans-serif":[120224,120250,,,120802],"bold-sans-serif":[120276,120302,120662,120688,120812],"sans-serif-italic":[120328,120354],"sans-serif-bold-italic":[120380,120406,120720,120746],monospace:[120432,120458,,,120822]},c.SmpRanges=[[0,65,90],[1,97,122],[2,913,937],[3,945,969],[4,48,57]],c.SmpRemap={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},c.SmpRemapGreekU={8711:25,1012:17},c.SmpRemapGreekL={977:27,981:29,982:31,1008:28,1009:30,1013:26,8706:25},c.defaultAccentMap={768:"",769:"",770:"",771:"",772:"",774:"",775:"",776:"",778:"",780:"",8594:"",8242:"'",8243:"''",8244:"'''",8245:"`",8246:"``",8247:"```",8279:"''''",8400:"",8401:"",8406:"",8417:"",8432:"*",8411:"...",8412:"....",8428:"",8429:"",8430:"",8431:""},c.defaultMoMap={45:""},c.defaultMnMap={45:""},c.defaultParams={x_height:.442,quad:1,num1:.676,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,sup_drop:.386,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111,big_op_spacing2:.167,big_op_spacing3:.2,big_op_spacing4:.6,big_op_spacing5:.1,surd_height:.075,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,min_rule_thickness:1.25,separation_factor:1.75,extra_ic:.033},c.defaultDelimiters={},c.defaultChars={},c.defaultSizeVariants=[],c.defaultStretchVariants=[],c}();e.FontData=f},5552:function(R,e){var v=this&&this.__read||function(M,C){var x=typeof Symbol=="function"&&M[Symbol.iterator];if(!x)return M;var y,d,f=x.call(M),c=[];try{for(;(C===void 0||C-- >0)&&!(y=f.next()).done;)c.push(y.value)}catch(s){d={error:s}}finally{try{y&&!y.done&&(x=f.return)&&x.call(f)}finally{if(d)throw d.error}}return c};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonArrow=e.CommonDiagonalArrow=e.CommonDiagonalStrike=e.CommonBorder2=e.CommonBorder=e.arrowBBox=e.diagonalArrowDef=e.arrowDef=e.arrowBBoxW=e.arrowBBoxHD=e.arrowHead=e.fullBorder=e.fullPadding=e.fullBBox=e.sideNames=e.sideIndex=e.SOLID=e.PADDING=e.THICKNESS=e.ARROWY=e.ARROWDX=e.ARROWX=void 0,e.ARROWX=4,e.ARROWDX=1,e.ARROWY=2,e.THICKNESS=.067,e.PADDING=.2,e.SOLID=e.THICKNESS+"em solid",e.sideIndex={top:0,right:1,bottom:2,left:3},e.sideNames=Object.keys(e.sideIndex),e.fullBBox=function(M){return new Array(4).fill(M.thickness+M.padding)},e.fullPadding=function(M){return new Array(4).fill(M.padding)},e.fullBorder=function(M){return new Array(4).fill(M.thickness)},e.arrowHead=function(M){return Math.max(M.padding,M.thickness*(M.arrowhead.x+M.arrowhead.dx+1))},e.arrowBBoxHD=function(M,C){if(M.childNodes[0]){var x=M.childNodes[0].getBBox(),y=x.h,d=x.d;C[0]=C[2]=Math.max(0,M.thickness*M.arrowhead.y-(y+d)/2)}return C},e.arrowBBoxW=function(M,C){if(M.childNodes[0]){var x=M.childNodes[0].getBBox().w;C[1]=C[3]=Math.max(0,M.thickness*M.arrowhead.y-x/2)}return C},e.arrowDef={up:[-Math.PI/2,!1,!0,"verticalstrike"],down:[Math.PI/2,!1,!0,"verticakstrike"],right:[0,!1,!1,"horizontalstrike"],left:[Math.PI,!1,!1,"horizontalstrike"],updown:[Math.PI/2,!0,!0,"verticalstrike uparrow downarrow"],leftright:[0,!0,!1,"horizontalstrike leftarrow rightarrow"]},e.diagonalArrowDef={updiagonal:[-1,0,!1,"updiagonalstrike northeastarrow"],northeast:[-1,0,!1,"updiagonalstrike updiagonalarrow"],southeast:[1,0,!1,"downdiagonalstrike"],northwest:[1,Math.PI,!1,"downdiagonalstrike"],southwest:[-1,Math.PI,!1,"updiagonalstrike"],northeastsouthwest:[-1,0,!0,"updiagonalstrike northeastarrow updiagonalarrow southwestarrow"],northwestsoutheast:[1,0,!0,"downdiagonalstrike northwestarrow southeastarrow"]},e.arrowBBox={up:function(M){return(0,e.arrowBBoxW)(M,[(0,e.arrowHead)(M),0,M.padding,0])},down:function(M){return(0,e.arrowBBoxW)(M,[M.padding,0,(0,e.arrowHead)(M),0])},right:function(M){return(0,e.arrowBBoxHD)(M,[0,(0,e.arrowHead)(M),0,M.padding])},left:function(M){return(0,e.arrowBBoxHD)(M,[0,M.padding,0,(0,e.arrowHead)(M)])},updown:function(M){return(0,e.arrowBBoxW)(M,[(0,e.arrowHead)(M),0,(0,e.arrowHead)(M),0])},leftright:function(M){return(0,e.arrowBBoxHD)(M,[0,(0,e.arrowHead)(M),0,(0,e.arrowHead)(M)])}},e.CommonBorder=function(M){return function(C){var x=e.sideIndex[C];return[C,{renderer:M,bbox:function(y){var d=[0,0,0,0];return d[x]=y.thickness+y.padding,d},border:function(y){var d=[0,0,0,0];return d[x]=y.thickness,d}}]}},e.CommonBorder2=function(M){return function(C,x,y){var d=e.sideIndex[x],f=e.sideIndex[y];return[C,{renderer:M,bbox:function(c){var s=c.thickness+c.padding,a=[0,0,0,0];return a[d]=a[f]=s,a},border:function(c){var s=[0,0,0,0];return s[d]=s[f]=c.thickness,s},remove:x+" "+y}]}},e.CommonDiagonalStrike=function(M){return function(C){var x="mjx-"+C.charAt(0)+"strike";return[C+"diagonalstrike",{renderer:M(x),bbox:e.fullBBox}]}},e.CommonDiagonalArrow=function(M){return function(C){var x=v(e.diagonalArrowDef[C],4),y=x[0],d=x[1],f=x[2];return[C+"arrow",{renderer:function(c,s){var a=v(c.arrowAW(),2),o=a[0],l=a[1],u=c.arrow(l,y*(o-d),f);M(c,u)},bbox:function(c){var s=c.arrowData(),a=s.a,o=s.x,l=s.y,u=v([c.arrowhead.x,c.arrowhead.y,c.arrowhead.dx],3),p=u[0],h=u[1],m=u[2],g=v(c.getArgMod(p+m,h),2),E=g[0],S=g[1],O=l+(E>a?c.thickness*S*Math.sin(E-a):0),A=o+(E>Math.PI/2-a?c.thickness*S*Math.sin(E+a-Math.PI/2):0);return[O,A,O,A]},remove:x[3]}]}},e.CommonArrow=function(M){return function(C){var x=v(e.arrowDef[C],4),y=x[0],d=x[1],f=x[2],c=x[3];return[C+"arrow",{renderer:function(s,a){var o=s.getBBox(),l=o.w,u=o.h,p=o.d,h=v(f?[u+p,"X"]:[l,"Y"],2),m=h[0],g=h[1],E=s.getOffset(g),S=s.arrow(m,y,d,g,E);M(s,S)},bbox:e.arrowBBox[C],remove:c}]}}},3055:function(R,e,v){var M,C=this&&this.__extends||(M=function(p,h){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])},M(p,h)},function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function m(){this.constructor=p}M(p,h),p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}),x=this&&this.__assign||function(){return x=Object.assign||function(p){for(var h,m=1,g=arguments.length;m<g;m++)for(var E in h=arguments[m])Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E]);return p},x.apply(this,arguments)},y=this&&this.__read||function(p,h){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var g,E,S=m.call(p),O=[];try{for(;(h===void 0||h-- >0)&&!(g=S.next()).done;)O.push(g.value)}catch(A){E={error:A}}finally{try{g&&!g.done&&(m=S.return)&&m.call(S)}finally{if(E)throw E.error}}return O},d=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonOutputJax=void 0;var f=v(2975),c=v(4474),s=v(7233),a=v(6010),o=v(8054),l=v(4139),u=function(p){function h(m,g,E){m===void 0&&(m=null),g===void 0&&(g=null),E===void 0&&(E=null);var S=this,O=y((0,s.separateOptions)(m,E.OPTIONS),2),A=O[0],_=O[1];return(S=p.call(this,A)||this).factory=S.options.wrapperFactory||new g,S.factory.jax=S,S.cssStyles=S.options.cssStyles||new l.CssStyles,S.font=S.options.font||new E(_),S.unknownCache=new Map,S}return C(h,p),h.prototype.typeset=function(m,g){this.setDocument(g);var E=this.createNode();return this.toDOM(m,E,g),E},h.prototype.createNode=function(){var m=this.constructor.NAME;return this.html("mjx-container",{class:"MathJax",jax:m})},h.prototype.setScale=function(m){var g=this.math.metrics.scale*this.options.scale;g!==1&&this.adaptor.setStyle(m,"fontSize",(0,a.percent)(g))},h.prototype.toDOM=function(m,g,E){E===void 0&&(E=null),this.setDocument(E),this.math=m,this.pxPerEm=m.metrics.ex/this.font.params.x_height,m.root.setTeXclass(null),this.setScale(g),this.nodeMap=new Map,this.container=g,this.processMath(m.root,g),this.nodeMap=null,this.executeFilters(this.postFilters,m,E,g)},h.prototype.getBBox=function(m,g){this.setDocument(g),this.math=m,m.root.setTeXclass(null),this.nodeMap=new Map;var E=this.factory.wrap(m.root).getOuterBBox();return this.nodeMap=null,E},h.prototype.getMetrics=function(m){var g,E;this.setDocument(m);var S=this.adaptor,O=this.getMetricMaps(m);try{for(var A=d(m.math),_=A.next();!_.done;_=A.next()){var T=_.value,N=S.parent(T.start.node);if(T.state()<c.STATE.METRICS&&N){var w=O[T.display?1:0].get(N),L=w.em,I=w.ex,P=w.containerWidth,k=w.lineWidth,B=w.scale,F=w.family;T.setMetrics(L,I,P,k,B),this.options.mtextInheritFont&&(T.outputData.mtextFamily=F),this.options.merrorInheritFont&&(T.outputData.merrorFamily=F),T.state(c.STATE.METRICS)}}}catch(H){g={error:H}}finally{try{_&&!_.done&&(E=A.return)&&E.call(A)}finally{if(g)throw g.error}}},h.prototype.getMetricsFor=function(m,g){var E=this.options.mtextInheritFont||this.options.merrorInheritFont,S=this.getTestElement(m,g),O=this.measureMetrics(S,E);return this.adaptor.remove(S),O},h.prototype.getMetricMaps=function(m){var g,E,S,O,A,_,T,N,w,L,I=this.adaptor,P=[new Map,new Map];try{for(var k=d(m.math),B=k.next();!B.done;B=k.next()){var F=B.value;if((D=I.parent(F.start.node))&&F.state()<c.STATE.METRICS){var H=P[F.display?1:0];H.has(D)||H.set(D,this.getTestElement(D,F.display))}}}catch(Y){g={error:Y}}finally{try{B&&!B.done&&(E=k.return)&&E.call(k)}finally{if(g)throw g.error}}var j=this.options.mtextInheritFont||this.options.merrorInheritFont,U=[new Map,new Map];try{for(var z=d(U.keys()),K=z.next();!K.done;K=z.next()){var W=K.value;try{for(var q=(A=void 0,d(P[W].keys())),X=q.next();!X.done;X=q.next()){var D=X.value;U[W].set(D,this.measureMetrics(P[W].get(D),j))}}catch(Y){A={error:Y}}finally{try{X&&!X.done&&(_=q.return)&&_.call(q)}finally{if(A)throw A.error}}}}catch(Y){S={error:Y}}finally{try{K&&!K.done&&(O=z.return)&&O.call(z)}finally{if(S)throw S.error}}try{for(var V=d(U.keys()),G=V.next();!G.done;G=V.next()){W=G.value;try{for(var J=(w=void 0,d(P[W].values())),$=J.next();!$.done;$=J.next())D=$.value,I.remove(D)}catch(Y){w={error:Y}}finally{try{$&&!$.done&&(L=J.return)&&L.call(J)}finally{if(w)throw w.error}}}}catch(Y){T={error:Y}}finally{try{G&&!G.done&&(N=V.return)&&N.call(V)}finally{if(T)throw T.error}}return U},h.prototype.getTestElement=function(m,g){var E=this.adaptor;if(!this.testInline){this.testInline=this.html("mjx-test",{style:{display:"inline-block",width:"100%","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px","margin-right":"-1px"}},[this.html("mjx-left-box",{style:{display:"inline-block",width:0,float:"left"}}),this.html("mjx-ex-box",{style:{position:"absolute",overflow:"hidden",width:"1px",height:"60ex"}}),this.html("mjx-right-box",{style:{display:"inline-block",width:0,float:"right"}})]),this.testDisplay=E.clone(this.testInline),E.setStyle(this.testDisplay,"display","table"),E.setStyle(this.testDisplay,"margin-right",""),E.setStyle(E.firstChild(this.testDisplay),"display","none");var S=E.lastChild(this.testDisplay);E.setStyle(S,"display","table-cell"),E.setStyle(S,"width","10000em"),E.setStyle(S,"float","")}return E.append(m,E.clone(g?this.testDisplay:this.testInline))},h.prototype.measureMetrics=function(m,g){var E=this.adaptor,S=g?E.fontFamily(m):"",O=E.fontSize(m),A=y(E.nodeSize(E.childNode(m,1)),2),_=A[0],T=A[1],N=_?T/60:O*this.options.exFactor;return{em:O,ex:N,containerWidth:_?E.getStyle(m,"display")==="table"?E.nodeSize(E.lastChild(m))[0]-1:E.nodeBBox(E.lastChild(m)).left-E.nodeBBox(E.firstChild(m)).left-2:1e6,lineWidth:1e6,scale:Math.max(this.options.minScale,this.options.matchFontHeight?N/this.font.params.x_height/O:1),family:S}},h.prototype.styleSheet=function(m){var g,E;if(this.setDocument(m),this.cssStyles.clear(),this.cssStyles.addStyles(this.constructor.commonStyles),"getStyles"in m)try{for(var S=d(m.getStyles()),O=S.next();!O.done;O=S.next()){var A=O.value;this.cssStyles.addStyles(A)}}catch(_){g={error:_}}finally{try{O&&!O.done&&(E=S.return)&&E.call(S)}finally{if(g)throw g.error}}return this.addWrapperStyles(this.cssStyles),this.addFontStyles(this.cssStyles),this.html("style",{id:"MJX-styles"},[this.text(`
`+this.cssStyles.cssText+`
`)])},h.prototype.addFontStyles=function(m){m.addStyles(this.font.styles)},h.prototype.addWrapperStyles=function(m){var g,E;try{for(var S=d(this.factory.getKinds()),O=S.next();!O.done;O=S.next()){var A=O.value;this.addClassStyles(this.factory.getNodeClass(A),m)}}catch(_){g={error:_}}finally{try{O&&!O.done&&(E=S.return)&&E.call(S)}finally{if(g)throw g.error}}},h.prototype.addClassStyles=function(m,g){g.addStyles(m.styles)},h.prototype.setDocument=function(m){m&&(this.document=m,this.adaptor.document=m.document)},h.prototype.html=function(m,g,E,S){return g===void 0&&(g={}),E===void 0&&(E=[]),this.adaptor.node(m,g,E,S)},h.prototype.text=function(m){return this.adaptor.text(m)},h.prototype.fixed=function(m,g){return g===void 0&&(g=3),Math.abs(m)<6e-4?"0":m.toFixed(g).replace(/\.?0+$/,"")},h.prototype.measureText=function(m,g,E){E===void 0&&(E=["",!1,!1]);var S=this.unknownText(m,g);if(g==="-explicitFont"){var O=this.cssFontStyles(E);this.adaptor.setAttributes(S,{style:O})}return this.measureTextNodeWithCache(S,m,g,E)},h.prototype.measureTextNodeWithCache=function(m,g,E,S){S===void 0&&(S=["",!1,!1]),E==="-explicitFont"&&(E=[S[0],S[1]?"T":"F",S[2]?"T":"F",""].join("-")),this.unknownCache.has(E)||this.unknownCache.set(E,new Map);var O=this.unknownCache.get(E),A=O.get(g);if(A)return A;var _=this.measureTextNode(m);return O.set(g,_),_},h.prototype.measureXMLnode=function(m){var g=this.adaptor,E=this.html("mjx-xml-block",{style:{display:"inline-block"}},[g.clone(m)]),S=this.html("mjx-baseline",{style:{display:"inline-block",width:0,height:0}}),O=this.html("mjx-measure-xml",{style:{position:"absolute",display:"inline-block","font-family":"initial","line-height":"normal"}},[S,E]);g.append(g.parent(this.math.start.node),this.container),g.append(this.container,O);var A=this.math.metrics.em*this.math.metrics.scale,_=g.nodeBBox(E),T=_.left,N=_.right,w=_.bottom,L=_.top,I=(N-T)/A,P=(g.nodeBBox(S).top-L)/A,k=(w-L)/A-P;return g.remove(this.container),g.remove(O),{w:I,h:P,d:k}},h.prototype.cssFontStyles=function(m,g){g===void 0&&(g={});var E=y(m,3),S=E[0],O=E[1],A=E[2];return g["font-family"]=this.font.getFamily(S),O&&(g["font-style"]="italic"),A&&(g["font-weight"]="bold"),g},h.prototype.getFontData=function(m){return m||(m=new o.Styles),[this.font.getFamily(m.get("font-family")),m.get("font-style")==="italic",m.get("font-weight")==="bold"]},h.NAME="Common",h.OPTIONS=x(x({},f.AbstractOutputJax.OPTIONS),{scale:1,minScale:.5,mtextInheritFont:!1,merrorInheritFont:!1,mtextFont:"",merrorFont:"serif",mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:"center",displayIndent:"0",wrapperFactory:null,font:null,cssStyles:null}),h.commonStyles={},h}(f.AbstractOutputJax);e.CommonOutputJax=u},7519:function(R,e,v){var M,C=this&&this.__extends||(M=function(O,A){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,T){_.__proto__=T}||function(_,T){for(var N in T)Object.prototype.hasOwnProperty.call(T,N)&&(_[N]=T[N])},M(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function _(){this.constructor=O}M(O,A),O.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)}),x=this&&this.__createBinding||(Object.create?function(O,A,_,T){T===void 0&&(T=_);var N=Object.getOwnPropertyDescriptor(A,_);N&&!("get"in N?!A.__esModule:N.writable||N.configurable)||(N={enumerable:!0,get:function(){return A[_]}}),Object.defineProperty(O,T,N)}:function(O,A,_,T){T===void 0&&(T=_),O[T]=A[_]}),y=this&&this.__setModuleDefault||(Object.create?function(O,A){Object.defineProperty(O,"default",{enumerable:!0,value:A})}:function(O,A){O.default=A}),d=this&&this.__importStar||function(O){if(O&&O.__esModule)return O;var A={};if(O!=null)for(var _ in O)_!=="default"&&Object.prototype.hasOwnProperty.call(O,_)&&x(A,O,_);return y(A,O),A},f=this&&this.__values||function(O){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&O[A],T=0;if(_)return _.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&T>=O.length&&(O=void 0),{value:O&&O[T++],done:!O}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(O,A){var _=typeof Symbol=="function"&&O[Symbol.iterator];if(!_)return O;var T,N,w=_.call(O),L=[];try{for(;(A===void 0||A-- >0)&&!(T=w.next()).done;)L.push(T.value)}catch(I){N={error:I}}finally{try{T&&!T.done&&(_=w.return)&&_.call(w)}finally{if(N)throw N.error}}return L},s=this&&this.__spreadArray||function(O,A,_){if(_||arguments.length===2)for(var T,N=0,w=A.length;N<w;N++)!T&&N in A||(T||(T=Array.prototype.slice.call(A,0,N)),T[N]=A[N]);return O.concat(T||Array.prototype.slice.call(A))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonWrapper=void 0;var a=v(8912),o=v(9007),l=v(505),u=d(v(6010)),p=v(8054),h=v(6469),m=v(5884),g=2/18;function E(O,A){return O?A<g?0:g:A}var S=function(O){function A(_,T,N){N===void 0&&(N=null);var w=O.call(this,_,T)||this;return w.parent=null,w.removedStyles=null,w.styles=null,w.variant="",w.bboxComputed=!1,w.stretch=m.NOSTRETCH,w.font=null,w.parent=N,w.font=_.jax.font,w.bbox=h.BBox.zero(),w.getStyles(),w.getVariant(),w.getScale(),w.getSpace(),w.childNodes=T.childNodes.map(function(L){var I=w.wrap(L);return I.bbox.pwidth&&(T.notParent||T.isKind("math"))&&(w.bbox.pwidth=h.BBox.fullWidth),I}),w}return C(A,O),Object.defineProperty(A.prototype,"jax",{get:function(){return this.factory.jax},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"adaptor",{get:function(){return this.factory.jax.adaptor},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"metrics",{get:function(){return this.factory.jax.math.metrics},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"fixesPWidth",{get:function(){return!this.node.notParent&&!this.node.isToken},enumerable:!1,configurable:!0}),A.prototype.wrap=function(_,T){T===void 0&&(T=null);var N=this.factory.wrap(_,T||this);return T&&T.childNodes.push(N),this.jax.nodeMap.set(_,N),N},A.prototype.getBBox=function(_){if(_===void 0&&(_=!0),this.bboxComputed)return this.bbox;var T=_?this.bbox:h.BBox.zero();return this.computeBBox(T),this.bboxComputed=_,T},A.prototype.getOuterBBox=function(_){var T,N;_===void 0&&(_=!0);var w=this.getBBox(_);if(!this.styles)return w;var L=new h.BBox;Object.assign(L,w);try{for(var I=f(h.BBox.StyleAdjust),P=I.next();!P.done;P=I.next()){var k=c(P.value,2),B=k[0],F=k[1],H=this.styles.get(B);H&&(L[F]+=this.length2em(H,1,L.rscale))}}catch(j){T={error:j}}finally{try{P&&!P.done&&(N=I.return)&&N.call(I)}finally{if(T)throw T.error}}return L},A.prototype.computeBBox=function(_,T){var N,w;T===void 0&&(T=!1),_.empty();try{for(var L=f(this.childNodes),I=L.next();!I.done;I=L.next()){var P=I.value;_.append(P.getOuterBBox())}}catch(k){N={error:k}}finally{try{I&&!I.done&&(w=L.return)&&w.call(L)}finally{if(N)throw N.error}}_.clean(),this.fixesPWidth&&this.setChildPWidths(T)&&this.computeBBox(_,!0)},A.prototype.setChildPWidths=function(_,T,N){var w,L;if(T===void 0&&(T=null),N===void 0&&(N=!0),_)return!1;N&&(this.bbox.pwidth="");var I=!1;try{for(var P=f(this.childNodes),k=P.next();!k.done;k=P.next()){var B=k.value,F=B.getOuterBBox();F.pwidth&&B.setChildPWidths(_,T===null?F.w:T,N)&&(I=!0)}}catch(H){w={error:H}}finally{try{k&&!k.done&&(L=P.return)&&L.call(P)}finally{if(w)throw w.error}}return I},A.prototype.invalidateBBox=function(){this.bboxComputed&&(this.bboxComputed=!1,this.parent&&this.parent.invalidateBBox())},A.prototype.copySkewIC=function(_){var T=this.childNodes[0];T!=null&&T.bbox.sk&&(_.sk=T.bbox.sk),T!=null&&T.bbox.dx&&(_.dx=T.bbox.dx);var N=this.childNodes[this.childNodes.length-1];N!=null&&N.bbox.ic&&(_.ic=N.bbox.ic,_.w+=_.ic)},A.prototype.getStyles=function(){var _=this.node.attributes.getExplicit("style");if(_)for(var T=this.styles=new p.Styles(_),N=0,w=A.removeStyles.length;N<w;N++){var L=A.removeStyles[N];T.get(L)&&(this.removedStyles||(this.removedStyles={}),this.removedStyles[L]=T.get(L),T.set(L,""))}},A.prototype.getVariant=function(){if(this.node.isToken){var _=this.node.attributes,T=_.get("mathvariant");if(!_.getExplicit("mathvariant")){var N=_.getList("fontfamily","fontweight","fontstyle");if(this.removedStyles){var w=this.removedStyles;w.fontFamily&&(N.family=w.fontFamily),w.fontWeight&&(N.weight=w.fontWeight),w.fontStyle&&(N.style=w.fontStyle)}N.fontfamily&&(N.family=N.fontfamily),N.fontweight&&(N.weight=N.fontweight),N.fontstyle&&(N.style=N.fontstyle),N.weight&&N.weight.match(/^\d+$/)&&(N.weight=parseInt(N.weight)>600?"bold":"normal"),N.family?T=this.explicitVariant(N.family,N.weight,N.style):(this.node.getProperty("variantForm")&&(T="-tex-variant"),T=(A.BOLDVARIANTS[N.weight]||{})[T]||T,T=(A.ITALICVARIANTS[N.style]||{})[T]||T)}this.variant=T}},A.prototype.explicitVariant=function(_,T,N){var w=this.styles;return w||(w=this.styles=new p.Styles),w.set("fontFamily",_),T&&w.set("fontWeight",T),N&&w.set("fontStyle",N),"-explicitFont"},A.prototype.getScale=function(){var _=1,T=this.parent,N=T?T.bbox.scale:1,w=this.node.attributes,L=Math.min(w.get("scriptlevel"),2),I=w.get("fontsize"),P=this.node.isToken||this.node.isKind("mstyle")?w.get("mathsize"):w.getInherited("mathsize");if(L!==0){_=Math.pow(w.get("scriptsizemultiplier"),L);var k=this.length2em(w.get("scriptminsize"),.8,1);_<k&&(_=k)}this.removedStyles&&this.removedStyles.fontSize&&!I&&(I=this.removedStyles.fontSize),I&&!w.getExplicit("mathsize")&&(P=I),P!=="1"&&(_*=this.length2em(P,1,1)),this.bbox.scale=_,this.bbox.rscale=_/N},A.prototype.getSpace=function(){var _=this.isTopEmbellished(),T=this.node.hasSpacingAttributes();this.jax.options.mathmlSpacing||T?_&&this.getMathMLSpacing():this.getTeXSpacing(_,T)},A.prototype.getMathMLSpacing=function(){var _=this.node.coreMO(),T=_.coreParent(),N=T.parent;if(N&&N.isKind("mrow")&&N.childNodes.length!==1){var w=_.attributes,L=w.get("scriptlevel")>0;this.bbox.L=w.isSet("lspace")?Math.max(0,this.length2em(w.get("lspace"))):E(L,_.lspace),this.bbox.R=w.isSet("rspace")?Math.max(0,this.length2em(w.get("rspace"))):E(L,_.rspace);var I=N.childIndex(T);if(I!==0){var P=N.childNodes[I-1];if(P.isEmbellished){var k=this.jax.nodeMap.get(P).getBBox();k.R&&(this.bbox.L=Math.max(0,this.bbox.L-k.R))}}}},A.prototype.getTeXSpacing=function(_,T){if(!T){var N=this.node.texSpacing();N&&(this.bbox.L=this.length2em(N))}if(_||T){var w=this.node.coreMO().attributes;w.isSet("lspace")&&(this.bbox.L=Math.max(0,this.length2em(w.get("lspace")))),w.isSet("rspace")&&(this.bbox.R=Math.max(0,this.length2em(w.get("rspace"))))}},A.prototype.isTopEmbellished=function(){return this.node.isEmbellished&&!(this.node.parent&&this.node.parent.isEmbellished)},A.prototype.core=function(){return this.jax.nodeMap.get(this.node.core())},A.prototype.coreMO=function(){return this.jax.nodeMap.get(this.node.coreMO())},A.prototype.getText=function(){var _,T,N="";if(this.node.isToken)try{for(var w=f(this.node.childNodes),L=w.next();!L.done;L=w.next()){var I=L.value;I instanceof o.TextNode&&(N+=I.getText())}}catch(P){_={error:P}}finally{try{L&&!L.done&&(T=w.return)&&T.call(w)}finally{if(_)throw _.error}}return N},A.prototype.canStretch=function(_){if(this.stretch=m.NOSTRETCH,this.node.isEmbellished){var T=this.core();T&&T.node!==this.node&&T.canStretch(_)&&(this.stretch=T.stretch)}return this.stretch.dir!==0},A.prototype.getAlignShift=function(){var _,T=(_=this.node.attributes).getList.apply(_,s([],c(o.indentAttributes),!1)),N=T.indentalign,w=T.indentshift,L=T.indentalignfirst,I=T.indentshiftfirst;return L!=="indentalign"&&(N=L),N==="auto"&&(N=this.jax.options.displayAlign),I!=="indentshift"&&(w=I),w==="auto"&&(w=this.jax.options.displayIndent,N!=="right"||w.match(/^\s*0[a-z]*\s*$/)||(w=("-"+w.trim()).replace(/^--/,""))),[N,this.length2em(w,this.metrics.containerWidth)]},A.prototype.getAlignX=function(_,T,N){return N==="right"?_-(T.w+T.R)*T.rscale:N==="left"?T.L*T.rscale:(_-T.w*T.rscale)/2},A.prototype.getAlignY=function(_,T,N,w,L){return L==="top"?_-N:L==="bottom"?w-T:L==="center"?(_-N-(T-w))/2:0},A.prototype.getWrapWidth=function(_){return this.childNodes[_].getBBox().w},A.prototype.getChildAlign=function(_){return"left"},A.prototype.percent=function(_){return u.percent(_)},A.prototype.em=function(_){return u.em(_)},A.prototype.px=function(_,T){return T===void 0&&(T=-u.BIGDIMEN),u.px(_,T,this.metrics.em)},A.prototype.length2em=function(_,T,N){return T===void 0&&(T=1),N===void 0&&(N=null),N===null&&(N=this.bbox.scale),u.length2em(_,T,N,this.jax.pxPerEm)},A.prototype.unicodeChars=function(_,T){T===void 0&&(T=this.variant);var N=(0,l.unicodeChars)(_),w=this.font.getVariant(T);if(w&&w.chars){var L=w.chars;N=N.map(function(I){return((L[I]||[])[3]||{}).smp||I})}return N},A.prototype.remapChars=function(_){return _},A.prototype.mmlText=function(_){return this.node.factory.create("text").setText(_)},A.prototype.mmlNode=function(_,T,N){return T===void 0&&(T={}),N===void 0&&(N=[]),this.node.factory.create(_,T,N)},A.prototype.createMo=function(_){var T=this.node.factory,N=T.create("text").setText(_),w=T.create("mo",{stretchy:!0},[N]);w.inheritAttributesFrom(this.node);var L=this.wrap(w);return L.parent=this,L},A.prototype.getVariantChar=function(_,T){var N=this.font.getChar(_,T)||[0,0,0,{unknown:!0}];return N.length===3&&(N[3]={}),N},A.kind="unknown",A.styles={},A.removeStyles=["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"],A.skipAttributes={fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,class:!0,href:!0,style:!0,xmlns:!0},A.BOLDVARIANTS={bold:{normal:"bold",italic:"bold-italic",fraktur:"bold-fraktur",script:"bold-script","sans-serif":"bold-sans-serif","sans-serif-italic":"sans-serif-bold-italic"},normal:{bold:"normal","bold-italic":"italic","bold-fraktur":"fraktur","bold-script":"script","bold-sans-serif":"sans-serif","sans-serif-bold-italic":"sans-serif-italic"}},A.ITALICVARIANTS={italic:{normal:"italic",bold:"bold-italic","sans-serif":"sans-serif-italic","bold-sans-serif":"sans-serif-bold-italic"},normal:{italic:"normal","bold-italic":"bold","sans-serif-italic":"sans-serif","sans-serif-bold-italic":"bold-sans-serif"}},A}(a.AbstractWrapper);e.CommonWrapper=S},4420:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},M(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonWrapperFactory=void 0;var x=function(y){function d(){var f=y!==null&&y.apply(this,arguments)||this;return f.jax=null,f}return C(d,y),Object.defineProperty(d.prototype,"Wrappers",{get:function(){return this.node},enumerable:!1,configurable:!0}),d.defaultNodes={},d}(v(3811).AbstractWrapperFactory);e.CommonWrapperFactory=x},9800:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},M(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTeXAtomMixin=void 0;var x=v(9007);e.CommonTeXAtomMixin=function(y){return function(d){function f(){return d!==null&&d.apply(this,arguments)||this}return C(f,d),f.prototype.computeBBox=function(c,s){if(s===void 0&&(s=!1),d.prototype.computeBBox.call(this,c,s),this.childNodes[0]&&this.childNodes[0].bbox.ic&&(c.ic=this.childNodes[0].bbox.ic),this.node.texClass===x.TEXCLASS.VCENTER){var a=c.h,o=(a+c.d)/2+this.font.params.axis_height-a;c.h+=o,c.d-=o}},f}(y)}},1160:function(R,e){var v,M=this&&this.__extends||(v=function(y,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},v(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}v(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}),C=this&&this.__values||function(y){var d=typeof Symbol=="function"&&Symbol.iterator,f=d&&y[d],c=0;if(f)return f.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&c>=y.length&&(y=void 0),{value:y&&y[c++],done:!y}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},x=this&&this.__read||function(y,d){var f=typeof Symbol=="function"&&y[Symbol.iterator];if(!f)return y;var c,s,a=f.call(y),o=[];try{for(;(d===void 0||d-- >0)&&!(c=a.next()).done;)o.push(c.value)}catch(l){s={error:l}}finally{try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(s)throw s.error}}return o};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTextNodeMixin=void 0,e.CommonTextNodeMixin=function(y){return function(d){function f(){return d!==null&&d.apply(this,arguments)||this}return M(f,d),f.prototype.computeBBox=function(c,s){var a,o,l=this.parent.variant,u=this.node.getText();if(l==="-explicitFont"){var p=this.jax.getFontData(this.parent.styles),h=this.jax.measureText(u,l,p),m=h.w,g=h.h,E=h.d;c.h=g,c.d=E,c.w=m}else{var S=this.remappedText(u,l);c.empty();try{for(var O=C(S),A=O.next();!A.done;A=O.next()){var _=A.value,T=x(this.getVariantChar(l,_),4),N=(g=T[0],E=T[1],m=T[2],T[3]);if(N.unknown){var w=this.jax.measureText(String.fromCodePoint(_),l);m=w.w,g=w.h,E=w.d}c.w+=m,g>c.h&&(c.h=g),E>c.d&&(c.d=E),c.ic=N.ic||0,c.sk=N.sk||0,c.dx=N.dx||0}}catch(L){a={error:L}}finally{try{A&&!A.done&&(o=O.return)&&o.call(O)}finally{if(a)throw a.error}}S.length>1&&(c.sk=0),c.clean()}},f.prototype.remappedText=function(c,s){var a=this.parent.stretch.c;return a?[a]:this.parent.remapChars(this.unicodeChars(c,s))},f.prototype.getStyles=function(){},f.prototype.getVariant=function(){},f.prototype.getScale=function(){},f.prototype.getSpace=function(){},f}(y)}},1956:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__read||function(f,c){var s=typeof Symbol=="function"&&f[Symbol.iterator];if(!s)return f;var a,o,l=s.call(f),u=[];try{for(;(c===void 0||c-- >0)&&!(a=l.next()).done;)u.push(a.value)}catch(p){o={error:p}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return u},y=this&&this.__spreadArray||function(f,c,s){if(s||arguments.length===2)for(var a,o=0,l=c.length;o<l;o++)!a&&o in c||(a||(a=Array.prototype.slice.call(c,0,o)),a[o]=c[o]);return f.concat(a||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMactionMixin=e.TooltipData=void 0;var d=v(505);e.TooltipData={dx:".2em",dy:".1em",postDelay:600,clearDelay:100,hoverTimer:new Map,clearTimer:new Map,stopTimers:function(f,c){c.clearTimer.has(f)&&(clearTimeout(c.clearTimer.get(f)),c.clearTimer.delete(f)),c.hoverTimer.has(f)&&(clearTimeout(c.hoverTimer.get(f)),c.hoverTimer.delete(f))}},e.CommonMactionMixin=function(f){return function(c){function s(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var l=c.apply(this,y([],x(a),!1))||this,u=l.constructor.actions,p=l.node.attributes.get("actiontype"),h=x(u.get(p)||[function(E,S){},{}],2),m=h[0],g=h[1];return l.action=m,l.data=g,l.getParameters(),l}return C(s,c),Object.defineProperty(s.prototype,"selected",{get:function(){var a=this.node.attributes.get("selection"),o=Math.max(1,Math.min(this.childNodes.length,a))-1;return this.childNodes[o]||this.wrap(this.node.selected)},enumerable:!1,configurable:!0}),s.prototype.getParameters=function(){var a=this.node.attributes.get("data-offsets"),o=x((0,d.split)(a||""),2),l=o[0],u=o[1];this.dx=this.length2em(l||e.TooltipData.dx),this.dy=this.length2em(u||e.TooltipData.dy)},s.prototype.computeBBox=function(a,o){o===void 0&&(o=!1),a.updateFrom(this.selected.getOuterBBox()),this.selected.setChildPWidths(o)},s}(f)}},7490:function(R,e){var v,M=this&&this.__extends||(v=function(C,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},v(C,x)},function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function y(){this.constructor=C}v(C,x),C.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMathMixin=void 0,e.CommonMathMixin=function(C){return function(x){function y(){return x!==null&&x.apply(this,arguments)||this}return M(y,x),y.prototype.getWrapWidth=function(d){return this.parent?this.getBBox().w:this.metrics.containerWidth/this.jax.pxPerEm},y}(C)}},7313:function(R,e,v){var M,C=this&&this.__extends||(M=function(l,u){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},M(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function p(){this.constructor=l}M(l,u),l.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}),x=this&&this.__createBinding||(Object.create?function(l,u,p,h){h===void 0&&(h=p);var m=Object.getOwnPropertyDescriptor(u,p);m&&!("get"in m?!u.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return u[p]}}),Object.defineProperty(l,h,m)}:function(l,u,p,h){h===void 0&&(h=p),l[h]=u[p]}),y=this&&this.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),d=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var p in l)p!=="default"&&Object.prototype.hasOwnProperty.call(l,p)&&x(u,l,p);return y(u,l),u},f=this&&this.__read||function(l,u){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var h,m,g=p.call(l),E=[];try{for(;(u===void 0||u-- >0)&&!(h=g.next()).done;)E.push(h.value)}catch(S){m={error:S}}finally{try{h&&!h.done&&(p=g.return)&&p.call(g)}finally{if(m)throw m.error}}return E},c=this&&this.__spreadArray||function(l,u,p){if(p||arguments.length===2)for(var h,m=0,g=u.length;m<g;m++)!h&&m in u||(h||(h=Array.prototype.slice.call(u,0,m)),h[m]=u[m]);return l.concat(h||Array.prototype.slice.call(u))},s=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,p=u&&l[u],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMencloseMixin=void 0;var a=d(v(5552)),o=v(505);e.CommonMencloseMixin=function(l){return function(u){function p(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var g=u.apply(this,c([],f(h),!1))||this;return g.notations={},g.renderChild=null,g.msqrt=null,g.padding=a.PADDING,g.thickness=a.THICKNESS,g.arrowhead={x:a.ARROWX,y:a.ARROWY,dx:a.ARROWDX},g.TRBL=[0,0,0,0],g.getParameters(),g.getNotations(),g.removeRedundantNotations(),g.initializeNotations(),g.TRBL=g.getBBoxExtenders(),g}return C(p,u),p.prototype.getParameters=function(){var h=this.node.attributes,m=h.get("data-padding");m!==void 0&&(this.padding=this.length2em(m,a.PADDING));var g=h.get("data-thickness");g!==void 0&&(this.thickness=this.length2em(g,a.THICKNESS));var E=h.get("data-arrowhead");if(E!==void 0){var S=f((0,o.split)(E),3),O=S[0],A=S[1],_=S[2];this.arrowhead={x:O?parseFloat(O):a.ARROWX,y:A?parseFloat(A):a.ARROWY,dx:_?parseFloat(_):a.ARROWDX}}},p.prototype.getNotations=function(){var h,m,g=this.constructor.notations;try{for(var E=s((0,o.split)(this.node.attributes.get("notation"))),S=E.next();!S.done;S=E.next()){var O=S.value,A=g.get(O);A&&(this.notations[O]=A,A.renderChild&&(this.renderChild=A.renderer))}}catch(_){h={error:_}}finally{try{S&&!S.done&&(m=E.return)&&m.call(E)}finally{if(h)throw h.error}}},p.prototype.removeRedundantNotations=function(){var h,m,g,E;try{for(var S=s(Object.keys(this.notations)),O=S.next();!O.done;O=S.next()){var A=O.value;if(this.notations[A]){var _=this.notations[A].remove||"";try{for(var T=(g=void 0,s(_.split(/ /))),N=T.next();!N.done;N=T.next()){var w=N.value;delete this.notations[w]}}catch(L){g={error:L}}finally{try{N&&!N.done&&(E=T.return)&&E.call(T)}finally{if(g)throw g.error}}}}}catch(L){h={error:L}}finally{try{O&&!O.done&&(m=S.return)&&m.call(S)}finally{if(h)throw h.error}}},p.prototype.initializeNotations=function(){var h,m;try{for(var g=s(Object.keys(this.notations)),E=g.next();!E.done;E=g.next()){var S=E.value,O=this.notations[S].init;O&&O(this)}}catch(A){h={error:A}}finally{try{E&&!E.done&&(m=g.return)&&m.call(g)}finally{if(h)throw h.error}}},p.prototype.computeBBox=function(h,m){m===void 0&&(m=!1);var g=f(this.TRBL,4),E=g[0],S=g[1],O=g[2],A=g[3],_=this.childNodes[0].getBBox();h.combine(_,A,0),h.h+=E,h.d+=O,h.w+=S,this.setChildPWidths(m)},p.prototype.getBBoxExtenders=function(){var h,m,g=[0,0,0,0];try{for(var E=s(Object.keys(this.notations)),S=E.next();!S.done;S=E.next()){var O=S.value;this.maximizeEntries(g,this.notations[O].bbox(this))}}catch(A){h={error:A}}finally{try{S&&!S.done&&(m=E.return)&&m.call(E)}finally{if(h)throw h.error}}return g},p.prototype.getPadding=function(){var h,m,g=this,E=[0,0,0,0];try{for(var S=s(Object.keys(this.notations)),O=S.next();!O.done;O=S.next()){var A=O.value,_=this.notations[A].border;_&&this.maximizeEntries(E,_(this))}}catch(T){h={error:T}}finally{try{O&&!O.done&&(m=S.return)&&m.call(S)}finally{if(h)throw h.error}}return[0,1,2,3].map(function(T){return g.TRBL[T]-E[T]})},p.prototype.maximizeEntries=function(h,m){for(var g=0;g<h.length;g++)h[g]<m[g]&&(h[g]=m[g])},p.prototype.getOffset=function(h){var m=f(this.TRBL,4),g=m[0],E=m[1],S=m[2],O=m[3],A=(h==="X"?E-O:S-g)/2;return Math.abs(A)>.001?A:0},p.prototype.getArgMod=function(h,m){return[Math.atan2(m,h),Math.sqrt(h*h+m*m)]},p.prototype.arrow=function(h,m,g,E,S){return null},p.prototype.arrowData=function(){var h=f([this.padding,this.thickness],2),m=h[0],g=h[1]*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),E=this.childNodes[0].getBBox(),S=E.h,O=E.d,A=E.w,_=S+O,T=Math.sqrt(_*_+A*A),N=Math.max(m,g*A/T),w=Math.max(m,g*_/T),L=f(this.getArgMod(A+2*N,_+2*w),2);return{a:L[0],W:L[1],x:N,y:w}},p.prototype.arrowAW=function(){var h=this.childNodes[0].getBBox(),m=h.h,g=h.d,E=h.w,S=f(this.TRBL,4),O=S[0],A=S[1],_=S[2],T=S[3];return this.getArgMod(T+E+A,O+m+g+_)},p.prototype.createMsqrt=function(h){var m=this.node.factory.create("msqrt");m.inheritAttributesFrom(this.node),m.childNodes[0]=h.node;var g=this.wrap(m);return g.parent=this,g},p.prototype.sqrtTRBL=function(){var h=this.msqrt.getBBox(),m=this.msqrt.childNodes[0].getBBox();return[h.h-m.h,0,h.d-m.d,h.w-m.w]},p}(l)}},7555:function(R,e){var v,M=this&&this.__extends||(v=function(d,f){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},v(d,f)},function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=d}v(d,f),d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),C=this&&this.__read||function(d,f){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var s,a,o=c.call(d),l=[];try{for(;(f===void 0||f-- >0)&&!(s=o.next()).done;)l.push(s.value)}catch(u){a={error:u}}finally{try{s&&!s.done&&(c=o.return)&&c.call(o)}finally{if(a)throw a.error}}return l},x=this&&this.__spreadArray||function(d,f,c){if(c||arguments.length===2)for(var s,a=0,o=f.length;a<o;a++)!s&&a in f||(s||(s=Array.prototype.slice.call(f,0,a)),s[a]=f[a]);return d.concat(s||Array.prototype.slice.call(f))},y=this&&this.__values||function(d){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&d[f],s=0;if(c)return c.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&s>=d.length&&(d=void 0),{value:d&&d[s++],done:!d}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMfencedMixin=void 0,e.CommonMfencedMixin=function(d){return function(f){function c(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var o=f.apply(this,x([],C(s),!1))||this;return o.mrow=null,o.createMrow(),o.addMrowChildren(),o}return M(c,f),c.prototype.createMrow=function(){var s=this.node.factory.create("inferredMrow");s.inheritAttributesFrom(this.node),this.mrow=this.wrap(s),this.mrow.parent=this},c.prototype.addMrowChildren=function(){var s,a,o=this.node,l=this.mrow;this.addMo(o.open),this.childNodes.length&&l.childNodes.push(this.childNodes[0]);var u=0;try{for(var p=y(this.childNodes.slice(1)),h=p.next();!h.done;h=p.next()){var m=h.value;this.addMo(o.separators[u++]),l.childNodes.push(m)}}catch(g){s={error:g}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}this.addMo(o.close),l.stretchChildren()},c.prototype.addMo=function(s){if(s){var a=this.wrap(s);this.mrow.childNodes.push(a),a.parent=this.mrow}},c.prototype.computeBBox=function(s,a){a===void 0&&(a=!1),s.updateFrom(this.mrow.getOuterBBox()),this.setChildPWidths(a)},c}(d)}},2688:function(R,e){var v,M=this&&this.__extends||(v=function(y,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},v(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}v(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}),C=this&&this.__read||function(y,d){var f=typeof Symbol=="function"&&y[Symbol.iterator];if(!f)return y;var c,s,a=f.call(y),o=[];try{for(;(d===void 0||d-- >0)&&!(c=a.next()).done;)o.push(c.value)}catch(l){s={error:l}}finally{try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(s)throw s.error}}return o},x=this&&this.__spreadArray||function(y,d,f){if(f||arguments.length===2)for(var c,s=0,a=d.length;s<a;s++)!c&&s in d||(c||(c=Array.prototype.slice.call(d,0,s)),c[s]=d[s]);return y.concat(c||Array.prototype.slice.call(d))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMfracMixin=void 0,e.CommonMfracMixin=function(y){return function(d){function f(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];var a=d.apply(this,x([],C(c),!1))||this;if(a.bevel=null,a.pad=a.node.getProperty("withDelims")?0:a.font.params.nulldelimiterspace,a.node.attributes.get("bevelled")){var o=a.getBevelData(a.isDisplay()).H,l=a.bevel=a.createMo("/");l.node.attributes.set("symmetric",!0),l.canStretch(1),l.getStretchedVariant([o],!0)}return a}return M(f,d),f.prototype.computeBBox=function(c,s){s===void 0&&(s=!1),c.empty();var a=this.node.attributes.getList("linethickness","bevelled"),o=a.linethickness,l=a.bevelled,u=this.isDisplay(),p=null;if(l)this.getBevelledBBox(c,u);else{var h=this.length2em(String(o),.06);p=-2*this.pad,h===0?this.getAtopBBox(c,u):(this.getFractionBBox(c,u,h),p-=.2),p+=c.w}c.clean(),this.setChildPWidths(s,p)},f.prototype.getFractionBBox=function(c,s,a){var o=this.childNodes[0].getOuterBBox(),l=this.childNodes[1].getOuterBBox(),u=this.font.params.axis_height,p=this.getTUV(s,a),h=p.T,m=p.u,g=p.v;c.combine(o,0,u+h+Math.max(o.d*o.rscale,m)),c.combine(l,0,u-h-Math.max(l.h*l.rscale,g)),c.w+=2*this.pad+.2},f.prototype.getTUV=function(c,s){var a=this.font.params,o=a.axis_height,l=(c?3.5:1.5)*s;return{T:(c?3.5:1.5)*s,u:(c?a.num1:a.num2)-o-l,v:(c?a.denom1:a.denom2)+o-l}},f.prototype.getAtopBBox=function(c,s){var a=this.getUVQ(s),o=a.u,l=a.v,u=a.nbox,p=a.dbox;c.combine(u,0,o),c.combine(p,0,-l),c.w+=2*this.pad},f.prototype.getUVQ=function(c){var s=this.childNodes[0].getOuterBBox(),a=this.childNodes[1].getOuterBBox(),o=this.font.params,l=C(c?[o.num1,o.denom1]:[o.num3,o.denom2],2),u=l[0],p=l[1],h=(c?7:3)*o.rule_thickness,m=u-s.d*s.scale-(a.h*a.scale-p);return m<h&&(u+=(h-m)/2,p+=(h-m)/2,m=h),{u,v:p,q:m,nbox:s,dbox:a}},f.prototype.getBevelledBBox=function(c,s){var a=this.getBevelData(s),o=a.u,l=a.v,u=a.delta,p=a.nbox,h=a.dbox,m=this.bevel.getOuterBBox();c.combine(p,0,o),c.combine(m,c.w-u/2,0),c.combine(h,c.w-u/2,l)},f.prototype.getBevelData=function(c){var s=this.childNodes[0].getOuterBBox(),a=this.childNodes[1].getOuterBBox(),o=c?.4:.15,l=Math.max(s.scale*(s.h+s.d),a.scale*(a.h+a.d))+2*o,u=this.font.params.axis_height;return{H:l,delta:o,u:s.scale*(s.d-s.h)/2+u+o,v:a.scale*(a.d-a.h)/2+u-o,nbox:s,dbox:a}},f.prototype.canStretch=function(c){return!1},f.prototype.isDisplay=function(){var c=this.node.attributes.getList("displaystyle","scriptlevel"),s=c.displaystyle,a=c.scriptlevel;return s&&a===0},f.prototype.getWrapWidth=function(c){var s=this.node.attributes;return s.get("bevelled")?this.childNodes[c].getOuterBBox().w:this.getBBox().w-(this.length2em(s.get("linethickness"))?.2:0)-2*this.pad},f.prototype.getChildAlign=function(c){var s=this.node.attributes;return s.get("bevelled")?"left":s.get(["numalign","denomalign"][c])},f}(y)}},5636:function(R,e){var v,M=this&&this.__extends||(v=function(y,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},v(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}v(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}),C=this&&this.__read||function(y,d){var f=typeof Symbol=="function"&&y[Symbol.iterator];if(!f)return y;var c,s,a=f.call(y),o=[];try{for(;(d===void 0||d-- >0)&&!(c=a.next()).done;)o.push(c.value)}catch(l){s={error:l}}finally{try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(s)throw s.error}}return o},x=this&&this.__spreadArray||function(y,d,f){if(f||arguments.length===2)for(var c,s=0,a=d.length;s<a;s++)!c&&s in d||(c||(c=Array.prototype.slice.call(d,0,s)),c[s]=d[s]);return y.concat(c||Array.prototype.slice.call(d))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMglyphMixin=void 0,e.CommonMglyphMixin=function(y){return function(d){function f(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];var a=d.apply(this,x([],C(c),!1))||this;return a.getParameters(),a}return M(f,d),f.prototype.getParameters=function(){var c=this.node.attributes.getList("width","height","valign","src","index"),s=c.width,a=c.height,o=c.valign,l=c.src,u=c.index;if(l)this.width=s==="auto"?1:this.length2em(s),this.height=a==="auto"?1:this.length2em(a),this.valign=this.length2em(o||"0");else{var p=String.fromCodePoint(parseInt(u)),h=this.node.factory;this.charWrapper=this.wrap(h.create("text").setText(p)),this.charWrapper.parent=this}},f.prototype.computeBBox=function(c,s){this.charWrapper?c.updateFrom(this.charWrapper.getBBox()):(c.w=this.width,c.h=this.height+this.valign,c.d=-this.valign)},f}(y)}},5723:function(R,e){var v,M=this&&this.__extends||(v=function(C,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},v(C,x)},function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function y(){this.constructor=C}v(C,x),C.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMiMixin=void 0,e.CommonMiMixin=function(C){return function(x){function y(){return x!==null&&x.apply(this,arguments)||this}return M(y,x),y.prototype.computeBBox=function(d,f){x.prototype.computeBBox.call(this,d),this.copySkewIC(d)},y}(C)}},8009:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p},y=this&&this.__spreadArray||function(c,s,a){if(a||arguments.length===2)for(var o,l=0,u=s.length;l<u;l++)!o&&l in s||(o||(o=Array.prototype.slice.call(s,0,l)),o[l]=s[l]);return c.concat(o||Array.prototype.slice.call(s))},d=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMmultiscriptsMixin=e.ScriptNames=e.NextScript=void 0;var f=v(6469);e.NextScript={base:"subList",subList:"supList",supList:"subList",psubList:"psupList",psupList:"psubList"},e.ScriptNames=["sup","sup","psup","psub"],e.CommonMmultiscriptsMixin=function(c){return function(s){function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var u=s.apply(this,y([],x(o),!1))||this;return u.scriptData=null,u.firstPrescript=0,u.getScriptData(),u}return C(a,s),a.prototype.combinePrePost=function(o,l){var u=new f.BBox(o);return u.combine(l,0,0),u},a.prototype.computeBBox=function(o,l){l===void 0&&(l=!1);var u=this.font.params.scriptspace,p=this.scriptData,h=this.combinePrePost(p.sub,p.psub),m=this.combinePrePost(p.sup,p.psup),g=x(this.getUVQ(h,m),2),E=g[0],S=g[1];if(o.empty(),p.numPrescripts&&(o.combine(p.psup,u,E),o.combine(p.psub,u,S)),o.append(p.base),p.numScripts){var O=o.w;o.combine(p.sup,O,E),o.combine(p.sub,O,S),o.w+=u}o.clean(),this.setChildPWidths(l)},a.prototype.getScriptData=function(){var o=this.scriptData={base:null,sub:f.BBox.empty(),sup:f.BBox.empty(),psub:f.BBox.empty(),psup:f.BBox.empty(),numPrescripts:0,numScripts:0},l=this.getScriptBBoxLists();this.combineBBoxLists(o.sub,o.sup,l.subList,l.supList),this.combineBBoxLists(o.psub,o.psup,l.psubList,l.psupList),o.base=l.base[0],o.numPrescripts=l.psubList.length,o.numScripts=l.subList.length},a.prototype.getScriptBBoxLists=function(){var o,l,u={base:[],subList:[],supList:[],psubList:[],psupList:[]},p="base";try{for(var h=d(this.childNodes),m=h.next();!m.done;m=h.next()){var g=m.value;g.node.isKind("mprescripts")?p="psubList":(u[p].push(g.getOuterBBox()),p=e.NextScript[p])}}catch(E){o={error:E}}finally{try{m&&!m.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}return this.firstPrescript=u.subList.length+u.supList.length+2,this.padLists(u.subList,u.supList),this.padLists(u.psubList,u.psupList),u},a.prototype.padLists=function(o,l){o.length>l.length&&l.push(f.BBox.empty())},a.prototype.combineBBoxLists=function(o,l,u,p){for(var h=0;h<u.length;h++){var m=x(this.getScaledWHD(u[h]),3),g=m[0],E=m[1],S=m[2],O=x(this.getScaledWHD(p[h]),3),A=O[0],_=O[1],T=O[2],N=Math.max(g,A);o.w+=N,l.w+=N,E>o.h&&(o.h=E),S>o.d&&(o.d=S),_>l.h&&(l.h=_),T>l.d&&(l.d=T)}},a.prototype.getScaledWHD=function(o){var l=o.w,u=o.h,p=o.d,h=o.rscale;return[l*h,u*h,p*h]},a.prototype.getUVQ=function(o,l){var u;if(!this.UVQ){var p=x([0,0,0],3),h=p[0],m=p[1],g=p[2];o.h===0&&o.d===0?h=this.getU():l.h===0&&l.d===0?h=-this.getV():(h=(u=x(s.prototype.getUVQ.call(this,o,l),3))[0],m=u[1],g=u[2]),this.UVQ=[h,m,g]}return this.UVQ},a}(c)}},5023:function(R,e){var v,M=this&&this.__extends||(v=function(C,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},v(C,x)},function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function y(){this.constructor=C}v(C,x),C.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMnMixin=void 0,e.CommonMnMixin=function(C){return function(x){function y(){return x!==null&&x.apply(this,arguments)||this}return M(y,x),y.prototype.remapChars=function(d){if(d.length){var f=this.font.getRemappedChar("mn",d[0]);if(f){var c=this.unicodeChars(f,this.variant);c.length===1?d[0]=c[0]:d=c.concat(d.slice(1))}}return d},y}(C)}},7096:function(R,e,v){var M,C,x=this&&this.__extends||(M=function(l,u){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},M(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function p(){this.constructor=l}M(l,u),l.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}),y=this&&this.__assign||function(){return y=Object.assign||function(l){for(var u,p=1,h=arguments.length;p<h;p++)for(var m in u=arguments[p])Object.prototype.hasOwnProperty.call(u,m)&&(l[m]=u[m]);return l},y.apply(this,arguments)},d=this&&this.__read||function(l,u){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var h,m,g=p.call(l),E=[];try{for(;(u===void 0||u-- >0)&&!(h=g.next()).done;)E.push(h.value)}catch(S){m={error:S}}finally{try{h&&!h.done&&(p=g.return)&&p.call(g)}finally{if(m)throw m.error}}return E},f=this&&this.__spreadArray||function(l,u,p){if(p||arguments.length===2)for(var h,m=0,g=u.length;m<g;m++)!h&&m in u||(h||(h=Array.prototype.slice.call(u,0,m)),h[m]=u[m]);return l.concat(h||Array.prototype.slice.call(u))},c=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,p=u&&l[u],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMoMixin=e.DirectionVH=void 0;var s=v(6469),a=v(505),o=v(5884);e.DirectionVH=((C={})[1]="v",C[2]="h",C),e.CommonMoMixin=function(l){return function(u){function p(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var g=u.apply(this,f([],d(h),!1))||this;return g.size=null,g.isAccent=g.node.isAccent,g}return x(p,u),p.prototype.computeBBox=function(h,m){if(this.protoBBox(h),this.node.attributes.get("symmetric")&&this.stretch.dir!==2){var g=this.getCenterOffset(h);h.h+=g,h.d-=g}this.node.getProperty("mathaccent")&&(this.stretch.dir===0||this.size>=0)&&(h.w=0)},p.prototype.protoBBox=function(h){var m=this.stretch.dir!==0;m&&this.size===null&&this.getStretchedVariant([0]),m&&this.size<0||(u.prototype.computeBBox.call(this,h),this.copySkewIC(h))},p.prototype.getAccentOffset=function(){var h=s.BBox.empty();return this.protoBBox(h),-h.w/2},p.prototype.getCenterOffset=function(h){return h===void 0&&(h=null),h||(h=s.BBox.empty(),u.prototype.computeBBox.call(this,h)),(h.h+h.d)/2+this.font.params.axis_height-h.h},p.prototype.getVariant=function(){this.node.attributes.get("largeop")?this.variant=this.node.attributes.get("displaystyle")?"-largeop":"-smallop":this.node.attributes.getExplicit("mathvariant")||this.node.getProperty("pseudoscript")!==!1?u.prototype.getVariant.call(this):this.variant="-tex-variant"},p.prototype.canStretch=function(h){if(this.stretch.dir!==0)return this.stretch.dir===h;if(!this.node.attributes.get("stretchy"))return!1;var m=this.getText();if(Array.from(m).length!==1)return!1;var g=this.font.getDelimiter(m.codePointAt(0));return this.stretch=g&&g.dir===h?g:o.NOSTRETCH,this.stretch.dir!==0},p.prototype.getStretchedVariant=function(h,m){var g,E;if(m===void 0&&(m=!1),this.stretch.dir!==0){var S=this.getWH(h),O=this.getSize("minsize",0),A=this.getSize("maxsize",1/0),_=this.node.getProperty("mathaccent");S=Math.max(O,Math.min(A,S));var T=this.font.params.delimiterfactor/1e3,N=this.font.params.delimitershortfall,w=O||m?S:_?Math.min(S/T,S+N):Math.max(S*T,S-N),L=this.stretch,I=L.c||this.getText().codePointAt(0),P=0;if(L.sizes)try{for(var k=c(L.sizes),B=k.next();!B.done;B=k.next()){if(B.value>=w)return _&&P&&P--,this.variant=this.font.getSizeVariant(I,P),this.size=P,void(L.schar&&L.schar[P]&&(this.stretch=y(y({},this.stretch),{c:L.schar[P]})));P++}}catch(F){g={error:F}}finally{try{B&&!B.done&&(E=k.return)&&E.call(k)}finally{if(g)throw g.error}}L.stretch?(this.size=-1,this.invalidateBBox(),this.getStretchBBox(h,this.checkExtendedHeight(S,L),L)):(this.variant=this.font.getSizeVariant(I,P-1),this.size=P-1)}},p.prototype.getSize=function(h,m){var g=this.node.attributes;return g.isSet(h)&&(m=this.length2em(g.get(h),1,1)),m},p.prototype.getWH=function(h){if(h.length===0)return 0;if(h.length===1)return h[0];var m=d(h,2),g=m[0],E=m[1],S=this.font.params.axis_height;return this.node.attributes.get("symmetric")?2*Math.max(g-S,E+S):g+E},p.prototype.getStretchBBox=function(h,m,g){var E;g.hasOwnProperty("min")&&g.min>m&&(m=g.min);var S=d(g.HDW,3),O=S[0],A=S[1],_=S[2];this.stretch.dir===1?(O=(E=d(this.getBaseline(h,m,g),2))[0],A=E[1]):_=m,this.bbox.h=O,this.bbox.d=A,this.bbox.w=_},p.prototype.getBaseline=function(h,m,g){var E=h.length===2&&h[0]+h[1]===m,S=this.node.attributes.get("symmetric"),O=d(E?h:[m,0],2),A=O[0],_=O[1],T=d([A+_,0],2),N=T[0],w=T[1];if(S){var L=this.font.params.axis_height;E&&(N=2*Math.max(A-L,_+L)),w=N/2-L}else if(E)w=_;else{var I=d(g.HDW||[.75,.25],2),P=I[0],k=I[1];w=k*(N/(P+k))}return[N-w,w]},p.prototype.checkExtendedHeight=function(h,m){if(m.fullExt){var g=d(m.fullExt,2),E=g[0],S=g[1];h=S+Math.ceil(Math.max(0,h-S)/E)*E}return h},p.prototype.remapChars=function(h){var m=this.node.getProperty("primes");if(m)return(0,a.unicodeChars)(m);if(h.length===1){var g=this.node.coreParent().parent,E=this.isAccent&&!g.isKind("mrow")?"accent":"mo",S=this.font.getRemappedChar(E,h[0]);S&&(h=this.unicodeChars(S,this.variant))}return h},p}(l)}},6898:function(R,e){var v,M=this&&this.__extends||(v=function(x,y){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(d[c]=f[c])},v(x,y)},function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function d(){this.constructor=x}v(x,y),x.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}),C=this&&this.__read||function(x,y){var d=typeof Symbol=="function"&&x[Symbol.iterator];if(!d)return x;var f,c,s=d.call(x),a=[];try{for(;(y===void 0||y-- >0)&&!(f=s.next()).done;)a.push(f.value)}catch(o){c={error:o}}finally{try{f&&!f.done&&(d=s.return)&&d.call(s)}finally{if(c)throw c.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMpaddedMixin=void 0,e.CommonMpaddedMixin=function(x){return function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return M(d,y),d.prototype.getDimens=function(){var f=this.node.attributes.getList("width","height","depth","lspace","voffset"),c=this.childNodes[0].getBBox(),s=c.w,a=c.h,o=c.d,l=s,u=a,p=o,h=0,m=0,g=0;f.width!==""&&(s=this.dimen(f.width,c,"w",0)),f.height!==""&&(a=this.dimen(f.height,c,"h",0)),f.depth!==""&&(o=this.dimen(f.depth,c,"d",0)),f.voffset!==""&&(m=this.dimen(f.voffset,c)),f.lspace!==""&&(h=this.dimen(f.lspace,c));var E=this.node.attributes.get("data-align");return E&&(g=this.getAlignX(s,c,E)),[u,p,l,a-u,o-p,s-l,h,m,g]},d.prototype.dimen=function(f,c,s,a){s===void 0&&(s=""),a===void 0&&(a=null);var o=(f=String(f)).match(/width|height|depth/),l=o?c[o[0].charAt(0)]:s?c[s]:0,u=this.length2em(f,l)||0;return f.match(/^[-+]/)&&s&&(u+=l),a!=null&&(u=Math.max(a,u)),u},d.prototype.computeBBox=function(f,c){c===void 0&&(c=!1);var s=C(this.getDimens(),6),a=s[0],o=s[1],l=s[2],u=s[3],p=s[4],h=s[5];f.w=l+h,f.h=a+u,f.d=o+p,this.setChildPWidths(c,f.w)},d.prototype.getWrapWidth=function(f){return this.getBBox().w},d.prototype.getChildAlign=function(f){return this.node.attributes.get("data-align")||"left"},d}(x)}},6991:function(R,e){var v,M=this&&this.__extends||(v=function(C,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},v(C,x)},function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function y(){this.constructor=C}v(C,x),C.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMrootMixin=void 0,e.CommonMrootMixin=function(C){return function(x){function y(){return x!==null&&x.apply(this,arguments)||this}return M(y,x),Object.defineProperty(y.prototype,"surd",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"root",{get:function(){return 1},enumerable:!1,configurable:!0}),y.prototype.combineRootBBox=function(d,f,c){var s=this.childNodes[this.root].getOuterBBox(),a=this.getRootDimens(f,c)[1];d.combine(s,0,a)},y.prototype.getRootDimens=function(d,f){var c=this.childNodes[this.surd],s=this.childNodes[this.root].getOuterBBox(),a=(c.size<0?.5:.6)*d.w,o=s.w,l=s.rscale,u=Math.max(o,a/l),p=Math.max(0,u-o);return[u*l-a,this.rootHeight(s,d,c.size,f),p]},y.prototype.rootHeight=function(d,f,c,s){var a=f.h+f.d;return(c<0?1.9:.55*a)-(a-s)+Math.max(0,d.d*d.rscale)},y}(C)}},8411:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p},y=this&&this.__spreadArray||function(c,s,a){if(a||arguments.length===2)for(var o,l=0,u=s.length;l<u;l++)!o&&l in s||(o||(o=Array.prototype.slice.call(s,0,l)),o[l]=s[l]);return c.concat(o||Array.prototype.slice.call(s))},d=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonInferredMrowMixin=e.CommonMrowMixin=void 0;var f=v(6469);e.CommonMrowMixin=function(c){return function(s){function a(){for(var o,l,u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var h=s.apply(this,y([],x(u),!1))||this;h.stretchChildren();try{for(var m=d(h.childNodes),g=m.next();!g.done;g=m.next()){var E=g.value;if(E.bbox.pwidth){h.bbox.pwidth=f.BBox.fullWidth;break}}}catch(S){o={error:S}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}return h}return C(a,s),Object.defineProperty(a.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.stretchChildren=function(){var o,l,u,p,h,m,g=[];try{for(var E=d(this.childNodes),S=E.next();!S.done;S=E.next())(U=S.value).canStretch(1)&&g.push(U)}catch(z){o={error:z}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}var O=g.length,A=this.childNodes.length;if(O&&A>1){var _=0,T=0,N=O>1&&O===A;try{for(var w=d(this.childNodes),L=w.next();!L.done;L=w.next()){var I=(U=L.value).stretch.dir===0;if(N||I){var P=U.getOuterBBox(I),k=P.h,B=P.d,F=P.rscale;(k*=F)>_&&(_=k),(B*=F)>T&&(T=B)}}}catch(z){u={error:z}}finally{try{L&&!L.done&&(p=w.return)&&p.call(w)}finally{if(u)throw u.error}}try{for(var H=d(g),j=H.next();!j.done;j=H.next()){var U;(U=j.value).coreMO().getStretchedVariant([_,T])}}catch(z){h={error:z}}finally{try{j&&!j.done&&(m=H.return)&&m.call(H)}finally{if(h)throw h.error}}}},a}(c)},e.CommonInferredMrowMixin=function(c){return function(s){function a(){return s!==null&&s.apply(this,arguments)||this}return C(a,s),a.prototype.getScale=function(){this.bbox.scale=this.parent.bbox.scale,this.bbox.rscale=1},a}(c)}},4126:function(R,e){var v,M=this&&this.__extends||(v=function(y,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},v(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}v(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}),C=this&&this.__read||function(y,d){var f=typeof Symbol=="function"&&y[Symbol.iterator];if(!f)return y;var c,s,a=f.call(y),o=[];try{for(;(d===void 0||d-- >0)&&!(c=a.next()).done;)o.push(c.value)}catch(l){s={error:l}}finally{try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(s)throw s.error}}return o},x=this&&this.__spreadArray||function(y,d,f){if(f||arguments.length===2)for(var c,s=0,a=d.length;s<a;s++)!c&&s in d||(c||(c=Array.prototype.slice.call(d,0,s)),c[s]=d[s]);return y.concat(c||Array.prototype.slice.call(d))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMsMixin=void 0,e.CommonMsMixin=function(y){return function(d){function f(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];var a=d.apply(this,x([],C(c),!1))||this,o=a.node.attributes,l=o.getList("lquote","rquote");return a.variant!=="monospace"&&(o.isSet("lquote")||l.lquote!=='"'||(l.lquote=""),o.isSet("rquote")||l.rquote!=='"'||(l.rquote="")),a.childNodes.unshift(a.createText(l.lquote)),a.childNodes.push(a.createText(l.rquote)),a}return M(f,d),f.prototype.createText=function(c){var s=this.wrap(this.mmlText(c));return s.parent=this,s},f}(y)}},258:function(R,e){var v,M=this&&this.__extends||(v=function(C,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},v(C,x)},function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function y(){this.constructor=C}v(C,x),C.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMspaceMixin=void 0,e.CommonMspaceMixin=function(C){return function(x){function y(){return x!==null&&x.apply(this,arguments)||this}return M(y,x),y.prototype.computeBBox=function(d,f){var c=this.node.attributes;d.w=this.length2em(c.get("width"),0),d.h=this.length2em(c.get("height"),0),d.d=this.length2em(c.get("depth"),0)},y.prototype.handleVariant=function(){},y}(C)}},4093:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),x=this&&this.__read||function(f,c){var s=typeof Symbol=="function"&&f[Symbol.iterator];if(!s)return f;var a,o,l=s.call(f),u=[];try{for(;(c===void 0||c-- >0)&&!(a=l.next()).done;)u.push(a.value)}catch(p){o={error:p}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return u},y=this&&this.__spreadArray||function(f,c,s){if(s||arguments.length===2)for(var a,o=0,l=c.length;o<l;o++)!a&&o in c||(a||(a=Array.prototype.slice.call(c,0,o)),a[o]=c[o]);return f.concat(a||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMsqrtMixin=void 0;var d=v(6469);e.CommonMsqrtMixin=function(f){return function(c){function s(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var l=c.apply(this,y([],x(a),!1))||this,u=l.createMo("");u.canStretch(1);var p=l.childNodes[l.base].getOuterBBox(),h=p.h,m=p.d,g=l.font.params.rule_thickness,E=l.node.attributes.get("displaystyle")?l.font.params.x_height:g;return l.surdH=h+m+2*g+E/4,u.getStretchedVariant([l.surdH-m,m],!0),l}return C(s,c),Object.defineProperty(s.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"surd",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"root",{get:function(){return null},enumerable:!1,configurable:!0}),s.prototype.createMo=function(a){var o=c.prototype.createMo.call(this,a);return this.childNodes.push(o),o},s.prototype.computeBBox=function(a,o){o===void 0&&(o=!1);var l=this.childNodes[this.surd].getBBox(),u=new d.BBox(this.childNodes[this.base].getOuterBBox()),p=this.getPQ(l)[1],h=this.font.params.rule_thickness,m=u.h+p+h,g=x(this.getRootDimens(l,m),1)[0];a.h=m+h,this.combineRootBBox(a,l,m),a.combine(l,g,m-l.h),a.combine(u,g+l.w,0),a.clean(),this.setChildPWidths(o)},s.prototype.combineRootBBox=function(a,o,l){},s.prototype.getPQ=function(a){var o=this.font.params.rule_thickness,l=this.node.attributes.get("displaystyle")?this.font.params.x_height:o;return[l,a.h+a.d>this.surdH?(a.h+a.d-(this.surdH-2*o-l/2))/2:o+l/4]},s.prototype.getRootDimens=function(a,o){return[0,0,0,0]},s}(f)}},905:function(R,e){var v,M=this&&this.__extends||(v=function(x,y){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(d[c]=f[c])},v(x,y)},function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function d(){this.constructor=x}v(x,y),x.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}),C=this&&this.__read||function(x,y){var d=typeof Symbol=="function"&&x[Symbol.iterator];if(!d)return x;var f,c,s=d.call(x),a=[];try{for(;(y===void 0||y-- >0)&&!(f=s.next()).done;)a.push(f.value)}catch(o){c={error:o}}finally{try{f&&!f.done&&(d=s.return)&&d.call(s)}finally{if(c)throw c.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMsubsupMixin=e.CommonMsupMixin=e.CommonMsubMixin=void 0,e.CommonMsubMixin=function(x){var y;return y=function(d){function f(){return d!==null&&d.apply(this,arguments)||this}return M(f,d),Object.defineProperty(f.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.sub]},enumerable:!1,configurable:!0}),f.prototype.getOffset=function(){return[0,-this.getV()]},f}(x),y.useIC=!1,y},e.CommonMsupMixin=function(x){return function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return M(d,y),Object.defineProperty(d.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.sup]},enumerable:!1,configurable:!0}),d.prototype.getOffset=function(){return[this.getAdjustedIc()-(this.baseRemoveIc?0:this.baseIc),this.getU()]},d}(x)},e.CommonMsubsupMixin=function(x){var y;return y=function(d){function f(){var c=d!==null&&d.apply(this,arguments)||this;return c.UVQ=null,c}return M(f,d),Object.defineProperty(f.prototype,"subChild",{get:function(){return this.childNodes[this.node.sub]},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"supChild",{get:function(){return this.childNodes[this.node.sup]},enumerable:!1,configurable:!0}),f.prototype.computeBBox=function(c,s){s===void 0&&(s=!1);var a=this.baseChild.getOuterBBox(),o=C([this.subChild.getOuterBBox(),this.supChild.getOuterBBox()],2),l=o[0],u=o[1];c.empty(),c.append(a);var p=this.getBaseWidth(),h=this.getAdjustedIc(),m=C(this.getUVQ(),2),g=m[0],E=m[1];c.combine(l,p,E),c.combine(u,p+h,g),c.w+=this.font.params.scriptspace,c.clean(),this.setChildPWidths(s)},f.prototype.getUVQ=function(c,s){c===void 0&&(c=this.subChild.getOuterBBox()),s===void 0&&(s=this.supChild.getOuterBBox());var a=this.baseCore.getOuterBBox();if(this.UVQ)return this.UVQ;var o=this.font.params,l=3*o.rule_thickness,u=this.length2em(this.node.attributes.get("subscriptshift"),o.sub2),p=this.baseCharZero(a.d*this.baseScale+o.sub_drop*c.rscale),h=C([this.getU(),Math.max(p,u)],2),m=h[0],g=h[1],E=m-s.d*s.rscale-(c.h*c.rscale-g);if(E<l){g+=l-E;var S=.8*o.x_height-(m-s.d*s.rscale);S>0&&(m+=S,g-=S)}return m=Math.max(this.length2em(this.node.attributes.get("superscriptshift"),m),m),g=Math.max(this.length2em(this.node.attributes.get("subscriptshift"),g),g),E=m-s.d*s.rscale-(c.h*c.rscale-g),this.UVQ=[m,-g,E],this.UVQ},f}(x),y.useIC=!1,y}},6237:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(l[p]=u[p])},M(a,o)},function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),x=this&&this.__read||function(a,o){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var u,p,h=l.call(a),m=[];try{for(;(o===void 0||o-- >0)&&!(u=h.next()).done;)m.push(u.value)}catch(g){p={error:g}}finally{try{u&&!u.done&&(l=h.return)&&l.call(h)}finally{if(p)throw p.error}}return m},y=this&&this.__spreadArray||function(a,o,l){if(l||arguments.length===2)for(var u,p=0,h=o.length;p<h;p++)!u&&p in o||(u||(u=Array.prototype.slice.call(o,0,p)),u[p]=o[p]);return a.concat(u||Array.prototype.slice.call(o))},d=this&&this.__values||function(a){var o=typeof Symbol=="function"&&Symbol.iterator,l=o&&a[o],u=0;if(l)return l.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMtableMixin=void 0;var f=v(6469),c=v(505),s=v(7875);e.CommonMtableMixin=function(a){return function(o){function l(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var h=o.apply(this,y([],x(u),!1))||this;h.numCols=0,h.numRows=0,h.data=null,h.pwidthCells=[],h.pWidth=0,h.numCols=(0,s.max)(h.tableRows.map(function(g){return g.numCells})),h.numRows=h.childNodes.length,h.hasLabels=h.childNodes.reduce(function(g,E){return g||E.node.isKind("mlabeledtr")},!1),h.findContainer(),h.isTop=!h.container||h.container.node.isKind("math")&&!h.container.parent,h.isTop&&(h.jax.table=h),h.getPercentageWidth();var m=h.node.attributes;return h.frame=m.get("frame")!=="none",h.fLine=h.frame&&m.get("frame")?.07:0,h.fSpace=h.frame?h.convertLengths(h.getAttributeArray("framespacing")):[0,0],h.cSpace=h.convertLengths(h.getColumnAttributes("columnspacing")),h.rSpace=h.convertLengths(h.getRowAttributes("rowspacing")),h.cLines=h.getColumnAttributes("columnlines").map(function(g){return g==="none"?0:.07}),h.rLines=h.getRowAttributes("rowlines").map(function(g){return g==="none"?0:.07}),h.cWidths=h.getColumnWidths(),h.stretchRows(),h.stretchColumns(),h}return C(l,o),Object.defineProperty(l.prototype,"tableRows",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),l.prototype.findContainer=function(){for(var u=this,p=u.parent;p&&(p.node.notParent||p.node.isKind("mrow"));)u=p,p=p.parent;this.container=p,this.containerI=u.node.childPosition()},l.prototype.getPercentageWidth=function(){if(this.hasLabels)this.bbox.pwidth=f.BBox.fullWidth;else{var u=this.node.attributes.get("width");(0,c.isPercent)(u)&&(this.bbox.pwidth=u)}},l.prototype.stretchRows=function(){for(var u=this.node.attributes.get("equalrows"),p=u?this.getEqualRowHeight():0,h=u?this.getTableData():{H:[0],D:[0]},m=h.H,g=h.D,E=this.tableRows,S=0;S<this.numRows;S++){var O=u?[(p+m[S]-g[S])/2,(p-m[S]+g[S])/2]:null;E[S].stretchChildren(O)}},l.prototype.stretchColumns=function(){for(var u=0;u<this.numCols;u++){var p=typeof this.cWidths[u]=="number"?this.cWidths[u]:null;this.stretchColumn(u,p)}},l.prototype.stretchColumn=function(u,p){var h,m,g,E,S,O,A=[];try{for(var _=d(this.tableRows),T=_.next();!T.done;T=_.next())(k=T.value.getChild(u))&&(U=k.childNodes[0]).stretch.dir===0&&U.canStretch(2)&&A.push(U)}catch(z){h={error:z}}finally{try{T&&!T.done&&(m=_.return)&&m.call(_)}finally{if(h)throw h.error}}var N=A.length,w=this.childNodes.length;if(N&&w>1){if(p===null){p=0;var L=N>1&&N===w;try{for(var I=d(this.tableRows),P=I.next();!P.done;P=I.next()){var k;if(k=P.value.getChild(u)){var B=(U=k.childNodes[0]).stretch.dir===0;if(L||B){var F=U.getBBox(B).w;F>p&&(p=F)}}}}catch(z){g={error:z}}finally{try{P&&!P.done&&(E=I.return)&&E.call(I)}finally{if(g)throw g.error}}}try{for(var H=d(A),j=H.next();!j.done;j=H.next()){var U;(U=j.value).coreMO().getStretchedVariant([p])}}catch(z){S={error:z}}finally{try{j&&!j.done&&(O=H.return)&&O.call(H)}finally{if(S)throw S.error}}}},l.prototype.getTableData=function(){if(this.data)return this.data;for(var u=new Array(this.numRows).fill(0),p=new Array(this.numRows).fill(0),h=new Array(this.numCols).fill(0),m=new Array(this.numRows),g=new Array(this.numRows),E=[0],S=this.tableRows,O=0;O<S.length;O++){for(var A=0,_=S[O],T=_.node.attributes.get("rowalign"),N=0;N<_.numCells;N++){var w=_.getChild(N);A=this.updateHDW(w,N,O,T,u,p,h,A),this.recordPWidthCell(w,N)}m[O]=u[O],g[O]=p[O],_.labeled&&(A=this.updateHDW(_.childNodes[0],0,O,T,u,p,E,A)),this.extendHD(O,u,p,A),this.extendHD(O,m,g,A)}var L=E[0];return this.data={H:u,D:p,W:h,NH:m,ND:g,L},this.data},l.prototype.updateHDW=function(u,p,h,m,g,E,S,O){var A=u.getBBox(),_=A.h,T=A.d,N=A.w,w=u.parent.bbox.rscale;u.parent.bbox.rscale!==1&&(_*=w,T*=w,N*=w),this.node.getProperty("useHeight")&&(_<.75&&(_=.75),T<.25&&(T=.25));var L=0;return(m=u.node.attributes.get("rowalign")||m)!=="baseline"&&m!=="axis"&&(L=_+T,_=T=0),_>g[h]&&(g[h]=_),T>E[h]&&(E[h]=T),L>O&&(O=L),S&&N>S[p]&&(S[p]=N),O},l.prototype.extendHD=function(u,p,h,m){var g=(m-(p[u]+h[u]))/2;g<1e-5||(p[u]+=g,h[u]+=g)},l.prototype.recordPWidthCell=function(u,p){u.childNodes[0]&&u.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([u,p])},l.prototype.computeBBox=function(u,p){var h,m,g=this.getTableData(),E=g.H,S=g.D;if(this.node.attributes.get("equalrows")){var O=this.getEqualRowHeight();h=(0,s.sum)([].concat(this.rLines,this.rSpace))+O*this.numRows}else h=(0,s.sum)(E.concat(S,this.rLines,this.rSpace));h+=2*(this.fLine+this.fSpace[1]);var A=this.getComputedWidths();m=(0,s.sum)(A.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]);var _=this.node.attributes.get("width");_!=="auto"&&(m=Math.max(this.length2em(_,0)+2*this.fLine,m));var T=x(this.getBBoxHD(h),2),N=T[0],w=T[1];u.h=N,u.d=w,u.w=m;var L=x(this.getBBoxLR(),2),I=L[0],P=L[1];u.L=I,u.R=P,(0,c.isPercent)(_)||this.setColumnPWidths()},l.prototype.setChildPWidths=function(u,p,h){var m=this.node.attributes.get("width");if(!(0,c.isPercent)(m))return!1;this.hasLabels||(this.bbox.pwidth="",this.container.bbox.pwidth="");var g=this.bbox,E=g.w,S=g.L,O=g.R,A=this.node.attributes.get("data-width-includes-label"),_=Math.max(E,this.length2em(m,Math.max(p,S+E+O)))-(A?S+O:0),T=this.node.attributes.get("equalcolumns")?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes("columnwidth",0);this.cWidths=this.getColumnWidthsFixed(T,_);var N=this.getComputedWidths();return this.pWidth=(0,s.sum)(N.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==E&&this.parent.invalidateBBox(),this.pWidth!==E},l.prototype.setColumnPWidths=function(){var u,p,h=this.cWidths;try{for(var m=d(this.pwidthCells),g=m.next();!g.done;g=m.next()){var E=x(g.value,2),S=E[0],O=E[1];S.setChildPWidths(!1,h[O])&&(S.invalidateBBox(),S.getBBox())}}catch(A){u={error:A}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}},l.prototype.getBBoxHD=function(u){var p=x(this.getAlignmentRow(),2),h=p[0],m=p[1];if(m===null){var g=this.font.params.axis_height,E=u/2;return{top:[0,u],center:[E,E],bottom:[u,0],baseline:[E,E],axis:[E+g,E-g]}[h]||[E,E]}var S=this.getVerticalPosition(m,h);return[S,u-S]},l.prototype.getBBoxLR=function(){if(this.hasLabels){var u=this.node.attributes,p=u.get("side"),h=x(this.getPadAlignShift(p),2),m=h[0],g=h[1],E=this.hasLabels&&!!u.get("data-width-includes-label");return E&&this.frame&&this.fSpace[0]&&(m-=this.fSpace[0]),g!=="center"||E?p==="left"?[m,0]:[0,m]:[m,m]}return[0,0]},l.prototype.getPadAlignShift=function(u){var p=this.getTableData().L+this.length2em(this.node.attributes.get("minlabelspacing")),h=x(this.styles==null?["",""]:[this.styles.get("padding-left"),this.styles.get("padding-right")],2),m=h[0],g=h[1];(m||g)&&(p=Math.max(p,this.length2em(m||"0"),this.length2em(g||"0")));var E=x(this.getAlignShift(),2),S=E[0],O=E[1];return S===u&&(O=u==="left"?Math.max(p,O)-p:Math.min(-p,O)+p),[p,S,O]},l.prototype.getAlignShift=function(){return this.isTop?o.prototype.getAlignShift.call(this):[this.container.getChildAlign(this.containerI),0]},l.prototype.getWidth=function(){return this.pWidth||this.getBBox().w},l.prototype.getEqualRowHeight=function(){var u=this.getTableData(),p=u.H,h=u.D,m=Array.from(p.keys()).map(function(g){return p[g]+h[g]});return Math.max.apply(Math,m)},l.prototype.getComputedWidths=function(){var u=this,p=this.getTableData().W,h=Array.from(p.keys()).map(function(m){return typeof u.cWidths[m]=="number"?u.cWidths[m]:p[m]});return this.node.attributes.get("equalcolumns")&&(h=Array(h.length).fill((0,s.max)(h))),h},l.prototype.getColumnWidths=function(){var u=this.node.attributes.get("width");if(this.node.attributes.get("equalcolumns"))return this.getEqualColumns(u);var p=this.getColumnAttributes("columnwidth",0);return u==="auto"?this.getColumnWidthsAuto(p):(0,c.isPercent)(u)?this.getColumnWidthsPercent(p):this.getColumnWidthsFixed(p,this.length2em(u))},l.prototype.getEqualColumns=function(u){var p,h=Math.max(1,this.numCols);if(u==="auto"){var m=this.getTableData().W;p=(0,s.max)(m)}else if((0,c.isPercent)(u))p=this.percent(1/h);else{var g=(0,s.sum)([].concat(this.cLines,this.cSpace))+2*this.fSpace[0];p=Math.max(0,this.length2em(u)-g)/h}return Array(this.numCols).fill(p)},l.prototype.getColumnWidthsAuto=function(u){var p=this;return u.map(function(h){return h==="auto"||h==="fit"?null:(0,c.isPercent)(h)?h:p.length2em(h)})},l.prototype.getColumnWidthsPercent=function(u){var p=this,h=u.indexOf("fit")>=0,m=(h?this.getTableData():{W:null}).W;return Array.from(u.keys()).map(function(g){var E=u[g];return E==="fit"?null:E==="auto"?h?m[g]:null:(0,c.isPercent)(E)?E:p.length2em(E)})},l.prototype.getColumnWidthsFixed=function(u,p){var h=this,m=Array.from(u.keys()),g=m.filter(function(N){return u[N]==="fit"}),E=m.filter(function(N){return u[N]==="auto"}),S=g.length||E.length,O=(S?this.getTableData():{W:null}).W,A=p-(0,s.sum)([].concat(this.cLines,this.cSpace))-2*this.fSpace[0],_=A;m.forEach(function(N){var w=u[N];_-=w==="fit"||w==="auto"?O[N]:h.length2em(w,A)});var T=S&&_>0?_/S:0;return m.map(function(N){var w=u[N];return w==="fit"?O[N]+T:w==="auto"?O[N]+(g.length===0?T:0):h.length2em(w,A)})},l.prototype.getVerticalPosition=function(u,p){for(var h=this.node.attributes.get("equalrows"),m=this.getTableData(),g=m.H,E=m.D,S=h?this.getEqualRowHeight():0,O=this.getRowHalfSpacing(),A=this.fLine,_=0;_<u;_++)A+=O[_]+(h?S:g[_]+E[_])+O[_+1]+this.rLines[_];var T=x(h?[(S+g[u]-E[u])/2,(S-g[u]+E[u])/2]:[g[u],E[u]],2),N=T[0],w=T[1];return A+={top:0,center:O[u]+(N+w)/2,bottom:O[u]+N+w+O[u+1],baseline:O[u]+N,axis:O[u]+N-.25}[p]||0},l.prototype.getEmHalfSpacing=function(u,p,h){h===void 0&&(h=1);var m=this.em(u*h),g=this.addEm(p,2/h);return g.unshift(m),g.push(m),g},l.prototype.getRowHalfSpacing=function(){var u=this.rSpace.map(function(p){return p/2});return u.unshift(this.fSpace[1]),u.push(this.fSpace[1]),u},l.prototype.getColumnHalfSpacing=function(){var u=this.cSpace.map(function(p){return p/2});return u.unshift(this.fSpace[0]),u.push(this.fSpace[0]),u},l.prototype.getAlignmentRow=function(){var u=x((0,c.split)(this.node.attributes.get("align")),2),p=u[0],h=u[1];if(h==null)return[p,null];var m=parseInt(h);return m<0&&(m+=this.numRows+1),[p,m<1||m>this.numRows?null:m-1]},l.prototype.getColumnAttributes=function(u,p){p===void 0&&(p=1);var h=this.numCols-p,m=this.getAttributeArray(u);if(m.length===0)return null;for(;m.length<h;)m.push(m[m.length-1]);return m.length>h&&m.splice(h),m},l.prototype.getRowAttributes=function(u,p){p===void 0&&(p=1);var h=this.numRows-p,m=this.getAttributeArray(u);if(m.length===0)return null;for(;m.length<h;)m.push(m[m.length-1]);return m.length>h&&m.splice(h),m},l.prototype.getAttributeArray=function(u){var p=this.node.attributes.get(u);return p?(0,c.split)(p):[this.node.attributes.getDefault(u)]},l.prototype.addEm=function(u,p){var h=this;return p===void 0&&(p=1),u?u.map(function(m){return h.em(m/p)}):null},l.prototype.convertLengths=function(u){var p=this;return u?u.map(function(h){return p.length2em(h)}):null},l}(a)}},5164:function(R,e){var v,M=this&&this.__extends||(v=function(C,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},v(C,x)},function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function y(){this.constructor=C}v(C,x),C.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMtdMixin=void 0,e.CommonMtdMixin=function(C){return function(x){function y(){return x!==null&&x.apply(this,arguments)||this}return M(y,x),Object.defineProperty(y.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),y.prototype.invalidateBBox=function(){this.bboxComputed=!1},y.prototype.getWrapWidth=function(d){var f=this.parent.parent,c=this.parent,s=this.node.childPosition()-(c.labeled?1:0);return typeof f.cWidths[s]=="number"?f.cWidths[s]:f.getTableData().W[s]},y.prototype.getChildAlign=function(d){return this.node.attributes.get("columnalign")},y}(C)}},6319:function(R,e){var v,M=this&&this.__extends||(v=function(C,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},v(C,x)},function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function y(){this.constructor=C}v(C,x),C.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMtextMixin=void 0,e.CommonMtextMixin=function(C){var x;return x=function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return M(d,y),d.prototype.getVariant=function(){var f=this.jax.options,c=this.jax.math.outputData,s=(!!c.merrorFamily||!!f.merrorFont)&&this.node.Parent.isKind("merror");if(c.mtextFamily||f.mtextFont||s){var a=this.node.attributes.get("mathvariant"),o=this.constructor.INHERITFONTS[a]||this.jax.font.getCssFont(a),l=o[0]||(s?c.merrorFamily||f.merrorFont:c.mtextFamily||f.mtextFont);this.variant=this.explicitVariant(l,o[2]?"bold":"",o[1]?"italic":"")}else y.prototype.getVariant.call(this)},d}(C),x.INHERITFONTS={normal:["",!1,!1],bold:["",!1,!0],italic:["",!0,!1],"bold-italic":["",!0,!0]},x}},5766:function(R,e){var v,M=this&&this.__extends||(v=function(x,y){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(d[c]=f[c])},v(x,y)},function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function d(){this.constructor=x}v(x,y),x.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}),C=this&&this.__values||function(x){var y=typeof Symbol=="function"&&Symbol.iterator,d=y&&x[y],f=0;if(d)return d.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&f>=x.length&&(x=void 0),{value:x&&x[f++],done:!x}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMlabeledtrMixin=e.CommonMtrMixin=void 0,e.CommonMtrMixin=function(x){return function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return M(d,y),Object.defineProperty(d.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"numCells",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"labeled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"tableCells",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),d.prototype.getChild=function(f){return this.childNodes[f]},d.prototype.getChildBBoxes=function(){return this.childNodes.map(function(f){return f.getBBox()})},d.prototype.stretchChildren=function(f){var c,s,a,o,l,u;f===void 0&&(f=null);var p=[],h=this.labeled?this.childNodes.slice(1):this.childNodes;try{for(var m=C(h),g=m.next();!g.done;g=m.next())(F=g.value.childNodes[0]).canStretch(1)&&p.push(F)}catch(H){c={error:H}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(c)throw c.error}}var E=p.length,S=this.childNodes.length;if(E&&S>1){if(f===null){var O=0,A=0,_=E>1&&E===S;try{for(var T=C(h),N=T.next();!N.done;N=T.next()){var w=(F=N.value.childNodes[0]).stretch.dir===0;if(_||w){var L=F.getBBox(w),I=L.h,P=L.d;I>O&&(O=I),P>A&&(A=P)}}}catch(H){a={error:H}}finally{try{N&&!N.done&&(o=T.return)&&o.call(T)}finally{if(a)throw a.error}}f=[O,A]}try{for(var k=C(p),B=k.next();!B.done;B=k.next()){var F;(F=B.value).coreMO().getStretchedVariant(f)}}catch(H){l={error:H}}finally{try{B&&!B.done&&(u=k.return)&&u.call(k)}finally{if(l)throw l.error}}}},d}(x)},e.CommonMlabeledtrMixin=function(x){return function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return M(d,y),Object.defineProperty(d.prototype,"numCells",{get:function(){return Math.max(0,this.childNodes.length-1)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"labeled",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"tableCells",{get:function(){return this.childNodes.slice(1)},enumerable:!1,configurable:!0}),d.prototype.getChild=function(f){return this.childNodes[f+1]},d.prototype.getChildBBoxes=function(){return this.childNodes.slice(1).map(function(f){return f.getBBox()})},d}(x)}},1971:function(R,e){var v,M=this&&this.__extends||(v=function(y,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(f[s]=c[s])},v(y,d)},function(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function f(){this.constructor=y}v(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}),C=this&&this.__read||function(y,d){var f=typeof Symbol=="function"&&y[Symbol.iterator];if(!f)return y;var c,s,a=f.call(y),o=[];try{for(;(d===void 0||d-- >0)&&!(c=a.next()).done;)o.push(c.value)}catch(l){s={error:l}}finally{try{c&&!c.done&&(f=a.return)&&f.call(a)}finally{if(s)throw s.error}}return o},x=this&&this.__spreadArray||function(y,d,f){if(f||arguments.length===2)for(var c,s=0,a=d.length;s<a;s++)!c&&s in d||(c||(c=Array.prototype.slice.call(d,0,s)),c[s]=d[s]);return y.concat(c||Array.prototype.slice.call(d))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMunderoverMixin=e.CommonMoverMixin=e.CommonMunderMixin=void 0,e.CommonMunderMixin=function(y){return function(d){function f(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];var a=d.apply(this,x([],C(c),!1))||this;return a.stretchChildren(),a}return M(f,d),Object.defineProperty(f.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.under]},enumerable:!1,configurable:!0}),f.prototype.computeBBox=function(c,s){if(s===void 0&&(s=!1),this.hasMovableLimits())d.prototype.computeBBox.call(this,c,s);else{c.empty();var a=this.baseChild.getOuterBBox(),o=this.scriptChild.getOuterBBox(),l=this.getUnderKV(a,o)[1],u=this.isLineBelow?0:this.getDelta(!0),p=C(this.getDeltaW([a,o],[0,-u]),2),h=p[0],m=p[1];c.combine(a,h,0),c.combine(o,m,l),c.d+=this.font.params.big_op_spacing5,c.clean(),this.setChildPWidths(s)}},f}(y)},e.CommonMoverMixin=function(y){return function(d){function f(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];var a=d.apply(this,x([],C(c),!1))||this;return a.stretchChildren(),a}return M(f,d),Object.defineProperty(f.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.over]},enumerable:!1,configurable:!0}),f.prototype.computeBBox=function(c){if(this.hasMovableLimits())d.prototype.computeBBox.call(this,c);else{c.empty();var s=this.baseChild.getOuterBBox(),a=this.scriptChild.getOuterBBox();this.node.attributes.get("accent")&&(s.h=Math.max(s.h,this.font.params.x_height*s.scale));var o=this.getOverKU(s,a)[1],l=this.isLineAbove?0:this.getDelta(),u=C(this.getDeltaW([s,a],[0,l]),2),p=u[0],h=u[1];c.combine(s,p,0),c.combine(a,h,o),c.h+=this.font.params.big_op_spacing5,c.clean()}},f}(y)},e.CommonMunderoverMixin=function(y){return function(d){function f(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];var a=d.apply(this,x([],C(c),!1))||this;return a.stretchChildren(),a}return M(f,d),Object.defineProperty(f.prototype,"underChild",{get:function(){return this.childNodes[this.node.under]},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"overChild",{get:function(){return this.childNodes[this.node.over]},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"subChild",{get:function(){return this.underChild},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"supChild",{get:function(){return this.overChild},enumerable:!1,configurable:!0}),f.prototype.computeBBox=function(c){if(this.hasMovableLimits())d.prototype.computeBBox.call(this,c);else{c.empty();var s=this.overChild.getOuterBBox(),a=this.baseChild.getOuterBBox(),o=this.underChild.getOuterBBox();this.node.attributes.get("accent")&&(a.h=Math.max(a.h,this.font.params.x_height*a.scale));var l=this.getOverKU(a,s)[1],u=this.getUnderKV(a,o)[1],p=this.getDelta(),h=C(this.getDeltaW([a,o,s],[0,this.isLineBelow?0:-p,this.isLineAbove?0:p]),3),m=h[0],g=h[1],E=h[2];c.combine(a,m,0),c.combine(s,E,l),c.combine(o,g,u);var S=this.font.params.big_op_spacing5;c.h+=S,c.d+=S,c.clean()}},f}(y)}},167:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p},y=this&&this.__spreadArray||function(c,s,a){if(a||arguments.length===2)for(var o,l=0,u=s.length;l<u;l++)!o&&l in s||(o||(o=Array.prototype.slice.call(s,0,l)),o[l]=s[l]);return c.concat(o||Array.prototype.slice.call(s))},d=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonScriptbaseMixin=void 0;var f=v(9007);e.CommonScriptbaseMixin=function(c){var s;return s=function(a){function o(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var p=a.apply(this,y([],x(l),!1))||this;p.baseScale=1,p.baseIc=0,p.baseRemoveIc=!1,p.baseIsChar=!1,p.baseHasAccentOver=null,p.baseHasAccentUnder=null,p.isLineAbove=!1,p.isLineBelow=!1,p.isMathAccent=!1;var h=p.baseCore=p.getBaseCore();return h&&(p.setBaseAccentsFor(h),p.baseScale=p.getBaseScale(),p.baseIc=p.getBaseIc(),p.baseIsChar=p.isCharBase(),p.isMathAccent=p.baseIsChar&&p.scriptChild&&!!p.scriptChild.coreMO().node.getProperty("mathaccent"),p.checkLineAccents(),p.baseRemoveIc=!p.isLineAbove&&!p.isLineBelow&&(!p.constructor.useIC||p.isMathAccent)),p}return C(o,a),Object.defineProperty(o.prototype,"baseChild",{get:function(){return this.childNodes[this.node.base]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scriptChild",{get:function(){return this.childNodes[1]},enumerable:!1,configurable:!0}),o.prototype.getBaseCore=function(){for(var l=this.getSemanticBase()||this.childNodes[0];l&&(l.childNodes.length===1&&(l.node.isKind("mrow")||l.node.isKind("TeXAtom")&&l.node.texClass!==f.TEXCLASS.VCENTER||l.node.isKind("mstyle")||l.node.isKind("mpadded")||l.node.isKind("mphantom")||l.node.isKind("semantics"))||l.node.isKind("munderover")&&l.isMathAccent);)this.setBaseAccentsFor(l),l=l.childNodes[0];return l||(this.baseHasAccentOver=this.baseHasAccentUnder=!1),l||this.childNodes[0]},o.prototype.setBaseAccentsFor=function(l){l.node.isKind("munderover")&&(this.baseHasAccentOver===null&&(this.baseHasAccentOver=!!l.node.attributes.get("accent")),this.baseHasAccentUnder===null&&(this.baseHasAccentUnder=!!l.node.attributes.get("accentunder")))},o.prototype.getSemanticBase=function(){var l=this.node.attributes.getExplicit("data-semantic-fencepointer");return this.getBaseFence(this.baseChild,l)},o.prototype.getBaseFence=function(l,u){var p,h;if(!l||!l.node.attributes||!u)return null;if(l.node.attributes.getExplicit("data-semantic-id")===u)return l;try{for(var m=d(l.childNodes),g=m.next();!g.done;g=m.next()){var E=g.value,S=this.getBaseFence(E,u);if(S)return S}}catch(O){p={error:O}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}return null},o.prototype.getBaseScale=function(){for(var l=this.baseCore,u=1;l&&l!==this;)u*=l.getOuterBBox().rscale,l=l.parent;return u},o.prototype.getBaseIc=function(){return this.baseCore.getOuterBBox().ic*this.baseScale},o.prototype.getAdjustedIc=function(){var l=this.baseCore.getOuterBBox();return(l.ic?1.05*l.ic+.05:0)*this.baseScale},o.prototype.isCharBase=function(){var l=this.baseCore;return(l.node.isKind("mo")&&l.size===null||l.node.isKind("mi")||l.node.isKind("mn"))&&l.bbox.rscale===1&&Array.from(l.getText()).length===1},o.prototype.checkLineAccents=function(){this.node.isKind("munderover")&&(this.node.isKind("mover")?this.isLineAbove=this.isLineAccent(this.scriptChild):this.node.isKind("munder")?this.isLineBelow=this.isLineAccent(this.scriptChild):(this.isLineAbove=this.isLineAccent(this.overChild),this.isLineBelow=this.isLineAccent(this.underChild)))},o.prototype.isLineAccent=function(l){var u=l.coreMO().node;return u.isToken&&u.getText()===""},o.prototype.getBaseWidth=function(){var l=this.baseChild.getOuterBBox();return l.w*l.rscale-(this.baseRemoveIc?this.baseIc:0)+this.font.params.extra_ic},o.prototype.computeBBox=function(l,u){u===void 0&&(u=!1);var p=this.getBaseWidth(),h=x(this.getOffset(),2),m=h[0],g=h[1];l.append(this.baseChild.getOuterBBox()),l.combine(this.scriptChild.getOuterBBox(),p+m,g),l.w+=this.font.params.scriptspace,l.clean(),this.setChildPWidths(u)},o.prototype.getOffset=function(){return[0,0]},o.prototype.baseCharZero=function(l){var u=!!this.baseCore.node.attributes.get("largeop"),p=this.baseScale;return this.baseIsChar&&!u&&p===1?0:l},o.prototype.getV=function(){var l=this.baseCore.getOuterBBox(),u=this.scriptChild.getOuterBBox(),p=this.font.params,h=this.length2em(this.node.attributes.get("subscriptshift"),p.sub1);return Math.max(this.baseCharZero(l.d*this.baseScale+p.sub_drop*u.rscale),h,u.h*u.rscale-.8*p.x_height)},o.prototype.getU=function(){var l=this.baseCore.getOuterBBox(),u=this.scriptChild.getOuterBBox(),p=this.font.params,h=this.node.attributes.getList("displaystyle","superscriptshift"),m=this.node.getProperty("texprimestyle")?p.sup3:h.displaystyle?p.sup1:p.sup2,g=this.length2em(h.superscriptshift,m);return Math.max(this.baseCharZero(l.h*this.baseScale-p.sup_drop*u.rscale),g,u.d*u.rscale+.25*p.x_height)},o.prototype.hasMovableLimits=function(){var l=this.node.attributes.get("displaystyle"),u=this.baseChild.coreMO().node;return!l&&!!u.attributes.get("movablelimits")},o.prototype.getOverKU=function(l,u){var p=this.node.attributes.get("accent"),h=this.font.params,m=u.d*u.rscale,g=h.rule_thickness*h.separation_factor,E=this.baseHasAccentOver?g:0,S=this.isLineAbove?3*h.rule_thickness:g,O=(p?S:Math.max(h.big_op_spacing1,h.big_op_spacing3-Math.max(0,m)))-E;return[O,l.h*l.rscale+O+m]},o.prototype.getUnderKV=function(l,u){var p=this.node.attributes.get("accentunder"),h=this.font.params,m=u.h*u.rscale,g=h.rule_thickness*h.separation_factor,E=this.baseHasAccentUnder?g:0,S=this.isLineBelow?3*h.rule_thickness:g,O=(p?S:Math.max(h.big_op_spacing2,h.big_op_spacing4-m))-E;return[O,-(l.d*l.rscale+O+m)]},o.prototype.getDeltaW=function(l,u){var p,h,m,g;u===void 0&&(u=[0,0,0]);var E=this.node.attributes.get("align"),S=l.map(function(P){return P.w*P.rscale});S[0]-=this.baseRemoveIc&&!this.baseCore.node.attributes.get("largeop")?this.baseIc:0;var O=Math.max.apply(Math,y([],x(S),!1)),A=[],_=0;try{for(var T=d(S.keys()),N=T.next();!N.done;N=T.next()){var w=N.value;A[w]=(E==="center"?(O-S[w])/2:E==="right"?O-S[w]:0)+u[w],A[w]<_&&(_=-A[w])}}catch(P){p={error:P}}finally{try{N&&!N.done&&(h=T.return)&&h.call(T)}finally{if(p)throw p.error}}if(_)try{for(var L=d(A.keys()),I=L.next();!I.done;I=L.next())w=I.value,A[w]+=_}catch(P){m={error:P}}finally{try{I&&!I.done&&(g=L.return)&&g.call(L)}finally{if(m)throw m.error}}return[1,2].map(function(P){return A[P]+=l[P]?l[P].dx*l[0].scale:0}),A},o.prototype.getDelta=function(l){l===void 0&&(l=!1);var u=this.node.attributes.get("accent"),p=this.baseCore.getOuterBBox(),h=p.sk,m=p.ic;return((u&&!l?h:0)+this.font.skewIcFactor*m)*this.baseScale},o.prototype.stretchChildren=function(){var l,u,p,h,m,g,E=[];try{for(var S=d(this.childNodes),O=S.next();!O.done;O=S.next())(j=O.value).canStretch(2)&&E.push(j)}catch(U){l={error:U}}finally{try{O&&!O.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}var A=E.length,_=this.childNodes.length;if(A&&_>1){var T=0,N=A>1&&A===_;try{for(var w=d(this.childNodes),L=w.next();!L.done;L=w.next()){var I=(j=L.value).stretch.dir===0;if(N||I){var P=j.getOuterBBox(I),k=P.w,B=P.rscale;k*B>T&&(T=k*B)}}}catch(U){p={error:U}}finally{try{L&&!L.done&&(h=w.return)&&h.call(w)}finally{if(p)throw p.error}}try{for(var F=d(E),H=F.next();!H.done;H=F.next()){var j;(j=H.value).coreMO().getStretchedVariant([T/j.bbox.rscale])}}catch(U){m={error:U}}finally{try{H&&!H.done&&(g=F.return)&&g.call(F)}finally{if(m)throw m.error}}}},o}(c),s.useIC=!0,s}},5806:function(R,e){var v,M=this&&this.__extends||(v=function(C,x){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(y[f]=d[f])},v(C,x)},function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function y(){this.constructor=C}v(C,x),C.prototype=x===null?Object.create(x):(y.prototype=x.prototype,new y)});Object.defineProperty(e,"__esModule",{value:!0}),e.CommonSemanticsMixin=void 0,e.CommonSemanticsMixin=function(C){return function(x){function y(){return x!==null&&x.apply(this,arguments)||this}return M(y,x),y.prototype.computeBBox=function(d,f){if(this.childNodes.length){var c=this.childNodes[0].getBBox(),s=c.w,a=c.h,o=c.d;d.w=s,d.h=a,d.d=o}},y}(C)}},5920:function(R,e){var v,M=this&&this.__extends||(v=function(d,f){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(c[a]=s[a])},v(d,f)},function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=d}v(d,f),d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}),C=this&&this.__assign||function(){return C=Object.assign||function(d){for(var f,c=1,s=arguments.length;c<s;c++)for(var a in f=arguments[c])Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a]);return d},C.apply(this,arguments)},x=this&&this.__read||function(d,f){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var s,a,o=c.call(d),l=[];try{for(;(f===void 0||f-- >0)&&!(s=o.next()).done;)l.push(s.value)}catch(u){a={error:u}}finally{try{s&&!s.done&&(c=o.return)&&c.call(o)}finally{if(a)throw a.error}}return l},y=this&&this.__spreadArray||function(d,f,c){if(c||arguments.length===2)for(var s,a=0,o=f.length;a<o;a++)!s&&a in f||(s||(s=Array.prototype.slice.call(f,0,a)),s[a]=f[a]);return d.concat(s||Array.prototype.slice.call(f))};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonTeXFontMixin=void 0,e.CommonTeXFontMixin=function(d){var f;return f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return M(s,c),s.prototype.getDelimiterData=function(a){return this.getChar("-smallop",a)||this.getChar("-size4",a)},s}(d),f.NAME="TeX",f.defaultVariants=y(y([],x(d.defaultVariants),!1),[["-smallop","normal"],["-largeop","normal"],["-size3","normal"],["-size4","normal"],["-tex-calligraphic","italic"],["-tex-bold-calligraphic","bold-italic"],["-tex-oldstyle","normal"],["-tex-bold-oldstyle","bold"],["-tex-mathit","italic"],["-tex-variant","normal"]],!1),f.defaultCssFonts=C(C({},d.defaultCssFonts),{"-smallop":["serif",!1,!1],"-largeop":["serif",!1,!1],"-size3":["serif",!1,!1],"-size4":["serif",!1,!1],"-tex-calligraphic":["cursive",!0,!1],"-tex-bold-calligraphic":["cursive",!0,!0],"-tex-oldstyle":["serif",!1,!1],"-tex-bold-oldstyle":["serif",!1,!0],"-tex-mathit":["serif",!0,!1]}),f.defaultSizeVariants=["normal","-smallop","-largeop","-size3","-size4","-tex-variant"],f.defaultStretchVariants=["-size4"],f}},3980:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.boldItalic=void 0,e.boldItalic={47:[.711,.21,.894],305:[.452,.008,.394,{sk:.0319}],567:[.451,.201,.439,{sk:.0958}],8260:[.711,.21,.894],8710:[.711,0,.958,{sk:.192}],10744:[.711,.21,.894]}},1103:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.bold=void 0,e.bold={33:[.705,0,.35],34:[.694,-.329,.603],35:[.694,.193,.958],36:[.75,.056,.575],37:[.75,.056,.958],38:[.705,.011,.894],39:[.694,-.329,.319],40:[.75,.249,.447],41:[.75,.249,.447],42:[.75,-.306,.575],43:[.633,.131,.894],44:[.171,.194,.319],45:[.278,-.166,.383],46:[.171,0,.319],47:[.75,.25,.575],58:[.444,0,.319],59:[.444,.194,.319],60:[.587,.085,.894],61:[.393,-.109,.894],62:[.587,.085,.894],63:[.7,0,.543],64:[.699,.006,.894],91:[.75,.25,.319],92:[.75,.25,.575],93:[.75,.25,.319],94:[.694,-.52,.575],95:[-.01,.061,.575],96:[.706,-.503,.575],123:[.75,.25,.575],124:[.75,.249,.319],125:[.75,.25,.575],126:[.344,-.202,.575],168:[.695,-.535,.575],172:[.371,-.061,.767],175:[.607,-.54,.575],176:[.702,-.536,.575],177:[.728,.035,.894],180:[.706,-.503,.575],183:[.336,-.166,.319],215:[.53,.028,.894],247:[.597,.096,.894],305:[.442,0,.278,{sk:.0278}],567:[.442,.205,.306,{sk:.0833}],697:[.563,-.033,.344],710:[.694,-.52,.575],711:[.66,-.515,.575],713:[.607,-.54,.575],714:[.706,-.503,.575],715:[.706,-.503,.575],728:[.694,-.5,.575],729:[.695,-.525,.575],730:[.702,-.536,.575],732:[.694,-.552,.575],768:[.706,-.503,0],769:[.706,-.503,0],770:[.694,-.52,0],771:[.694,-.552,0],772:[.607,-.54,0],774:[.694,-.5,0],775:[.695,-.525,0],776:[.695,-.535,0],778:[.702,-.536,0],779:[.714,-.511,0],780:[.66,-.515,0],824:[.711,.21,0],8194:[0,0,.5],8195:[0,0,.999],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8201:[0,0,.167],8202:[0,0,.083],8211:[.3,-.249,.575],8212:[.3,-.249,1.15],8213:[.3,-.249,1.15],8214:[.75,.248,.575],8215:[-.01,.061,.575],8216:[.694,-.329,.319],8217:[.694,-.329,.319],8220:[.694,-.329,.603],8221:[.694,-.329,.603],8224:[.702,.211,.511],8225:[.702,.202,.511],8226:[.474,-.028,.575],8230:[.171,0,1.295],8242:[.563,-.033,.344],8243:[.563,0,.688],8244:[.563,0,1.032],8254:[.607,-.54,.575],8260:[.75,.25,.575],8279:[.563,0,1.376],8407:[.723,-.513,.575],8463:[.694,.008,.668,{sk:-.0319}],8467:[.702,.019,.474,{sk:.128}],8472:[.461,.21,.74],8501:[.694,0,.703],8592:[.518,.017,1.15],8593:[.694,.193,.575],8594:[.518,.017,1.15],8595:[.694,.194,.575],8596:[.518,.017,1.15],8597:[.767,.267,.575],8598:[.724,.194,1.15],8599:[.724,.193,1.15],8600:[.694,.224,1.15],8601:[.694,.224,1.15],8602:[.711,.21,1.15],8603:[.711,.21,1.15],8614:[.518,.017,1.15],8617:[.518,.017,1.282],8618:[.518,.017,1.282],8622:[.711,.21,1.15],8636:[.518,-.22,1.15],8637:[.281,.017,1.15],8640:[.518,-.22,1.15],8641:[.281,.017,1.15],8652:[.718,.017,1.15],8653:[.711,.21,1.15],8654:[.711,.21,1.15],8655:[.711,.21,1.15],8656:[.547,.046,1.15],8657:[.694,.193,.703],8658:[.547,.046,1.15],8659:[.694,.194,.703],8660:[.547,.046,1.15],8661:[.767,.267,.703],8704:[.694,.016,.639],8707:[.694,0,.639],8708:[.711,.21,.639],8709:[.767,.073,.575],8710:[.698,0,.958],8712:[.587,.086,.767],8713:[.711,.21,.767],8715:[.587,.086,.767],8716:[.711,.21,.767],8722:[.281,-.221,.894],8723:[.537,.227,.894],8725:[.75,.25,.575],8726:[.75,.25,.575],8727:[.472,-.028,.575],8728:[.474,-.028,.575],8729:[.474,-.028,.575],8730:[.82,.18,.958,{ic:.03}],8733:[.451,.008,.894],8734:[.452,.008,1.15],8736:[.714,0,.722],8739:[.75,.249,.319],8740:[.75,.249,.319],8741:[.75,.248,.575],8742:[.75,.248,.575],8743:[.604,.017,.767],8744:[.604,.016,.767],8745:[.603,.016,.767],8746:[.604,.016,.767],8747:[.711,.211,.569,{ic:.063}],8764:[.391,-.109,.894],8768:[.583,.082,.319],8769:[.711,.21,.894],8771:[.502,0,.894],8772:[.711,.21,.894],8773:[.638,.027,.894],8775:[.711,.21,.894],8776:[.524,-.032,.894],8777:[.711,.21,.894],8781:[.533,.032,.894],8784:[.721,-.109,.894],8800:[.711,.21,.894],8801:[.505,0,.894],8802:[.711,.21,.894],8804:[.697,.199,.894],8805:[.697,.199,.894],8810:[.617,.116,1.15],8811:[.618,.116,1.15],8813:[.711,.21,.894],8814:[.711,.21,.894],8815:[.711,.21,.894],8816:[.711,.21,.894],8817:[.711,.21,.894],8826:[.585,.086,.894],8827:[.586,.086,.894],8832:[.711,.21,.894],8833:[.711,.21,.894],8834:[.587,.085,.894],8835:[.587,.086,.894],8836:[.711,.21,.894],8837:[.711,.21,.894],8838:[.697,.199,.894],8839:[.697,.199,.894],8840:[.711,.21,.894],8841:[.711,.21,.894],8846:[.604,.016,.767],8849:[.697,.199,.894],8850:[.697,.199,.894],8851:[.604,0,.767],8852:[.604,0,.767],8853:[.632,.132,.894],8854:[.632,.132,.894],8855:[.632,.132,.894],8856:[.632,.132,.894],8857:[.632,.132,.894],8866:[.693,0,.703],8867:[.693,0,.703],8868:[.694,0,.894],8869:[.693,0,.894],8872:[.75,.249,.974],8876:[.711,.21,.703],8877:[.75,.249,.974],8900:[.523,.021,.575],8901:[.336,-.166,.319],8902:[.502,0,.575],8904:[.54,.039,1],8930:[.711,.21,.894],8931:[.711,.21,.894],8942:[.951,.029,.319],8943:[.336,-.166,1.295],8945:[.871,-.101,1.323],8968:[.75,.248,.511],8969:[.75,.248,.511],8970:[.749,.248,.511],8971:[.749,.248,.511],8994:[.405,-.108,1.15],8995:[.392,-.126,1.15],9001:[.75,.249,.447],9002:[.75,.249,.447],9651:[.711,0,1.022],9653:[.711,0,1.022],9657:[.54,.039,.575],9661:[.5,.21,1.022],9663:[.5,.21,1.022],9667:[.539,.038,.575],9711:[.711,.211,1.15],9824:[.719,.129,.894],9825:[.711,.024,.894],9826:[.719,.154,.894],9827:[.719,.129,.894],9837:[.75,.017,.447],9838:[.741,.223,.447],9839:[.724,.224,.447],10072:[.75,.249,.319],10216:[.75,.249,.447],10217:[.75,.249,.447],10229:[.518,.017,1.805],10230:[.518,.017,1.833],10231:[.518,.017,2.126],10232:[.547,.046,1.868],10233:[.547,.046,1.87],10234:[.547,.046,2.126],10236:[.518,.017,1.833],10744:[.711,.21,.894],10799:[.53,.028,.894],10815:[.686,0,.9],10927:[.696,.199,.894],10928:[.697,.199,.894],12296:[.75,.249,.447],12297:[.75,.249,.447]}},9124:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.delimiters=e.VSIZES=e.HDW3=e.HDW2=e.HDW1=void 0;var M=v(5884);e.HDW1=[.75,.25,.875],e.HDW2=[.85,.349,.667],e.HDW3=[.583,.082,.5],e.VSIZES=[1,1.2,1.8,2.4,3];var C={c:47,dir:M.V,sizes:e.VSIZES},x={c:175,dir:M.H,sizes:[.5],stretch:[0,175],HDW:[.59,-.544,.5]},y={c:710,dir:M.H,sizes:[.5,.556,1,1.444,1.889]},d={c:732,dir:M.H,sizes:[.5,.556,1,1.444,1.889]},f={c:8211,dir:M.H,sizes:[.5],stretch:[0,8211],HDW:[.285,-.248,.5]},c={c:8592,dir:M.H,sizes:[1],stretch:[8592,8722],HDW:e.HDW3},s={c:8594,dir:M.H,sizes:[1],stretch:[0,8722,8594],HDW:e.HDW3},a={c:8596,dir:M.H,sizes:[1],stretch:[8592,8722,8594],HDW:e.HDW3},o={c:8612,dir:M.H,stretch:[8592,8722,8739],HDW:e.HDW3,min:1.278},l={c:8614,dir:M.H,sizes:[1],stretch:[8739,8722,8594],HDW:e.HDW3},u={c:8656,dir:M.H,sizes:[1],stretch:[8656,61],HDW:e.HDW3},p={c:8658,dir:M.H,sizes:[1],stretch:[0,61,8658],HDW:e.HDW3},h={c:8660,dir:M.H,sizes:[1],stretch:[8656,61,8658],HDW:e.HDW3},m={c:8722,dir:M.H,sizes:[.778],stretch:[0,8722],HDW:e.HDW3},g={c:8739,dir:M.V,sizes:[1],stretch:[0,8739],HDW:[.627,.015,.333]},E={c:9180,dir:M.H,sizes:[.778,1],schar:[8994,8994],variants:[5,0],stretch:[57680,57684,57681],HDW:[.32,.2,.5]},S={c:9181,dir:M.H,sizes:[.778,1],schar:[8995,8995],variants:[5,0],stretch:[57682,57684,57683],HDW:[.32,.2,.5]},O={c:9182,dir:M.H,stretch:[57680,57684,57681,57685],HDW:[.32,.2,.5],min:1.8},A={c:9183,dir:M.H,stretch:[57682,57684,57683,57686],HDW:[.32,.2,.5],min:1.8},_={c:10216,dir:M.V,sizes:e.VSIZES},T={c:10217,dir:M.V,sizes:e.VSIZES},N={c:10502,dir:M.H,stretch:[8656,61,8739],HDW:e.HDW3,min:1.278},w={c:10503,dir:M.H,stretch:[8872,61,8658],HDW:e.HDW3,min:1.278};e.delimiters={40:{dir:M.V,sizes:e.VSIZES,stretch:[9115,9116,9117],HDW:[.85,.349,.875]},41:{dir:M.V,sizes:e.VSIZES,stretch:[9118,9119,9120],HDW:[.85,.349,.875]},45:m,47:C,61:{dir:M.H,sizes:[.778],stretch:[0,61],HDW:e.HDW3},91:{dir:M.V,sizes:e.VSIZES,stretch:[9121,9122,9123],HDW:e.HDW2},92:{dir:M.V,sizes:e.VSIZES},93:{dir:M.V,sizes:e.VSIZES,stretch:[9124,9125,9126],HDW:e.HDW2},94:y,95:f,123:{dir:M.V,sizes:e.VSIZES,stretch:[9127,9130,9129,9128],HDW:[.85,.349,.889]},124:{dir:M.V,sizes:[1],stretch:[0,8739],HDW:[.75,.25,.333]},125:{dir:M.V,sizes:e.VSIZES,stretch:[9131,9130,9133,9132],HDW:[.85,.349,.889]},126:d,175:x,710:y,713:x,732:d,770:y,771:d,818:f,8211:f,8212:f,8213:f,8214:{dir:M.V,sizes:[.602,1],schar:[0,8741],variants:[1,0],stretch:[0,8741],HDW:[.602,0,.556]},8215:f,8254:x,8407:s,8592:c,8593:{dir:M.V,sizes:[.888],stretch:[8593,9168],HDW:[.6,0,.667]},8594:s,8595:{dir:M.V,sizes:[.888],stretch:[0,9168,8595],HDW:[.6,0,.667]},8596:a,8597:{dir:M.V,sizes:[1.044],stretch:[8593,9168,8595],HDW:e.HDW1},8606:{dir:M.H,sizes:[1],stretch:[8606,8722],HDW:e.HDW3},8608:{dir:M.H,sizes:[1],stretch:[0,8722,8608],HDW:e.HDW3},8612:o,8613:{dir:M.V,stretch:[8593,9168,8869],HDW:e.HDW1,min:1.555},8614:l,8615:{dir:M.V,stretch:[8868,9168,8595],HDW:e.HDW1,min:1.555},8624:{dir:M.V,sizes:[.722],stretch:[8624,9168],HDW:e.HDW1},8625:{dir:M.V,sizes:[.722],stretch:[8625,9168],HDW:e.HDW1},8636:{dir:M.H,sizes:[1],stretch:[8636,8722],HDW:e.HDW3},8637:{dir:M.H,sizes:[1],stretch:[8637,8722],HDW:e.HDW3},8638:{dir:M.V,sizes:[.888],stretch:[8638,9168],HDW:e.HDW1},8639:{dir:M.V,sizes:[.888],stretch:[8639,9168],HDW:e.HDW1},8640:{dir:M.H,sizes:[1],stretch:[0,8722,8640],HDW:e.HDW3},8641:{dir:M.H,sizes:[1],stretch:[0,8722,8641],HDW:e.HDW3},8642:{dir:M.V,sizes:[.888],stretch:[0,9168,8642],HDW:e.HDW1},8643:{dir:M.V,sizes:[.888],stretch:[0,9168,8643],HDW:e.HDW1},8656:u,8657:{dir:M.V,sizes:[.888],stretch:[8657,8214],HDW:[.599,0,.778]},8658:p,8659:{dir:M.V,sizes:[.888],stretch:[0,8214,8659],HDW:[.6,0,.778]},8660:h,8661:{dir:M.V,sizes:[1.044],stretch:[8657,8214,8659],HDW:[.75,.25,.778]},8666:{dir:M.H,sizes:[1],stretch:[8666,8801],HDW:[.464,-.036,.5]},8667:{dir:M.H,sizes:[1],stretch:[0,8801,8667],HDW:[.464,-.036,.5]},8722:m,8725:C,8730:{dir:M.V,sizes:e.VSIZES,stretch:[57345,57344,9143],fullExt:[.65,2.3],HDW:[.85,.35,1.056]},8739:g,8741:{dir:M.V,sizes:[1],stretch:[0,8741],HDW:[.627,.015,.556]},8968:{dir:M.V,sizes:e.VSIZES,stretch:[9121,9122],HDW:e.HDW2},8969:{dir:M.V,sizes:e.VSIZES,stretch:[9124,9125],HDW:e.HDW2},8970:{dir:M.V,sizes:e.VSIZES,stretch:[0,9122,9123],HDW:e.HDW2},8971:{dir:M.V,sizes:e.VSIZES,stretch:[0,9125,9126],HDW:e.HDW2},8978:E,8994:E,8995:S,9001:_,9002:T,9130:{dir:M.V,sizes:[.32],stretch:[9130,9130,9130],HDW:[.29,.015,.889]},9135:f,9136:{dir:M.V,sizes:[.989],stretch:[9127,9130,9133],HDW:[.75,.25,.889]},9137:{dir:M.V,sizes:[.989],stretch:[9131,9130,9129],HDW:[.75,.25,.889]},9140:{dir:M.H,stretch:[9484,8722,9488],HDW:e.HDW3,min:1},9141:{dir:M.H,stretch:[9492,8722,9496],HDW:e.HDW3,min:1},9168:{dir:M.V,sizes:[.602,1],schar:[0,8739],variants:[1,0],stretch:[0,8739],HDW:[.602,0,.333]},9180:E,9181:S,9182:O,9183:A,9184:{dir:M.H,stretch:[714,713,715],HDW:[.59,-.544,.5],min:1},9185:{dir:M.H,stretch:[715,713,714],HDW:[.59,-.544,.5],min:1},9472:f,10072:g,10216:_,10217:T,10222:{dir:M.V,sizes:[.989],stretch:[9127,9130,9129],HDW:[.75,.25,.889]},10223:{dir:M.V,sizes:[.989],stretch:[9131,9130,9133],HDW:[.75,.25,.889]},10229:c,10230:s,10231:a,10232:u,10233:p,10234:h,10235:o,10236:l,10237:N,10238:w,10502:N,10503:w,10574:{dir:M.H,stretch:[8636,8722,8640],HDW:e.HDW3,min:2},10575:{dir:M.V,stretch:[8638,9168,8642],HDW:e.HDW1,min:1.776},10576:{dir:M.H,stretch:[8637,8722,8641],HDW:e.HDW3,min:2},10577:{dir:M.V,stretch:[8639,9168,8643],HDW:e.HDW1,min:.5},10586:{dir:M.H,stretch:[8636,8722,8739],HDW:e.HDW3,min:1.278},10587:{dir:M.H,stretch:[8739,8722,8640],HDW:e.HDW3,min:1.278},10588:{dir:M.V,stretch:[8638,9168,8869],HDW:e.HDW1,min:1.556},10589:{dir:M.V,stretch:[8868,9168,8642],HDW:e.HDW1,min:1.556},10590:{dir:M.H,stretch:[8637,8722,8739],HDW:e.HDW3,min:1.278},10591:{dir:M.H,stretch:[8739,8722,8641],HDW:e.HDW3,min:1.278},10592:{dir:M.V,stretch:[8639,9168,8869],HDW:e.HDW1,min:1.776},10593:{dir:M.V,stretch:[8868,9168,8643],HDW:e.HDW1,min:1.776},12296:_,12297:T,65079:O,65080:A}},6001:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.doubleStruck=void 0,e.doubleStruck={}},3696:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.frakturBold=void 0,e.frakturBold={33:[.689,.012,.349],34:[.695,-.432,.254],38:[.696,.016,.871],39:[.695,-.436,.25],40:[.737,.186,.459],41:[.735,.187,.459],42:[.692,-.449,.328],43:[.598,.082,.893],44:[.107,.191,.328],45:[.275,-.236,.893],46:[.102,.015,.328],47:[.721,.182,.593],48:[.501,.012,.593],49:[.489,0,.593],50:[.491,0,.593],51:[.487,.193,.593],52:[.495,.196,.593],53:[.481,.19,.593],54:[.704,.012,.593],55:[.479,.197,.593],56:[.714,.005,.593],57:[.487,.195,.593],58:[.457,.012,.255],59:[.458,.19,.255],61:[.343,-.168,.582],63:[.697,.014,.428],91:[.74,.13,.257],93:[.738,.132,.257],94:[.734,-.452,.59],8216:[.708,-.411,.254],8217:[.692,-.394,.254],8260:[.721,.182,.593],58113:[.63,.027,.587],58114:[.693,.212,.394,{ic:.014}],58115:[.681,.219,.387],58116:[.473,.212,.593],58117:[.684,.027,.393],58120:[.679,.22,.981],58121:[.717,.137,.727]}},9587:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fraktur=void 0,e.fraktur={33:[.689,.012,.296],34:[.695,-.432,.215],38:[.698,.011,.738],39:[.695,-.436,.212],40:[.737,.186,.389],41:[.735,.187,.389],42:[.692,-.449,.278],43:[.598,.082,.756],44:[.107,.191,.278],45:[.275,-.236,.756],46:[.102,.015,.278],47:[.721,.182,.502],48:[.492,.013,.502],49:[.468,0,.502],50:[.474,0,.502],51:[.473,.182,.502],52:[.476,.191,.502],53:[.458,.184,.502],54:[.7,.013,.502],55:[.468,.181,.502],56:[.705,.01,.502],57:[.469,.182,.502],58:[.457,.012,.216],59:[.458,.189,.216],61:[.368,-.132,.756],63:[.693,.011,.362],91:[.74,.13,.278],93:[.738,.131,.278],94:[.734,-.452,.5],8216:[.708,-.41,.215],8217:[.692,-.395,.215],8260:[.721,.182,.502],58112:[.683,.032,.497],58113:[.616,.03,.498],58114:[.68,.215,.333],58115:[.679,.224,.329],58116:[.471,.214,.503],58117:[.686,.02,.333],58118:[.577,.021,.334,{ic:.013}],58119:[.475,.022,.501,{ic:.013}]}},8348:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.italic=void 0,e.italic={33:[.716,0,.307,{ic:.073}],34:[.694,-.379,.514,{ic:.024}],35:[.694,.194,.818,{ic:.01}],37:[.75,.056,.818,{ic:.029}],38:[.716,.022,.767,{ic:.035}],39:[.694,-.379,.307,{ic:.07}],40:[.75,.25,.409,{ic:.108}],41:[.75,.25,.409],42:[.75,-.32,.511,{ic:.073}],43:[.557,.057,.767],44:[.121,.194,.307],45:[.251,-.18,.358],46:[.121,0,.307],47:[.716,.215,.778],48:[.665,.021,.511,{ic:.051}],49:[.666,0,.511],50:[.666,.022,.511,{ic:.04}],51:[.666,.022,.511,{ic:.051}],52:[.666,.194,.511],53:[.666,.022,.511,{ic:.056}],54:[.665,.022,.511,{ic:.054}],55:[.666,.022,.511,{ic:.123}],56:[.666,.021,.511,{ic:.042}],57:[.666,.022,.511,{ic:.042}],58:[.431,0,.307],59:[.431,.194,.307],61:[.367,-.133,.767],63:[.716,0,.511,{ic:.04}],64:[.705,.011,.767,{ic:.022}],91:[.75,.25,.307,{ic:.139}],93:[.75,.25,.307,{ic:.052}],94:[.694,-.527,.511,{ic:.017}],95:[-.025,.062,.511,{ic:.043}],126:[.318,-.208,.511,{ic:.06}],305:[.441,.01,.307,{ic:.033}],567:[.442,.204,.332],768:[.697,-.5,0],769:[.697,-.5,0,{ic:.039}],770:[.694,-.527,0,{ic:.017}],771:[.668,-.558,0,{ic:.06}],772:[.589,-.544,0,{ic:.054}],774:[.694,-.515,0,{ic:.062}],775:[.669,-.548,0],776:[.669,-.554,0,{ic:.045}],778:[.716,-.542,0],779:[.697,-.503,0,{ic:.065}],780:[.638,-.502,0,{ic:.029}],989:[.605,.085,.778],8211:[.285,-.248,.511,{ic:.043}],8212:[.285,-.248,1.022,{ic:.016}],8213:[.285,-.248,1.022,{ic:.016}],8215:[-.025,.062,.511,{ic:.043}],8216:[.694,-.379,.307,{ic:.055}],8217:[.694,-.379,.307,{ic:.07}],8220:[.694,-.379,.514,{ic:.092}],8221:[.694,-.379,.514,{ic:.024}],8260:[.716,.215,.778],8463:[.695,.013,.54,{ic:.022}],8710:[.716,0,.833,{sk:.167}],10744:[.716,.215,.778]}},1376:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.largeop=void 0,e.largeop={40:[1.15,.649,.597],41:[1.15,.649,.597],47:[1.15,.649,.811],91:[1.15,.649,.472],92:[1.15,.649,.811],93:[1.15,.649,.472],123:[1.15,.649,.667],125:[1.15,.649,.667],710:[.772,-.565,1],732:[.75,-.611,1],770:[.772,-.565,0],771:[.75,-.611,0],8214:[.602,0,.778],8260:[1.15,.649,.811],8593:[.6,0,.667],8595:[.6,0,.667],8657:[.599,0,.778],8659:[.6,0,.778],8719:[.95,.45,1.278],8720:[.95,.45,1.278],8721:[.95,.45,1.444],8730:[1.15,.65,1,{ic:.02}],8739:[.627,.015,.333],8741:[.627,.015,.556],8747:[1.36,.862,.556,{ic:.388}],8748:[1.36,.862,1.084,{ic:.388}],8749:[1.36,.862,1.592,{ic:.388}],8750:[1.36,.862,.556,{ic:.388}],8896:[.95,.45,1.111],8897:[.95,.45,1.111],8898:[.949,.45,1.111],8899:[.95,.449,1.111],8968:[1.15,.649,.528],8969:[1.15,.649,.528],8970:[1.15,.649,.528],8971:[1.15,.649,.528],9001:[1.15,.649,.611],9002:[1.15,.649,.611],9168:[.602,0,.667],10072:[.627,.015,.333],10216:[1.15,.649,.611],10217:[1.15,.649,.611],10752:[.949,.449,1.511],10753:[.949,.449,1.511],10754:[.949,.449,1.511],10756:[.95,.449,1.111],10758:[.95,.45,1.111],10764:[1.36,.862,2.168,{ic:.388}],12296:[1.15,.649,.611],12297:[1.15,.649,.611]}},1439:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.monospace=void 0,e.monospace={32:[0,0,.525],33:[.622,0,.525],34:[.623,-.333,.525],35:[.611,0,.525],36:[.694,.082,.525],37:[.694,.083,.525],38:[.622,.011,.525],39:[.611,-.287,.525],40:[.694,.082,.525],41:[.694,.082,.525],42:[.52,-.09,.525],43:[.531,-.081,.525],44:[.14,.139,.525],45:[.341,-.271,.525],46:[.14,0,.525],47:[.694,.083,.525],58:[.431,0,.525],59:[.431,.139,.525],60:[.557,-.055,.525],61:[.417,-.195,.525],62:[.557,-.055,.525],63:[.617,0,.525],64:[.617,.006,.525],91:[.694,.082,.525],92:[.694,.083,.525],93:[.694,.082,.525],94:[.611,-.46,.525],95:[-.025,.095,.525],96:[.681,-.357,.525],123:[.694,.083,.525],124:[.694,.082,.525],125:[.694,.083,.525],126:[.611,-.466,.525],127:[.612,-.519,.525],160:[0,0,.525],305:[.431,0,.525],567:[.431,.228,.525],697:[.623,-.334,.525],768:[.611,-.485,0],769:[.611,-.485,0],770:[.611,-.46,0],771:[.611,-.466,0],772:[.577,-.5,0],774:[.611,-.504,0],776:[.612,-.519,0],778:[.619,-.499,0],780:[.577,-.449,0],913:[.623,0,.525],914:[.611,0,.525],915:[.611,0,.525],916:[.623,0,.525],917:[.611,0,.525],918:[.611,0,.525],919:[.611,0,.525],920:[.621,.01,.525],921:[.611,0,.525],922:[.611,0,.525],923:[.623,0,.525],924:[.611,0,.525],925:[.611,0,.525],926:[.611,0,.525],927:[.621,.01,.525],928:[.611,0,.525],929:[.611,0,.525],931:[.611,0,.525],932:[.611,0,.525],933:[.622,0,.525],934:[.611,0,.525],935:[.611,0,.525],936:[.611,0,.525],937:[.622,0,.525],8215:[-.025,.095,.525],8242:[.623,-.334,.525],8243:[.623,0,1.05],8244:[.623,0,1.575],8260:[.694,.083,.525],8279:[.623,0,2.1],8710:[.623,0,.525]}},331:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.normal=void 0,e.normal={32:[0,0,.25],33:[.716,0,.278],34:[.694,-.379,.5],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.778],39:[.694,-.379,.278],40:[.75,.25,.389],41:[.75,.25,.389],42:[.75,-.32,.5],43:[.583,.082,.778],44:[.121,.194,.278],45:[.252,-.179,.333],46:[.12,0,.278],47:[.75,.25,.5],48:[.666,.022,.5],49:[.666,0,.5],50:[.666,0,.5],51:[.665,.022,.5],52:[.677,0,.5],53:[.666,.022,.5],54:[.666,.022,.5],55:[.676,.022,.5],56:[.666,.022,.5],57:[.666,.022,.5],58:[.43,0,.278],59:[.43,.194,.278],60:[.54,.04,.778],61:[.583,.082,.778],62:[.54,.04,.778],63:[.705,0,.472],64:[.705,.011,.778],65:[.716,0,.75],66:[.683,0,.708],67:[.705,.021,.722],68:[.683,0,.764],69:[.68,0,.681],70:[.68,0,.653],71:[.705,.022,.785],72:[.683,0,.75],73:[.683,0,.361],74:[.683,.022,.514],75:[.683,0,.778],76:[.683,0,.625],77:[.683,0,.917],78:[.683,0,.75],79:[.705,.022,.778],80:[.683,0,.681],81:[.705,.193,.778],82:[.683,.022,.736],83:[.705,.022,.556],84:[.677,0,.722],85:[.683,.022,.75],86:[.683,.022,.75],87:[.683,.022,1.028],88:[.683,0,.75],89:[.683,0,.75],90:[.683,0,.611],91:[.75,.25,.278],92:[.75,.25,.5],93:[.75,.25,.278],94:[.694,-.531,.5],95:[-.025,.062,.5],96:[.699,-.505,.5],97:[.448,.011,.5],98:[.694,.011,.556],99:[.448,.011,.444],100:[.694,.011,.556],101:[.448,.011,.444],102:[.705,0,.306,{ic:.066}],103:[.453,.206,.5],104:[.694,0,.556],105:[.669,0,.278],106:[.669,.205,.306],107:[.694,0,.528],108:[.694,0,.278],109:[.442,0,.833],110:[.442,0,.556],111:[.448,.01,.5],112:[.442,.194,.556],113:[.442,.194,.528],114:[.442,0,.392],115:[.448,.011,.394],116:[.615,.01,.389],117:[.442,.011,.556],118:[.431,.011,.528],119:[.431,.011,.722],120:[.431,0,.528],121:[.431,.204,.528],122:[.431,0,.444],123:[.75,.25,.5],124:[.75,.249,.278],125:[.75,.25,.5],126:[.318,-.215,.5],160:[0,0,.25],163:[.714,.011,.769],165:[.683,0,.75],168:[.669,-.554,.5],172:[.356,-.089,.667],174:[.709,.175,.947],175:[.59,-.544,.5],176:[.715,-.542,.5],177:[.666,0,.778],180:[.699,-.505,.5],183:[.31,-.19,.278],215:[.491,-.009,.778],240:[.749,.021,.556],247:[.537,.036,.778],305:[.442,0,.278,{sk:.0278}],567:[.442,.205,.306,{sk:.0833}],697:[.56,-.043,.275],710:[.694,-.531,.5],711:[.644,-.513,.5],713:[.59,-.544,.5],714:[.699,-.505,.5],715:[.699,-.505,.5],728:[.694,-.515,.5],729:[.669,-.549,.5],730:[.715,-.542,.5],732:[.668,-.565,.5],768:[.699,-.505,0],769:[.699,-.505,0],770:[.694,-.531,0],771:[.668,-.565,0],772:[.59,-.544,0],774:[.694,-.515,0],775:[.669,-.549,0],776:[.669,-.554,0],778:[.715,-.542,0],779:[.701,-.51,0],780:[.644,-.513,0],824:[.716,.215,0],913:[.716,0,.75],914:[.683,0,.708],915:[.68,0,.625],916:[.716,0,.833],917:[.68,0,.681],918:[.683,0,.611],919:[.683,0,.75],920:[.705,.022,.778],921:[.683,0,.361],922:[.683,0,.778],923:[.716,0,.694],924:[.683,0,.917],925:[.683,0,.75],926:[.677,0,.667],927:[.705,.022,.778],928:[.68,0,.75],929:[.683,0,.681],931:[.683,0,.722],932:[.677,0,.722],933:[.705,0,.778],934:[.683,0,.722],935:[.683,0,.75],936:[.683,0,.778],937:[.704,0,.722],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8201:[0,0,.167],8202:[0,0,.1],8203:[0,0,0],8204:[0,0,0],8211:[.285,-.248,.5],8212:[.285,-.248,1],8213:[.285,-.248,1],8214:[.75,.25,.5],8215:[-.025,.062,.5],8216:[.694,-.379,.278],8217:[.694,-.379,.278],8220:[.694,-.379,.5],8221:[.694,-.379,.5],8224:[.705,.216,.444],8225:[.705,.205,.444],8226:[.444,-.055,.5],8230:[.12,0,1.172],8242:[.56,-.043,.275],8243:[.56,0,.55],8244:[.56,0,.825],8245:[.56,-.043,.275],8246:[.56,0,.55],8247:[.56,0,.825],8254:[.59,-.544,.5],8260:[.75,.25,.5],8279:[.56,0,1.1],8288:[0,0,0],8289:[0,0,0],8290:[0,0,0],8291:[0,0,0],8292:[0,0,0],8407:[.714,-.516,.5],8450:[.702,.019,.722],8459:[.717,.036,.969,{ic:.272,sk:.333}],8460:[.666,.133,.72],8461:[.683,0,.778],8462:[.694,.011,.576,{sk:-.0278}],8463:[.695,.013,.54,{ic:.022}],8464:[.717,.017,.809,{ic:.137,sk:.333}],8465:[.686,.026,.554],8466:[.717,.017,.874,{ic:.161,sk:.306}],8467:[.705,.02,.417,{sk:.111}],8469:[.683,.02,.722],8472:[.453,.216,.636,{sk:.111}],8473:[.683,0,.611],8474:[.701,.181,.778],8475:[.717,.017,.85,{ic:.037,sk:.194}],8476:[.686,.026,.828],8477:[.683,0,.722],8484:[.683,0,.667],8486:[.704,0,.722],8487:[.684,.022,.722],8488:[.729,.139,.602],8492:[.708,.028,.908,{ic:.02,sk:.194}],8493:[.685,.024,.613],8496:[.707,.008,.562,{ic:.156,sk:.139}],8497:[.735,.036,.895,{ic:.095,sk:.222}],8498:[.695,0,.556],8499:[.721,.05,1.08,{ic:.136,sk:.444}],8501:[.694,0,.611],8502:[.763,.021,.667,{ic:.02}],8503:[.764,.043,.444],8504:[.764,.043,.667],8513:[.705,.023,.639],8592:[.511,.011,1],8593:[.694,.193,.5],8594:[.511,.011,1],8595:[.694,.194,.5],8596:[.511,.011,1],8597:[.772,.272,.5],8598:[.72,.195,1],8599:[.72,.195,1],8600:[.695,.22,1],8601:[.695,.22,1],8602:[.437,-.06,1],8603:[.437,-.06,1],8606:[.417,-.083,1],8608:[.417,-.083,1],8610:[.417,-.083,1.111],8611:[.417,-.083,1.111],8614:[.511,.011,1],8617:[.511,.011,1.126],8618:[.511,.011,1.126],8619:[.575,.041,1],8620:[.575,.041,1],8621:[.417,-.083,1.389],8622:[.437,-.06,1],8624:[.722,0,.5],8625:[.722,0,.5],8630:[.461,0,1],8631:[.46,0,1],8634:[.65,.083,.778],8635:[.65,.083,.778],8636:[.511,-.23,1],8637:[.27,.011,1],8638:[.694,.194,.417],8639:[.694,.194,.417],8640:[.511,-.23,1],8641:[.27,.011,1],8642:[.694,.194,.417],8643:[.694,.194,.417],8644:[.667,0,1],8646:[.667,0,1],8647:[.583,.083,1],8648:[.694,.193,.833],8649:[.583,.083,1],8650:[.694,.194,.833],8651:[.514,.014,1],8652:[.671,.011,1],8653:[.534,.035,1],8654:[.534,.037,1],8655:[.534,.035,1],8656:[.525,.024,1],8657:[.694,.194,.611],8658:[.525,.024,1],8659:[.694,.194,.611],8660:[.526,.025,1],8661:[.772,.272,.611],8666:[.611,.111,1],8667:[.611,.111,1],8669:[.417,-.083,1],8672:[.437,-.064,1.334],8674:[.437,-.064,1.334],8704:[.694,.022,.556],8705:[.846,.021,.5],8706:[.715,.022,.531,{ic:.035,sk:.0833}],8707:[.694,0,.556],8708:[.716,.215,.556],8709:[.772,.078,.5],8710:[.716,0,.833],8711:[.683,.033,.833],8712:[.54,.04,.667],8713:[.716,.215,.667],8715:[.54,.04,.667],8716:[.716,.215,.667],8717:[.44,0,.429,{ic:.027}],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8722:[.583,.082,.778],8723:[.5,.166,.778],8724:[.766,.093,.778],8725:[.75,.25,.5],8726:[.75,.25,.5],8727:[.465,-.035,.5],8728:[.444,-.055,.5],8729:[.444,-.055,.5],8730:[.8,.2,.833,{ic:.02}],8733:[.442,.011,.778],8734:[.442,.011,1],8736:[.694,0,.722],8737:[.714,.02,.722],8738:[.551,.051,.722],8739:[.75,.249,.278],8740:[.75,.252,.278,{ic:.019}],8741:[.75,.25,.5],8742:[.75,.25,.5,{ic:.018}],8743:[.598,.022,.667],8744:[.598,.022,.667],8745:[.598,.022,.667],8746:[.598,.022,.667],8747:[.716,.216,.417,{ic:.055}],8748:[.805,.306,.819,{ic:.138}],8749:[.805,.306,1.166,{ic:.138}],8750:[.805,.306,.472,{ic:.138}],8756:[.471,.082,.667],8757:[.471,.082,.667],8764:[.367,-.133,.778],8765:[.367,-.133,.778],8768:[.583,.083,.278],8769:[.467,-.032,.778],8770:[.463,-.034,.778],8771:[.464,-.036,.778],8772:[.716,.215,.778],8773:[.589,-.022,.778],8775:[.652,.155,.778],8776:[.483,-.055,.778],8777:[.716,.215,.778],8778:[.579,.039,.778],8781:[.484,-.016,.778],8782:[.492,-.008,.778],8783:[.492,-.133,.778],8784:[.67,-.133,.778],8785:[.609,.108,.778],8786:[.601,.101,.778],8787:[.601,.102,.778],8790:[.367,-.133,.778],8791:[.721,-.133,.778],8796:[.859,-.133,.778],8800:[.716,.215,.778],8801:[.464,-.036,.778],8802:[.716,.215,.778],8804:[.636,.138,.778],8805:[.636,.138,.778],8806:[.753,.175,.778],8807:[.753,.175,.778],8808:[.752,.286,.778],8809:[.752,.286,.778],8810:[.568,.067,1],8811:[.567,.067,1],8812:[.75,.25,.5],8813:[.716,.215,.778],8814:[.708,.209,.778],8815:[.708,.209,.778],8816:[.801,.303,.778],8817:[.801,.303,.778],8818:[.732,.228,.778],8819:[.732,.228,.778],8820:[.732,.228,.778],8821:[.732,.228,.778],8822:[.681,.253,.778],8823:[.681,.253,.778],8824:[.716,.253,.778],8825:[.716,.253,.778],8826:[.539,.041,.778],8827:[.539,.041,.778],8828:[.58,.153,.778],8829:[.58,.154,.778],8830:[.732,.228,.778],8831:[.732,.228,.778],8832:[.705,.208,.778],8833:[.705,.208,.778],8834:[.54,.04,.778],8835:[.54,.04,.778],8836:[.716,.215,.778],8837:[.716,.215,.778],8838:[.636,.138,.778],8839:[.636,.138,.778],8840:[.801,.303,.778],8841:[.801,.303,.778],8842:[.635,.241,.778],8843:[.635,.241,.778],8846:[.598,.022,.667],8847:[.539,.041,.778],8848:[.539,.041,.778],8849:[.636,.138,.778],8850:[.636,.138,.778],8851:[.598,0,.667],8852:[.598,0,.667],8853:[.583,.083,.778],8854:[.583,.083,.778],8855:[.583,.083,.778],8856:[.583,.083,.778],8857:[.583,.083,.778],8858:[.582,.082,.778],8859:[.582,.082,.778],8861:[.582,.082,.778],8862:[.689,0,.778],8863:[.689,0,.778],8864:[.689,0,.778],8865:[.689,0,.778],8866:[.694,0,.611],8867:[.694,0,.611],8868:[.668,0,.778],8869:[.668,0,.778],8872:[.75,.249,.867],8873:[.694,0,.722],8874:[.694,0,.889],8876:[.695,0,.611],8877:[.695,0,.611],8878:[.695,0,.722],8879:[.695,0,.722],8882:[.539,.041,.778],8883:[.539,.041,.778],8884:[.636,.138,.778],8885:[.636,.138,.778],8888:[.408,-.092,1.111],8890:[.431,.212,.556],8891:[.716,0,.611],8892:[.716,0,.611],8896:[.75,.249,.833],8897:[.75,.249,.833],8898:[.75,.249,.833],8899:[.75,.249,.833],8900:[.488,-.012,.5],8901:[.31,-.19,.278],8902:[.486,-.016,.5],8903:[.545,.044,.778],8904:[.505,.005,.9],8905:[.492,-.008,.778],8906:[.492,-.008,.778],8907:[.694,.022,.778],8908:[.694,.022,.778],8909:[.464,-.036,.778],8910:[.578,.021,.76],8911:[.578,.022,.76],8912:[.54,.04,.778],8913:[.54,.04,.778],8914:[.598,.022,.667],8915:[.598,.022,.667],8916:[.736,.022,.667],8918:[.541,.041,.778],8919:[.541,.041,.778],8920:[.568,.067,1.333],8921:[.568,.067,1.333],8922:[.886,.386,.778],8923:[.886,.386,.778],8926:[.734,0,.778],8927:[.734,0,.778],8928:[.801,.303,.778],8929:[.801,.303,.778],8930:[.716,.215,.778],8931:[.716,.215,.778],8934:[.73,.359,.778],8935:[.73,.359,.778],8936:[.73,.359,.778],8937:[.73,.359,.778],8938:[.706,.208,.778],8939:[.706,.208,.778],8940:[.802,.303,.778],8941:[.801,.303,.778],8942:[1.3,.03,.278],8943:[.31,-.19,1.172],8945:[1.52,-.1,1.282],8965:[.716,0,.611],8966:[.813,.097,.611],8968:[.75,.25,.444],8969:[.75,.25,.444],8970:[.75,.25,.444],8971:[.75,.25,.444],8988:[.694,-.306,.5],8989:[.694,-.306,.5],8990:[.366,.022,.5],8991:[.366,.022,.5],8994:[.388,-.122,1],8995:[.378,-.134,1],9001:[.75,.25,.389],9002:[.75,.25,.389],9136:[.744,.244,.412],9137:[.744,.244,.412],9168:[.602,0,.667],9416:[.709,.175,.902],9484:[.694,-.306,.5],9488:[.694,-.306,.5],9492:[.366,.022,.5],9496:[.366,.022,.5],9585:[.694,.195,.889],9586:[.694,.195,.889],9632:[.689,0,.778],9633:[.689,0,.778],9642:[.689,0,.778],9650:[.575,.02,.722],9651:[.716,0,.889],9652:[.575,.02,.722],9653:[.716,0,.889],9654:[.539,.041,.778],9656:[.539,.041,.778],9657:[.505,.005,.5],9660:[.576,.019,.722],9661:[.5,.215,.889],9662:[.576,.019,.722],9663:[.5,.215,.889],9664:[.539,.041,.778],9666:[.539,.041,.778],9667:[.505,.005,.5],9674:[.716,.132,.667],9711:[.715,.215,1],9723:[.689,0,.778],9724:[.689,0,.778],9733:[.694,.111,.944],9824:[.727,.13,.778],9825:[.716,.033,.778],9826:[.727,.162,.778],9827:[.726,.13,.778],9837:[.75,.022,.389],9838:[.734,.223,.389],9839:[.723,.223,.389],10003:[.706,.034,.833],10016:[.716,.022,.833],10072:[.75,.249,.278],10216:[.75,.25,.389],10217:[.75,.25,.389],10222:[.744,.244,.412],10223:[.744,.244,.412],10229:[.511,.011,1.609],10230:[.511,.011,1.638],10231:[.511,.011,1.859],10232:[.525,.024,1.609],10233:[.525,.024,1.638],10234:[.525,.024,1.858],10236:[.511,.011,1.638],10731:[.716,.132,.667],10744:[.716,.215,.778],10752:[.75,.25,1.111],10753:[.75,.25,1.111],10754:[.75,.25,1.111],10756:[.75,.249,.833],10758:[.75,.249,.833],10764:[.805,.306,1.638,{ic:.138}],10799:[.491,-.009,.778],10815:[.683,0,.75],10846:[.813,.097,.611],10877:[.636,.138,.778],10878:[.636,.138,.778],10885:[.762,.29,.778],10886:[.762,.29,.778],10887:[.635,.241,.778],10888:[.635,.241,.778],10889:[.761,.387,.778],10890:[.761,.387,.778],10891:[1.003,.463,.778],10892:[1.003,.463,.778],10901:[.636,.138,.778],10902:[.636,.138,.778],10927:[.636,.138,.778],10928:[.636,.138,.778],10933:[.752,.286,.778],10934:[.752,.286,.778],10935:[.761,.294,.778],10936:[.761,.294,.778],10937:[.761,.337,.778],10938:[.761,.337,.778],10949:[.753,.215,.778],10950:[.753,.215,.778],10955:[.783,.385,.778],10956:[.783,.385,.778],12296:[.75,.25,.389],12297:[.75,.25,.389],57350:[.43,.023,.222,{ic:.018}],57351:[.431,.024,.389,{ic:.018}],57352:[.605,.085,.778],57353:[.434,.006,.667,{ic:.067}],57356:[.752,.284,.778],57357:[.752,.284,.778],57358:[.919,.421,.778],57359:[.801,.303,.778],57360:[.801,.303,.778],57361:[.919,.421,.778],57366:[.828,.33,.778],57367:[.752,.332,.778],57368:[.828,.33,.778],57369:[.752,.333,.778],57370:[.634,.255,.778],57371:[.634,.254,.778],119808:[.698,0,.869],119809:[.686,0,.818],119810:[.697,.011,.831],119811:[.686,0,.882],119812:[.68,0,.756],119813:[.68,0,.724],119814:[.697,.01,.904],119815:[.686,0,.9],119816:[.686,0,.436],119817:[.686,.011,.594],119818:[.686,0,.901],119819:[.686,0,.692],119820:[.686,0,1.092],119821:[.686,0,.9],119822:[.696,.01,.864],119823:[.686,0,.786],119824:[.696,.193,.864],119825:[.686,.011,.862],119826:[.697,.011,.639],119827:[.675,0,.8],119828:[.686,.011,.885],119829:[.686,.007,.869],119830:[.686,.007,1.189],119831:[.686,0,.869],119832:[.686,0,.869],119833:[.686,0,.703],119834:[.453,.006,.559],119835:[.694,.006,.639],119836:[.453,.006,.511],119837:[.694,.006,.639],119838:[.452,.006,.527],119839:[.7,0,.351,{ic:.101}],119840:[.455,.201,.575],119841:[.694,0,.639],119842:[.695,0,.319],119843:[.695,.2,.351],119844:[.694,0,.607],119845:[.694,0,.319],119846:[.45,0,.958],119847:[.45,0,.639],119848:[.452,.005,.575],119849:[.45,.194,.639],119850:[.45,.194,.607],119851:[.45,0,.474],119852:[.453,.006,.454],119853:[.635,.005,.447],119854:[.45,.006,.639],119855:[.444,0,.607],119856:[.444,0,.831],119857:[.444,0,.607],119858:[.444,.2,.607],119859:[.444,0,.511],119860:[.716,0,.75,{sk:.139}],119861:[.683,0,.759,{sk:.0833}],119862:[.705,.022,.715,{ic:.045,sk:.0833}],119863:[.683,0,.828,{sk:.0556}],119864:[.68,0,.738,{ic:.026,sk:.0833}],119865:[.68,0,.643,{ic:.106,sk:.0833}],119866:[.705,.022,.786,{sk:.0833}],119867:[.683,0,.831,{ic:.057,sk:.0556}],119868:[.683,0,.44,{ic:.064,sk:.111}],119869:[.683,.022,.555,{ic:.078,sk:.167}],119870:[.683,0,.849,{ic:.04,sk:.0556}],119871:[.683,0,.681,{sk:.0278}],119872:[.683,0,.97,{ic:.081,sk:.0833}],119873:[.683,0,.803,{ic:.085,sk:.0833}],119874:[.704,.022,.763,{sk:.0833}],119875:[.683,0,.642,{ic:.109,sk:.0833}],119876:[.704,.194,.791,{sk:.0833}],119877:[.683,.021,.759,{sk:.0833}],119878:[.705,.022,.613,{ic:.032,sk:.0833}],119879:[.677,0,.584,{ic:.12,sk:.0833}],119880:[.683,.022,.683,{ic:.084,sk:.0278}],119881:[.683,.022,.583,{ic:.186}],119882:[.683,.022,.944,{ic:.104}],119883:[.683,0,.828,{ic:.024,sk:.0833}],119884:[.683,0,.581,{ic:.182}],119885:[.683,0,.683,{ic:.04,sk:.0833}],119886:[.441,.01,.529],119887:[.694,.011,.429],119888:[.442,.011,.433,{sk:.0556}],119889:[.694,.01,.52,{sk:.167}],119890:[.442,.011,.466,{sk:.0556}],119891:[.705,.205,.49,{ic:.06,sk:.167}],119892:[.442,.205,.477,{sk:.0278}],119894:[.661,.011,.345],119895:[.661,.204,.412],119896:[.694,.011,.521],119897:[.694,.011,.298,{sk:.0833}],119898:[.442,.011,.878],119899:[.442,.011,.6],119900:[.441,.011,.485,{sk:.0556}],119901:[.442,.194,.503,{sk:.0833}],119902:[.442,.194,.446,{ic:.014,sk:.0833}],119903:[.442,.011,.451,{sk:.0556}],119904:[.442,.01,.469,{sk:.0556}],119905:[.626,.011,.361,{sk:.0833}],119906:[.442,.011,.572,{sk:.0278}],119907:[.443,.011,.485,{sk:.0278}],119908:[.443,.011,.716,{sk:.0833}],119909:[.442,.011,.572,{sk:.0278}],119910:[.442,.205,.49,{sk:.0556}],119911:[.442,.011,.465,{sk:.0556}],119912:[.711,0,.869,{sk:.16}],119913:[.686,0,.866,{sk:.0958}],119914:[.703,.017,.817,{ic:.038,sk:.0958}],119915:[.686,0,.938,{sk:.0639}],119916:[.68,0,.81,{ic:.015,sk:.0958}],119917:[.68,0,.689,{ic:.12,sk:.0958}],119918:[.703,.016,.887,{sk:.0958}],119919:[.686,0,.982,{ic:.045,sk:.0639}],119920:[.686,0,.511,{ic:.062,sk:.128}],119921:[.686,.017,.631,{ic:.063,sk:.192}],119922:[.686,0,.971,{ic:.032,sk:.0639}],119923:[.686,0,.756,{sk:.0319}],119924:[.686,0,1.142,{ic:.077,sk:.0958}],119925:[.686,0,.95,{ic:.077,sk:.0958}],119926:[.703,.017,.837,{sk:.0958}],119927:[.686,0,.723,{ic:.124,sk:.0958}],119928:[.703,.194,.869,{sk:.0958}],119929:[.686,.017,.872,{sk:.0958}],119930:[.703,.017,.693,{ic:.021,sk:.0958}],119931:[.675,0,.637,{ic:.135,sk:.0958}],119932:[.686,.016,.8,{ic:.077,sk:.0319}],119933:[.686,.016,.678,{ic:.208}],119934:[.686,.017,1.093,{ic:.114}],119935:[.686,0,.947,{sk:.0958}],119936:[.686,0,.675,{ic:.201}],119937:[.686,0,.773,{ic:.032,sk:.0958}],119938:[.452,.008,.633],119939:[.694,.008,.521],119940:[.451,.008,.513,{sk:.0639}],119941:[.694,.008,.61,{sk:.192}],119942:[.452,.008,.554,{sk:.0639}],119943:[.701,.201,.568,{ic:.056,sk:.192}],119944:[.452,.202,.545,{sk:.0319}],119945:[.694,.008,.668,{sk:-.0319}],119946:[.694,.008,.405],119947:[.694,.202,.471],119948:[.694,.008,.604],119949:[.694,.008,.348,{sk:.0958}],119950:[.452,.008,1.032],119951:[.452,.008,.713],119952:[.452,.008,.585,{sk:.0639}],119953:[.452,.194,.601,{sk:.0958}],119954:[.452,.194,.542,{sk:.0958}],119955:[.452,.008,.529,{sk:.0639}],119956:[.451,.008,.531,{sk:.0639}],119957:[.643,.007,.415,{sk:.0958}],119958:[.452,.008,.681,{sk:.0319}],119959:[.453,.008,.567,{sk:.0319}],119960:[.453,.008,.831,{sk:.0958}],119961:[.452,.008,.659,{sk:.0319}],119962:[.452,.202,.59,{sk:.0639}],119963:[.452,.008,.555,{sk:.0639}],119964:[.717,.008,.803,{ic:.213,sk:.389}],119966:[.728,.026,.666,{ic:.153,sk:.278}],119967:[.708,.031,.774,{ic:.081,sk:.111}],119970:[.717,.037,.61,{ic:.128,sk:.25}],119973:[.717,.314,1.052,{ic:.081,sk:.417}],119974:[.717,.037,.914,{ic:.29,sk:.361}],119977:[.726,.036,.902,{ic:.306,sk:.389}],119978:[.707,.008,.738,{ic:.067,sk:.167}],119979:[.716,.037,1.013,{ic:.018,sk:.222}],119980:[.717,.017,.883,{sk:.278}],119982:[.708,.036,.868,{ic:.148,sk:.333}],119983:[.735,.037,.747,{ic:.249,sk:.222}],119984:[.717,.017,.8,{ic:.16,sk:.25}],119985:[.717,.017,.622,{ic:.228,sk:.222}],119986:[.717,.017,.805,{ic:.221,sk:.25}],119987:[.717,.017,.944,{ic:.187,sk:.278}],119988:[.716,.017,.71,{ic:.249,sk:.194}],119989:[.717,.016,.821,{ic:.211,sk:.306}],120068:[.696,.026,.718],120069:[.691,.027,.884],120071:[.685,.027,.832],120072:[.685,.024,.663],120073:[.686,.153,.611],120074:[.69,.026,.785],120077:[.686,.139,.552],120078:[.68,.027,.668,{ic:.014}],120079:[.686,.026,.666],120080:[.692,.027,1.05],120081:[.686,.025,.832],120082:[.729,.027,.827],120083:[.692,.218,.828],120084:[.729,.069,.827],120086:[.692,.027,.829],120087:[.701,.027,.669],120088:[.697,.027,.646,{ic:.019}],120089:[.686,.026,.831],120090:[.686,.027,1.046],120091:[.688,.027,.719],120092:[.686,.218,.833],120094:[.47,.035,.5],120095:[.685,.031,.513],120096:[.466,.029,.389],120097:[.609,.033,.499],120098:[.467,.03,.401],120099:[.681,.221,.326],120100:[.47,.209,.504],120101:[.688,.205,.521],120102:[.673,.02,.279],120103:[.672,.208,.281],120104:[.689,.025,.389],120105:[.685,.02,.28],120106:[.475,.026,.767],120107:[.475,.022,.527],120108:[.48,.028,.489],120109:[.541,.212,.5],120110:[.479,.219,.489],120111:[.474,.021,.389],120112:[.478,.029,.443],120113:[.64,.02,.333,{ic:.015}],120114:[.474,.023,.517],120115:[.53,.028,.512],120116:[.532,.028,.774],120117:[.472,.188,.389],120118:[.528,.218,.499],120119:[.471,.214,.391],120120:[.701,0,.722],120121:[.683,0,.667],120123:[.683,0,.722],120124:[.683,0,.667],120125:[.683,0,.611],120126:[.702,.019,.778],120128:[.683,0,.389],120129:[.683,.077,.5],120130:[.683,0,.778],120131:[.683,0,.667],120132:[.683,0,.944],120134:[.701,.019,.778],120138:[.702,.012,.556],120139:[.683,0,.667],120140:[.683,.019,.722],120141:[.683,.02,.722],120142:[.683,.019,1],120143:[.683,0,.722],120144:[.683,0,.722],120172:[.686,.031,.847],120173:[.684,.031,1.044],120174:[.676,.032,.723],120175:[.683,.029,.982],120176:[.686,.029,.783],120177:[.684,.146,.722],120178:[.687,.029,.927],120179:[.683,.126,.851],120180:[.681,.025,.655],120181:[.68,.141,.652],120182:[.681,.026,.789,{ic:.017}],120183:[.683,.028,.786],120184:[.683,.032,1.239],120185:[.679,.03,.983],120186:[.726,.03,.976],120187:[.688,.223,.977],120188:[.726,.083,.976],120189:[.688,.028,.978],120190:[.685,.031,.978],120191:[.686,.03,.79,{ic:.012}],120192:[.688,.039,.851,{ic:.02}],120193:[.685,.029,.982],120194:[.683,.03,1.235],120195:[.681,.035,.849],120196:[.688,.214,.984],120197:[.677,.148,.711],120198:[.472,.032,.603],120199:[.69,.032,.59],120200:[.473,.026,.464],120201:[.632,.028,.589],120202:[.471,.027,.472],120203:[.687,.222,.388],120204:[.472,.208,.595],120205:[.687,.207,.615],120206:[.686,.025,.331],120207:[.682,.203,.332],120208:[.682,.025,.464],120209:[.681,.024,.337],120210:[.476,.031,.921],120211:[.473,.028,.654],120212:[.482,.034,.609],120213:[.557,.207,.604],120214:[.485,.211,.596],120215:[.472,.026,.46],120216:[.479,.034,.523],120217:[.648,.027,.393,{ic:.014}],120218:[.472,.032,.589,{ic:.014}],120219:[.546,.027,.604],120220:[.549,.032,.918],120221:[.471,.188,.459],120222:[.557,.221,.589],120223:[.471,.214,.461],120224:[.694,0,.667],120225:[.694,0,.667],120226:[.705,.011,.639],120227:[.694,0,.722],120228:[.691,0,.597],120229:[.691,0,.569],120230:[.704,.011,.667],120231:[.694,0,.708],120232:[.694,0,.278],120233:[.694,.022,.472],120234:[.694,0,.694],120235:[.694,0,.542],120236:[.694,0,.875],120237:[.694,0,.708],120238:[.715,.022,.736],120239:[.694,0,.639],120240:[.715,.125,.736],120241:[.694,0,.646],120242:[.716,.022,.556],120243:[.688,0,.681],120244:[.694,.022,.688],120245:[.694,0,.667],120246:[.694,0,.944],120247:[.694,0,.667],120248:[.694,0,.667],120249:[.694,0,.611],120250:[.46,.01,.481],120251:[.694,.011,.517],120252:[.46,.01,.444],120253:[.694,.01,.517],120254:[.461,.01,.444],120255:[.705,0,.306,{ic:.041}],120256:[.455,.206,.5],120257:[.694,0,.517],120258:[.68,0,.239],120259:[.68,.205,.267],120260:[.694,0,.489],120261:[.694,0,.239],120262:[.455,0,.794],120263:[.455,0,.517],120264:[.46,.01,.5],120265:[.455,.194,.517],120266:[.455,.194,.517],120267:[.455,0,.342],120268:[.46,.01,.383],120269:[.571,.01,.361],120270:[.444,.01,.517],120271:[.444,0,.461],120272:[.444,0,.683],120273:[.444,0,.461],120274:[.444,.204,.461],120275:[.444,0,.435],120276:[.694,0,.733],120277:[.694,0,.733],120278:[.704,.011,.703],120279:[.694,0,.794],120280:[.691,0,.642],120281:[.691,0,.611],120282:[.705,.011,.733],120283:[.694,0,.794],120284:[.694,0,.331],120285:[.694,.022,.519],120286:[.694,0,.764],120287:[.694,0,.581],120288:[.694,0,.978],120289:[.694,0,.794],120290:[.716,.022,.794],120291:[.694,0,.703],120292:[.716,.106,.794],120293:[.694,0,.703],120294:[.716,.022,.611],120295:[.688,0,.733],120296:[.694,.022,.764],120297:[.694,0,.733],120298:[.694,0,1.039],120299:[.694,0,.733],120300:[.694,0,.733],120301:[.694,0,.672],120302:[.475,.011,.525],120303:[.694,.01,.561],120304:[.475,.011,.489],120305:[.694,.011,.561],120306:[.474,.01,.511],120307:[.705,0,.336,{ic:.045}],120308:[.469,.206,.55],120309:[.694,0,.561],120310:[.695,0,.256],120311:[.695,.205,.286],120312:[.694,0,.531],120313:[.694,0,.256],120314:[.469,0,.867],120315:[.468,0,.561],120316:[.474,.011,.55],120317:[.469,.194,.561],120318:[.469,.194,.561],120319:[.469,0,.372],120320:[.474,.01,.422],120321:[.589,.01,.404],120322:[.458,.011,.561],120323:[.458,0,.5],120324:[.458,0,.744],120325:[.458,0,.5],120326:[.458,.205,.5],120327:[.458,0,.476],120328:[.694,0,.667],120329:[.694,0,.667,{ic:.029}],120330:[.705,.01,.639,{ic:.08}],120331:[.694,0,.722,{ic:.025}],120332:[.691,0,.597,{ic:.091}],120333:[.691,0,.569,{ic:.104}],120334:[.705,.011,.667,{ic:.063}],120335:[.694,0,.708,{ic:.06}],120336:[.694,0,.278,{ic:.06}],120337:[.694,.022,.472,{ic:.063}],120338:[.694,0,.694,{ic:.091}],120339:[.694,0,.542],120340:[.694,0,.875,{ic:.054}],120341:[.694,0,.708,{ic:.058}],120342:[.716,.022,.736,{ic:.027}],120343:[.694,0,.639,{ic:.051}],120344:[.716,.125,.736,{ic:.027}],120345:[.694,0,.646,{ic:.052}],120346:[.716,.022,.556,{ic:.053}],120347:[.688,0,.681,{ic:.109}],120348:[.694,.022,.688,{ic:.059}],120349:[.694,0,.667,{ic:.132}],120350:[.694,0,.944,{ic:.132}],120351:[.694,0,.667,{ic:.091}],120352:[.694,0,.667,{ic:.143}],120353:[.694,0,.611,{ic:.091}],120354:[.461,.01,.481],120355:[.694,.011,.517,{ic:.022}],120356:[.46,.011,.444,{ic:.055}],120357:[.694,.01,.517,{ic:.071}],120358:[.46,.011,.444,{ic:.028}],120359:[.705,0,.306,{ic:.188}],120360:[.455,.206,.5,{ic:.068}],120361:[.694,0,.517],120362:[.68,0,.239,{ic:.076}],120363:[.68,.204,.267,{ic:.069}],120364:[.694,0,.489,{ic:.054}],120365:[.694,0,.239,{ic:.072}],120366:[.455,0,.794],120367:[.454,0,.517],120368:[.461,.011,.5,{ic:.023}],120369:[.455,.194,.517,{ic:.021}],120370:[.455,.194,.517,{ic:.021}],120371:[.455,0,.342,{ic:.082}],120372:[.461,.011,.383,{ic:.053}],120373:[.571,.011,.361,{ic:.049}],120374:[.444,.01,.517,{ic:.02}],120375:[.444,0,.461,{ic:.079}],120376:[.444,0,.683,{ic:.079}],120377:[.444,0,.461,{ic:.076}],120378:[.444,.205,.461,{ic:.079}],120379:[.444,0,.435,{ic:.059}],120432:[.623,0,.525],120433:[.611,0,.525],120434:[.622,.011,.525],120435:[.611,0,.525],120436:[.611,0,.525],120437:[.611,0,.525],120438:[.622,.011,.525],120439:[.611,0,.525],120440:[.611,0,.525],120441:[.611,.011,.525],120442:[.611,0,.525],120443:[.611,0,.525],120444:[.611,0,.525],120445:[.611,0,.525],120446:[.621,.01,.525],120447:[.611,0,.525],120448:[.621,.138,.525],120449:[.611,.011,.525],120450:[.622,.011,.525],120451:[.611,0,.525],120452:[.611,.011,.525],120453:[.611,.007,.525],120454:[.611,.007,.525],120455:[.611,0,.525],120456:[.611,0,.525],120457:[.611,0,.525],120458:[.439,.006,.525],120459:[.611,.006,.525],120460:[.44,.006,.525],120461:[.611,.006,.525],120462:[.44,.006,.525],120463:[.617,0,.525],120464:[.442,.229,.525],120465:[.611,0,.525],120466:[.612,0,.525],120467:[.612,.228,.525],120468:[.611,0,.525],120469:[.611,0,.525],120470:[.436,0,.525,{ic:.011}],120471:[.436,0,.525],120472:[.44,.006,.525],120473:[.437,.221,.525],120474:[.437,.221,.525,{ic:.02}],120475:[.437,0,.525],120476:[.44,.006,.525],120477:[.554,.006,.525],120478:[.431,.005,.525],120479:[.431,0,.525],120480:[.431,0,.525],120481:[.431,0,.525],120482:[.431,.228,.525],120483:[.431,0,.525],120488:[.698,0,.869],120489:[.686,0,.818],120490:[.68,0,.692],120491:[.698,0,.958],120492:[.68,0,.756],120493:[.686,0,.703],120494:[.686,0,.9],120495:[.696,.01,.894],120496:[.686,0,.436],120497:[.686,0,.901],120498:[.698,0,.806],120499:[.686,0,1.092],120500:[.686,0,.9],120501:[.675,0,.767],120502:[.696,.01,.864],120503:[.68,0,.9],120504:[.686,0,.786],120506:[.686,0,.831],120507:[.675,0,.8],120508:[.697,0,.894],120509:[.686,0,.831],120510:[.686,0,.869],120511:[.686,0,.894],120512:[.696,0,.831],120513:[.686,.024,.958],120546:[.716,0,.75,{sk:.139}],120547:[.683,0,.759,{sk:.0833}],120548:[.68,0,.615,{ic:.106,sk:.0833}],120549:[.716,0,.833,{sk:.167}],120550:[.68,0,.738,{ic:.026,sk:.0833}],120551:[.683,0,.683,{ic:.04,sk:.0833}],120552:[.683,0,.831,{ic:.057,sk:.0556}],120553:[.704,.022,.763,{sk:.0833}],120554:[.683,0,.44,{ic:.064,sk:.111}],120555:[.683,0,.849,{ic:.04,sk:.0556}],120556:[.716,0,.694,{sk:.167}],120557:[.683,0,.97,{ic:.081,sk:.0833}],120558:[.683,0,.803,{ic:.085,sk:.0833}],120559:[.677,0,.742,{ic:.035,sk:.0833}],120560:[.704,.022,.763,{sk:.0833}],120561:[.68,0,.831,{ic:.056,sk:.0556}],120562:[.683,0,.642,{ic:.109,sk:.0833}],120564:[.683,0,.78,{ic:.026,sk:.0833}],120565:[.677,0,.584,{ic:.12,sk:.0833}],120566:[.705,0,.583,{ic:.117,sk:.0556}],120567:[.683,0,.667,{sk:.0833}],120568:[.683,0,.828,{ic:.024,sk:.0833}],120569:[.683,0,.612,{ic:.08,sk:.0556}],120570:[.704,0,.772,{ic:.014,sk:.0833}],120572:[.442,.011,.64,{sk:.0278}],120573:[.705,.194,.566,{sk:.0833}],120574:[.441,.216,.518,{ic:.025}],120575:[.717,.01,.444,{sk:.0556}],120576:[.452,.022,.466,{sk:.0833}],120577:[.704,.204,.438,{ic:.033,sk:.0833}],120578:[.442,.216,.497,{sk:.0556}],120579:[.705,.01,.469,{sk:.0833}],120580:[.442,.01,.354,{sk:.0556}],120581:[.442,.011,.576],120582:[.694,.012,.583],120583:[.442,.216,.603,{sk:.0278}],120584:[.442,0,.494,{ic:.036,sk:.0278}],120585:[.704,.205,.438,{sk:.111}],120586:[.441,.011,.485,{sk:.0556}],120587:[.431,.011,.57],120588:[.442,.216,.517,{sk:.0833}],120589:[.442,.107,.363,{ic:.042,sk:.0833}],120590:[.431,.011,.571],120591:[.431,.013,.437,{ic:.08,sk:.0278}],120592:[.443,.01,.54,{sk:.0278}],120593:[.442,.218,.654,{sk:.0833}],120594:[.442,.204,.626,{sk:.0556}],120595:[.694,.205,.651,{sk:.111}],120596:[.443,.011,.622],120597:[.715,.022,.531,{ic:.035,sk:.0833}],120598:[.431,.011,.406,{sk:.0556}],120599:[.705,.011,.591,{sk:.0833}],120600:[.434,.006,.667,{ic:.067}],120601:[.694,.205,.596,{sk:.0833}],120602:[.442,.194,.517,{sk:.0833}],120603:[.431,.01,.828],120604:[.711,0,.869,{sk:.16}],120605:[.686,0,.866,{sk:.0958}],120606:[.68,0,.657,{ic:.12,sk:.0958}],120607:[.711,0,.958,{sk:.192}],120608:[.68,0,.81,{ic:.015,sk:.0958}],120609:[.686,0,.773,{ic:.032,sk:.0958}],120610:[.686,0,.982,{ic:.045,sk:.0639}],120611:[.702,.017,.867,{sk:.0958}],120612:[.686,0,.511,{ic:.062,sk:.128}],120613:[.686,0,.971,{ic:.032,sk:.0639}],120614:[.711,0,.806,{sk:.192}],120615:[.686,0,1.142,{ic:.077,sk:.0958}],120616:[.686,0,.95,{ic:.077,sk:.0958}],120617:[.675,0,.841,{ic:.026,sk:.0958}],120618:[.703,.017,.837,{sk:.0958}],120619:[.68,0,.982,{ic:.044,sk:.0639}],120620:[.686,0,.723,{ic:.124,sk:.0958}],120622:[.686,0,.885,{ic:.017,sk:.0958}],120623:[.675,0,.637,{ic:.135,sk:.0958}],120624:[.703,0,.671,{ic:.131,sk:.0639}],120625:[.686,0,.767,{sk:.0958}],120626:[.686,0,.947,{sk:.0958}],120627:[.686,0,.714,{ic:.076,sk:.0639}],120628:[.703,0,.879,{sk:.0958}],120630:[.452,.008,.761,{sk:.0319}],120631:[.701,.194,.66,{sk:.0958}],120632:[.451,.211,.59,{ic:.027}],120633:[.725,.008,.522,{sk:.0639}],120634:[.461,.017,.529,{sk:.0958}],120635:[.711,.202,.508,{ic:.013,sk:.0958}],120636:[.452,.211,.6,{sk:.0639}],120637:[.702,.008,.562,{sk:.0958}],120638:[.452,.008,.412,{sk:.0639}],120639:[.452,.008,.668],120640:[.694,.013,.671],120641:[.452,.211,.708,{sk:.0319}],120642:[.452,0,.577,{ic:.031,sk:.0319}],120643:[.711,.201,.508,{sk:.128}],120644:[.452,.008,.585,{sk:.0639}],120645:[.444,.008,.682],120646:[.451,.211,.612,{sk:.0958}],120647:[.451,.105,.424,{ic:.033,sk:.0958}],120648:[.444,.008,.686],120649:[.444,.013,.521,{ic:.089,sk:.0319}],120650:[.453,.008,.631,{sk:.0319}],120651:[.452,.216,.747,{sk:.0958}],120652:[.452,.201,.718,{sk:.0639}],120653:[.694,.202,.758,{sk:.128}],120654:[.453,.008,.718],120655:[.71,.017,.628,{ic:.029,sk:.0958}],120656:[.444,.007,.483,{sk:.0639}],120657:[.701,.008,.692,{sk:.0958}],120658:[.434,.006,.667,{ic:.067}],120659:[.694,.202,.712,{sk:.0958}],120660:[.451,.194,.612,{sk:.0958}],120661:[.444,.008,.975],120662:[.694,0,.733],120663:[.694,0,.733],120664:[.691,0,.581],120665:[.694,0,.917],120666:[.691,0,.642],120667:[.694,0,.672],120668:[.694,0,.794],120669:[.716,.022,.856],120670:[.694,0,.331],120671:[.694,0,.764],120672:[.694,0,.672],120673:[.694,0,.978],120674:[.694,0,.794],120675:[.688,0,.733],120676:[.716,.022,.794],120677:[.691,0,.794],120678:[.694,0,.703],120680:[.694,0,.794],120681:[.688,0,.733],120682:[.715,0,.856],120683:[.694,0,.794],120684:[.694,0,.733],120685:[.694,0,.856],120686:[.716,0,.794],120782:[.654,.01,.575],120783:[.655,0,.575],120784:[.654,0,.575],120785:[.655,.011,.575],120786:[.656,0,.575],120787:[.655,.011,.575],120788:[.655,.011,.575],120789:[.676,.011,.575],120790:[.654,.011,.575],120791:[.654,.011,.575],120802:[.678,.022,.5],120803:[.678,0,.5],120804:[.677,0,.5],120805:[.678,.022,.5],120806:[.656,0,.5],120807:[.656,.021,.5],120808:[.677,.022,.5],120809:[.656,.011,.5],120810:[.678,.022,.5],120811:[.677,.022,.5],120812:[.715,.022,.55],120813:[.716,0,.55],120814:[.716,0,.55],120815:[.716,.022,.55],120816:[.694,0,.55],120817:[.694,.022,.55],120818:[.716,.022,.55],120819:[.695,.011,.55],120820:[.715,.022,.55],120821:[.716,.022,.55],120822:[.621,.01,.525],120823:[.622,0,.525],120824:[.622,0,.525],120825:[.622,.011,.525],120826:[.624,0,.525],120827:[.611,.01,.525],120828:[.622,.011,.525],120829:[.627,.01,.525],120830:[.621,.01,.525],120831:[.622,.011,.525]}},4886:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sansSerifBoldItalic=void 0,e.sansSerifBoldItalic={305:[.458,0,.256],567:[.458,.205,.286]}},4471:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sansSerifBold=void 0,e.sansSerifBold={33:[.694,0,.367],34:[.694,-.442,.558],35:[.694,.193,.917],36:[.75,.056,.55],37:[.75,.056,1.029],38:[.716,.022,.831],39:[.694,-.442,.306],40:[.75,.249,.428],41:[.75,.25,.428],42:[.75,-.293,.55],43:[.617,.116,.856],44:[.146,.106,.306],45:[.273,-.186,.367],46:[.146,0,.306],47:[.75,.249,.55],58:[.458,0,.306],59:[.458,.106,.306],61:[.407,-.094,.856],63:[.705,0,.519],64:[.704,.011,.733],91:[.75,.25,.343],93:[.75,.25,.343],94:[.694,-.537,.55],95:[-.023,.11,.55],126:[.344,-.198,.55],305:[.458,0,.256],567:[.458,.205,.286],768:[.694,-.537,0],769:[.694,-.537,0],770:[.694,-.537,0],771:[.694,-.548,0],772:[.66,-.56,0],774:[.694,-.552,0],775:[.695,-.596,0],776:[.695,-.595,0],778:[.694,-.538,0],779:[.694,-.537,0],780:[.657,-.5,0],8211:[.327,-.24,.55],8212:[.327,-.24,1.1],8213:[.327,-.24,1.1],8215:[-.023,.11,.55],8216:[.694,-.443,.306],8217:[.694,-.442,.306],8220:[.694,-.443,.558],8221:[.694,-.442,.558],8260:[.75,.249,.55],8710:[.694,0,.917]}},5181:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sansSerifItalic=void 0,e.sansSerifItalic={33:[.694,0,.319,{ic:.036}],34:[.694,-.471,.5],35:[.694,.194,.833,{ic:.018}],36:[.75,.056,.5,{ic:.065}],37:[.75,.056,.833],38:[.716,.022,.758],39:[.694,-.471,.278,{ic:.057}],40:[.75,.25,.389,{ic:.102}],41:[.75,.25,.389],42:[.75,-.306,.5,{ic:.068}],43:[.583,.083,.778],44:[.098,.125,.278],45:[.259,-.186,.333],46:[.098,0,.278],47:[.75,.25,.5,{ic:.1}],48:[.678,.022,.5,{ic:.049}],49:[.678,0,.5],50:[.678,0,.5,{ic:.051}],51:[.678,.022,.5,{ic:.044}],52:[.656,0,.5,{ic:.021}],53:[.656,.022,.5,{ic:.055}],54:[.678,.022,.5,{ic:.048}],55:[.656,.011,.5,{ic:.096}],56:[.678,.022,.5,{ic:.054}],57:[.677,.022,.5,{ic:.045}],58:[.444,0,.278],59:[.444,.125,.278],61:[.37,-.13,.778,{ic:.018}],63:[.704,0,.472,{ic:.064}],64:[.705,.01,.667,{ic:.04}],91:[.75,.25,.289,{ic:.136}],93:[.75,.25,.289,{ic:.064}],94:[.694,-.527,.5,{ic:.033}],95:[-.038,.114,.5,{ic:.065}],126:[.327,-.193,.5,{ic:.06}],305:[.444,0,.239,{ic:.019}],567:[.444,.204,.267,{ic:.019}],768:[.694,-.527,0],769:[.694,-.527,0,{ic:.063}],770:[.694,-.527,0,{ic:.033}],771:[.677,-.543,0,{ic:.06}],772:[.631,-.552,0,{ic:.064}],774:[.694,-.508,0,{ic:.073}],775:[.68,-.576,0],776:[.68,-.582,0,{ic:.04}],778:[.693,-.527,0],779:[.694,-.527,0,{ic:.063}],780:[.654,-.487,0,{ic:.06}],913:[.694,0,.667],914:[.694,0,.667,{ic:.029}],915:[.691,0,.542,{ic:.104}],916:[.694,0,.833],917:[.691,0,.597,{ic:.091}],918:[.694,0,.611,{ic:.091}],919:[.694,0,.708,{ic:.06}],920:[.715,.022,.778,{ic:.026}],921:[.694,0,.278,{ic:.06}],922:[.694,0,.694,{ic:.091}],923:[.694,0,.611],924:[.694,0,.875,{ic:.054}],925:[.694,0,.708,{ic:.058}],926:[.688,0,.667,{ic:.098}],927:[.716,.022,.736,{ic:.027}],928:[.691,0,.708,{ic:.06}],929:[.694,0,.639,{ic:.051}],931:[.694,0,.722,{ic:.091}],932:[.688,0,.681,{ic:.109}],933:[.716,0,.778,{ic:.065}],934:[.694,0,.722,{ic:.021}],935:[.694,0,.667,{ic:.091}],936:[.694,0,.778,{ic:.076}],937:[.716,0,.722,{ic:.047}],8211:[.312,-.236,.5,{ic:.065}],8212:[.312,-.236,1,{ic:.065}],8213:[.312,-.236,1,{ic:.065}],8215:[-.038,.114,.5,{ic:.065}],8216:[.694,-.471,.278,{ic:.058}],8217:[.694,-.471,.278,{ic:.057}],8220:[.694,-.471,.5,{ic:.114}],8221:[.694,-.471,.5],8260:[.75,.25,.5,{ic:.1}],8710:[.694,0,.833]}},3526:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sansSerif=void 0,e.sansSerif={33:[.694,0,.319],34:[.694,-.471,.5],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.758],39:[.694,-.471,.278],40:[.75,.25,.389],41:[.75,.25,.389],42:[.75,-.306,.5],43:[.583,.082,.778],44:[.098,.125,.278],45:[.259,-.186,.333],46:[.098,0,.278],47:[.75,.25,.5],58:[.444,0,.278],59:[.444,.125,.278],61:[.37,-.13,.778],63:[.704,0,.472],64:[.704,.011,.667],91:[.75,.25,.289],93:[.75,.25,.289],94:[.694,-.527,.5],95:[-.038,.114,.5],126:[.327,-.193,.5],305:[.444,0,.239],567:[.444,.205,.267],768:[.694,-.527,0],769:[.694,-.527,0],770:[.694,-.527,0],771:[.677,-.543,0],772:[.631,-.552,0],774:[.694,-.508,0],775:[.68,-.576,0],776:[.68,-.582,0],778:[.694,-.527,0],779:[.694,-.527,0],780:[.654,-.487,0],913:[.694,0,.667],914:[.694,0,.667],915:[.691,0,.542],916:[.694,0,.833],917:[.691,0,.597],918:[.694,0,.611],919:[.694,0,.708],920:[.716,.021,.778],921:[.694,0,.278],922:[.694,0,.694],923:[.694,0,.611],924:[.694,0,.875],925:[.694,0,.708],926:[.688,0,.667],927:[.715,.022,.736],928:[.691,0,.708],929:[.694,0,.639],931:[.694,0,.722],932:[.688,0,.681],933:[.716,0,.778],934:[.694,0,.722],935:[.694,0,.667],936:[.694,0,.778],937:[.716,0,.722],8211:[.312,-.236,.5],8212:[.312,-.236,1],8213:[.312,-.236,1],8215:[-.038,.114,.5],8216:[.694,-.471,.278],8217:[.694,-.471,.278],8220:[.694,-.471,.5],8221:[.694,-.471,.5],8260:[.75,.25,.5],8710:[.694,0,.833]}},5649:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.scriptBold=void 0,e.scriptBold={}},7153:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.script=void 0,e.script={}},5745:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.smallop=void 0,e.smallop={40:[.85,.349,.458],41:[.85,.349,.458],47:[.85,.349,.578],91:[.85,.349,.417],92:[.85,.349,.578],93:[.85,.349,.417],123:[.85,.349,.583],125:[.85,.349,.583],710:[.744,-.551,.556],732:[.722,-.597,.556],770:[.744,-.551,0],771:[.722,-.597,0],8214:[.602,0,.778],8260:[.85,.349,.578],8593:[.6,0,.667],8595:[.6,0,.667],8657:[.599,0,.778],8659:[.6,0,.778],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8730:[.85,.35,1,{ic:.02}],8739:[.627,.015,.333],8741:[.627,.015,.556],8747:[.805,.306,.472,{ic:.138}],8748:[.805,.306,.819,{ic:.138}],8749:[.805,.306,1.166,{ic:.138}],8750:[.805,.306,.472,{ic:.138}],8896:[.75,.249,.833],8897:[.75,.249,.833],8898:[.75,.249,.833],8899:[.75,.249,.833],8968:[.85,.349,.472],8969:[.85,.349,.472],8970:[.85,.349,.472],8971:[.85,.349,.472],9001:[.85,.35,.472],9002:[.85,.35,.472],9168:[.602,0,.667],10072:[.627,.015,.333],10216:[.85,.35,.472],10217:[.85,.35,.472],10752:[.75,.25,1.111],10753:[.75,.25,1.111],10754:[.75,.25,1.111],10756:[.75,.249,.833],10758:[.75,.249,.833],10764:[.805,.306,1.638,{ic:.138}],12296:[.85,.35,.472],12297:[.85,.35,.472]}},1411:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.texCalligraphicBold=void 0,e.texCalligraphicBold={65:[.751,.049,.921,{ic:.068,sk:.224}],66:[.705,.017,.748,{sk:.16}],67:[.703,.02,.613,{sk:.16}],68:[.686,0,.892,{sk:.0958}],69:[.703,.016,.607,{ic:.02,sk:.128}],70:[.686,.03,.814,{ic:.116,sk:.128}],71:[.703,.113,.682,{sk:.128}],72:[.686,.048,.987,{sk:.128}],73:[.686,0,.642,{ic:.104,sk:.0319}],74:[.686,.114,.779,{ic:.158,sk:.192}],75:[.703,.017,.871,{sk:.0639}],76:[.703,.017,.788,{sk:.16}],77:[.703,.049,1.378,{sk:.16}],78:[.84,.049,.937,{ic:.168,sk:.0958}],79:[.703,.017,.906,{sk:.128}],80:[.686,.067,.81,{ic:.036,sk:.0958}],81:[.703,.146,.939,{sk:.128}],82:[.686,.017,.99,{sk:.0958}],83:[.703,.016,.696,{ic:.025,sk:.16}],84:[.72,.069,.644,{ic:.303,sk:.0319}],85:[.686,.024,.715,{ic:.056,sk:.0958}],86:[.686,.077,.737,{ic:.037,sk:.0319}],87:[.686,.077,1.169,{ic:.037,sk:.0958}],88:[.686,0,.817,{ic:.089,sk:.16}],89:[.686,.164,.759,{ic:.038,sk:.0958}],90:[.686,0,.818,{ic:.035,sk:.16}],305:[.452,.008,.394,{sk:.0319}],567:[.451,.201,.439,{sk:.0958}]}},6384:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.texCalligraphic=void 0,e.texCalligraphic={65:[.728,.05,.798,{ic:.021,sk:.194}],66:[.705,.022,.657,{sk:.139}],67:[.705,.025,.527,{sk:.139}],68:[.683,0,.771,{sk:.0833}],69:[.705,.022,.528,{ic:.036,sk:.111}],70:[.683,.032,.719,{ic:.11,sk:.111}],71:[.704,.119,.595,{sk:.111}],72:[.683,.048,.845,{sk:.111}],73:[.683,0,.545,{ic:.097,sk:.0278}],74:[.683,.119,.678,{ic:.161,sk:.167}],75:[.705,.022,.762,{sk:.0556}],76:[.705,.022,.69,{sk:.139}],77:[.705,.05,1.201,{sk:.139}],78:[.789,.05,.82,{ic:.159,sk:.0833}],79:[.705,.022,.796,{sk:.111}],80:[.683,.057,.696,{ic:.037,sk:.0833}],81:[.705,.131,.817,{sk:.111}],82:[.682,.022,.848,{sk:.0833}],83:[.705,.022,.606,{ic:.036,sk:.139}],84:[.717,.068,.545,{ic:.288,sk:.0278}],85:[.683,.028,.626,{ic:.061,sk:.0833}],86:[.683,.052,.613,{ic:.045,sk:.0278}],87:[.683,.053,.988,{ic:.046,sk:.0833}],88:[.683,0,.713,{ic:.094,sk:.139}],89:[.683,.143,.668,{ic:.046,sk:.0833}],90:[.683,0,.725,{ic:.042,sk:.139}]}},6041:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.texMathit=void 0,e.texMathit={65:[.716,0,.743],66:[.683,0,.704],67:[.705,.021,.716],68:[.683,0,.755],69:[.68,0,.678],70:[.68,0,.653],71:[.705,.022,.774],72:[.683,0,.743],73:[.683,0,.386],74:[.683,.021,.525],75:[.683,0,.769],76:[.683,0,.627],77:[.683,0,.897],78:[.683,0,.743],79:[.704,.022,.767],80:[.683,0,.678],81:[.704,.194,.767],82:[.683,.022,.729],83:[.705,.022,.562],84:[.677,0,.716],85:[.683,.022,.743],86:[.683,.022,.743],87:[.683,.022,.999],88:[.683,0,.743],89:[.683,0,.743],90:[.683,0,.613],97:[.442,.011,.511],98:[.694,.011,.46],99:[.441,.01,.46],100:[.694,.011,.511],101:[.442,.01,.46],102:[.705,.204,.307],103:[.442,.205,.46],104:[.694,.011,.511],105:[.656,.01,.307],106:[.656,.204,.307],107:[.694,.011,.46],108:[.694,.011,.256],109:[.442,.011,.818],110:[.442,.011,.562],111:[.442,.011,.511],112:[.442,.194,.511],113:[.442,.194,.46],114:[.442,.011,.422],115:[.442,.011,.409],116:[.626,.011,.332],117:[.441,.011,.537],118:[.443,.01,.46],119:[.443,.011,.664],120:[.442,.011,.464],121:[.441,.205,.486],122:[.442,.011,.409]}},8199:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.texOldstyleBold=void 0,e.texOldstyleBold={48:[.46,.017,.575],49:[.461,0,.575],50:[.46,0,.575],51:[.461,.211,.575],52:[.469,.194,.575],53:[.461,.211,.575],54:[.66,.017,.575],55:[.476,.211,.575],56:[.661,.017,.575],57:[.461,.21,.575],65:[.751,.049,.921,{ic:.068,sk:.224}],66:[.705,.017,.748,{sk:.16}],67:[.703,.02,.613,{sk:.16}],68:[.686,0,.892,{sk:.0958}],69:[.703,.016,.607,{ic:.02,sk:.128}],70:[.686,.03,.814,{ic:.116,sk:.128}],71:[.703,.113,.682,{sk:.128}],72:[.686,.048,.987,{sk:.128}],73:[.686,0,.642,{ic:.104,sk:.0319}],74:[.686,.114,.779,{ic:.158,sk:.192}],75:[.703,.017,.871,{sk:.0639}],76:[.703,.017,.788,{sk:.16}],77:[.703,.049,1.378,{sk:.16}],78:[.84,.049,.937,{ic:.168,sk:.0958}],79:[.703,.017,.906,{sk:.128}],80:[.686,.067,.81,{ic:.036,sk:.0958}],81:[.703,.146,.939,{sk:.128}],82:[.686,.017,.99,{sk:.0958}],83:[.703,.016,.696,{ic:.025,sk:.16}],84:[.72,.069,.644,{ic:.303,sk:.0319}],85:[.686,.024,.715,{ic:.056,sk:.0958}],86:[.686,.077,.737,{ic:.037,sk:.0319}],87:[.686,.077,1.169,{ic:.037,sk:.0958}],88:[.686,0,.817,{ic:.089,sk:.16}],89:[.686,.164,.759,{ic:.038,sk:.0958}],90:[.686,0,.818,{ic:.035,sk:.16}]}},9848:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.texOldstyle=void 0,e.texOldstyle={48:[.452,.022,.5],49:[.453,0,.5],50:[.453,0,.5],51:[.452,.216,.5],52:[.464,.194,.5],53:[.453,.216,.5],54:[.665,.022,.5],55:[.463,.216,.5],56:[.666,.021,.5],57:[.453,.216,.5],65:[.728,.05,.798,{ic:.021,sk:.194}],66:[.705,.022,.657,{sk:.139}],67:[.705,.025,.527,{sk:.139}],68:[.683,0,.771,{sk:.0833}],69:[.705,.022,.528,{ic:.036,sk:.111}],70:[.683,.032,.719,{ic:.11,sk:.111}],71:[.704,.119,.595,{sk:.111}],72:[.683,.048,.845,{sk:.111}],73:[.683,0,.545,{ic:.097,sk:.0278}],74:[.683,.119,.678,{ic:.161,sk:.167}],75:[.705,.022,.762,{sk:.0556}],76:[.705,.022,.69,{sk:.139}],77:[.705,.05,1.201,{sk:.139}],78:[.789,.05,.82,{ic:.159,sk:.0833}],79:[.705,.022,.796,{sk:.111}],80:[.683,.057,.696,{ic:.037,sk:.0833}],81:[.705,.131,.817,{sk:.111}],82:[.682,.022,.848,{sk:.0833}],83:[.705,.022,.606,{ic:.036,sk:.139}],84:[.717,.068,.545,{ic:.288,sk:.0278}],85:[.683,.028,.626,{ic:.061,sk:.0833}],86:[.683,.052,.613,{ic:.045,sk:.0278}],87:[.683,.053,.988,{ic:.046,sk:.0833}],88:[.683,0,.713,{ic:.094,sk:.139}],89:[.683,.143,.668,{ic:.046,sk:.0833}],90:[.683,0,.725,{ic:.042,sk:.139}]}},7906:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.texSize3=void 0,e.texSize3={40:[1.45,.949,.736],41:[1.45,.949,.736],47:[1.45,.949,1.044],91:[1.45,.949,.528],92:[1.45,.949,1.044],93:[1.45,.949,.528],123:[1.45,.949,.75],125:[1.45,.949,.75],710:[.772,-.564,1.444],732:[.749,-.61,1.444],770:[.772,-.564,0],771:[.749,-.61,0],8260:[1.45,.949,1.044],8730:[1.45,.95,1,{ic:.02}],8968:[1.45,.949,.583],8969:[1.45,.949,.583],8970:[1.45,.949,.583],8971:[1.45,.949,.583],9001:[1.45,.95,.75],9002:[1.45,.949,.75],10216:[1.45,.95,.75],10217:[1.45,.949,.75],12296:[1.45,.95,.75],12297:[1.45,.949,.75]}},2644:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.texSize4=void 0,e.texSize4={40:[1.75,1.249,.792],41:[1.75,1.249,.792],47:[1.75,1.249,1.278],91:[1.75,1.249,.583],92:[1.75,1.249,1.278],93:[1.75,1.249,.583],123:[1.75,1.249,.806],125:[1.75,1.249,.806],710:[.845,-.561,1.889,{ic:.013}],732:[.823,-.583,1.889],770:[.845,-.561,0,{ic:.013}],771:[.823,-.583,0],8260:[1.75,1.249,1.278],8730:[1.75,1.25,1,{ic:.02}],8968:[1.75,1.249,.639],8969:[1.75,1.249,.639],8970:[1.75,1.249,.639],8971:[1.75,1.249,.639],9001:[1.75,1.248,.806],9002:[1.75,1.248,.806],9115:[1.154,.655,.875],9116:[.61,.01,.875],9117:[1.165,.644,.875],9118:[1.154,.655,.875],9119:[.61,.01,.875],9120:[1.165,.644,.875],9121:[1.154,.645,.667],9122:[.602,0,.667],9123:[1.155,.644,.667],9124:[1.154,.645,.667],9125:[.602,0,.667],9126:[1.155,.644,.667],9127:[.899,.01,.889],9128:[1.16,.66,.889],9129:[.01,.899,.889],9130:[.29,.015,.889],9131:[.899,.01,.889],9132:[1.16,.66,.889],9133:[.01,.899,.889],9143:[.935,.885,1.056],10216:[1.75,1.248,.806],10217:[1.75,1.248,.806],12296:[1.75,1.248,.806],12297:[1.75,1.248,.806],57344:[.625,.014,1.056],57345:[.605,.014,1.056,{ic:.02}],57680:[.12,.213,.45,{ic:.01}],57681:[.12,.213,.45,{ic:.024}],57682:[.333,0,.45,{ic:.01}],57683:[.333,0,.45,{ic:.024}],57684:[.32,.2,.4,{ic:.01}],57685:[.333,0,.9,{ic:.01}],57686:[.12,.213,.9,{ic:.01}]}},4926:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.texVariant=void 0,e.texVariant={710:[.845,-.561,2.333,{ic:.013}],732:[.899,-.628,2.333],770:[.845,-.561,0,{ic:.013}],771:[.899,-.628,0],1008:[.434,.006,.667,{ic:.067}],8463:[.695,.013,.54,{ic:.022}],8592:[.437,-.064,.5],8594:[.437,-.064,.5],8652:[.514,.014,1],8708:[.86,.166,.556],8709:[.587,0,.778],8722:[.27,-.23,.5],8726:[.43,.023,.778],8733:[.472,-.028,.778],8739:[.43,.023,.222],8740:[.43,.023,.222,{ic:.018}],8741:[.431,.023,.389],8742:[.431,.024,.389,{ic:.018}],8764:[.365,-.132,.778],8776:[.481,-.05,.778],8808:[.752,.284,.778],8809:[.752,.284,.778],8816:[.919,.421,.778],8817:[.919,.421,.778],8840:[.828,.33,.778],8841:[.828,.33,.778],8842:[.634,.255,.778],8843:[.634,.254,.778],8872:[.694,0,.611],8901:[.189,0,.278],8994:[.378,-.122,.778],8995:[.378,-.143,.778],9651:[.575,.02,.722],9661:[.576,.019,.722],10887:[.801,.303,.778],10888:[.801,.303,.778],10955:[.752,.332,.778],10956:[.752,.333,.778]}},5865:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},M(s,a)},function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,o=a&&s[a],l=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__read||function(s,a){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var l,u,p=o.call(s),h=[];try{for(;(a===void 0||a-- >0)&&!(l=p.next()).done;)h.push(l.value)}catch(m){u={error:m}}finally{try{l&&!l.done&&(o=p.return)&&o.call(p)}finally{if(u)throw u.error}}return h};Object.defineProperty(e,"__esModule",{value:!0}),e.MJContextMenu=void 0;var d=v(5073),f=v(6186),c=function(s){function a(){var o=s!==null&&s.apply(this,arguments)||this;return o.mathItem=null,o.annotation="",o.annotationTypes={},o}return C(a,s),a.prototype.post=function(o,l){if(this.mathItem){if(l!==void 0){var u=this.mathItem.inputJax.name,p=this.findID("Show","Original");p.content=u==="MathML"?"Original MathML":u+" Commands",this.findID("Copy","Original").content=p.content;var h=this.findID("Settings","semantics");u==="MathML"?h.disable():h.enable(),this.getAnnotationMenu(),this.dynamicSubmenus()}s.prototype.post.call(this,o,l)}},a.prototype.unpost=function(){s.prototype.unpost.call(this),this.mathItem=null},a.prototype.findID=function(){for(var o,l,u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var h=this,m=null;try{for(var g=x(u),E=g.next();!E.done;E=g.next()){var S=E.value;h?(m=h.find(S),h=m instanceof f.Submenu?m.submenu:null):m=null}}catch(O){o={error:O}}finally{try{E&&!E.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}return m},a.prototype.getAnnotationMenu=function(){var o=this,l=this.getAnnotations(this.getSemanticNode());this.createAnnotationMenu("Show",l,function(){return o.showAnnotation.post()}),this.createAnnotationMenu("Copy",l,function(){return o.copyAnnotation()})},a.prototype.getSemanticNode=function(){for(var o=this.mathItem.root;o&&!o.isKind("semantics");){if(o.isToken||o.childNodes.length!==1)return null;o=o.childNodes[0]}return o},a.prototype.getAnnotations=function(o){var l,u,p=[];if(!o)return p;try{for(var h=x(o.childNodes),m=h.next();!m.done;m=h.next()){var g=m.value;if(g.isKind("annotation")){var E=this.annotationMatch(g);if(E){var S=g.childNodes.reduce(function(O,A){return O+A.toString()},"");p.push([E,S])}}}}catch(O){l={error:O}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}return p},a.prototype.annotationMatch=function(o){var l,u,p=o.attributes.get("encoding");try{for(var h=x(Object.keys(this.annotationTypes)),m=h.next();!m.done;m=h.next()){var g=m.value;if(this.annotationTypes[g].indexOf(p)>=0)return g}}catch(E){l={error:E}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}return null},a.prototype.createAnnotationMenu=function(o,l,u){var p=this,h=this.findID(o,"Annotation");h.submenu=this.factory.get("subMenu")(this.factory,{items:l.map(function(m){var g=y(m,2),E=g[0],S=g[1];return{type:"command",id:E,content:E,action:function(){p.annotation=S,u()}}}),id:"annotations"},h),l.length?h.enable():h.disable()},a.prototype.dynamicSubmenus=function(){var o,l;try{for(var u=x(a.DynamicSubmenus),p=u.next();!p.done;p=u.next()){var h=y(p.value,2),m=h[0],g=h[1],E=this.find(m);if(E){var S=g(this,E);E.submenu=S,S.items.length?E.enable():E.disable()}}}catch(O){o={error:O}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}},a.DynamicSubmenus=new Map,a}(d.ContextMenu);e.MJContextMenu=c},8310:function(R,e,v){var M=this&&this.__read||function(O,A){var _=typeof Symbol=="function"&&O[Symbol.iterator];if(!_)return O;var T,N,w=_.call(O),L=[];try{for(;(A===void 0||A-- >0)&&!(T=w.next()).done;)L.push(T.value)}catch(I){N={error:I}}finally{try{T&&!T.done&&(_=w.return)&&_.call(w)}finally{if(N)throw N.error}}return L},C=this&&this.__values||function(O){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&O[A],T=0;if(_)return _.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&T>=O.length&&(O=void 0),{value:O&&O[T++],done:!O}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},x=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=void 0;var y=v(5713),d=v(4474),f=v(9515),c=v(7233),s=v(5865),a=v(473),o=v(4414),l=v(4922),u=v(6914),p=v(3463),h=v(7309),m=x(v(5445)),g=f.MathJax,E=typeof window<"u"&&window.navigator&&window.navigator.platform.substr(0,3)==="Mac",S=function(){function O(A,_){_===void 0&&(_={});var T=this;this.settings=null,this.defaultSettings=null,this.menu=null,this.MmlVisitor=new a.MmlVisitor,this.jax={CHTML:null,SVG:null},this.rerenderStart=d.STATE.LAST,this.about=new l.Info('<b style="font-size:120%;">MathJax</b> v'+y.mathjax.version,function(){var N=[];return N.push("Input Jax: "+T.document.inputJax.map(function(w){return w.name}).join(", ")),N.push("Output Jax: "+T.document.outputJax.name),N.push("Document Type: "+T.document.kind),N.join("<br/>")},'<a href="https://www.mathjax.org">www.mathjax.org</a>'),this.help=new l.Info("<b>MathJax Help</b>",function(){return["<p><b>MathJax</b> is a JavaScript library that allows page"," authors to include mathematics within their web pages."," As a reader, you don't need to do anything to make that happen.</p>","<p><b>Browsers</b>: MathJax works with all modern browsers including"," Edge, Firefox, Chrome, Safari, Opera, and most mobile browsers.</p>","<p><b>Math Menu</b>: MathJax adds a contextual menu to equations."," Right-click or CTRL-click on any mathematics to access the menu.</p>",'<div style="margin-left: 1em;">',"<p><b>Show Math As:</b> These options allow you to view the formula's"," source markup (as MathML or in its original format).</p>","<p><b>Copy to Clipboard:</b> These options copy the formula's source markup,"," as MathML or in its original format, to the clipboard"," (in browsers that support that).</p>","<p><b>Math Settings:</b> These give you control over features of MathJax,"," such the size of the mathematics, and the mechanism used"," to display equations.</p>","<p><b>Accessibility</b>: MathJax can work with screen"," readers to make mathematics accessible to the visually impaired."," Turn on the explorer to enable generation of speech strings"," and the ability to investigate expressions interactively.</p>","<p><b>Language</b>: This menu lets you select the language used by MathJax"," for its menus and warning messages. (Not yet implemented in version 3.)</p>","</div>","<p><b>Math Zoom</b>: If you are having difficulty reading an"," equation, MathJax can enlarge it to help you see it better, or"," you can scall all the math on the page to make it larger."," Turn these features on in the <b>Math Settings</b> menu.</p>","<p><b>Preferences</b>: MathJax uses your browser's localStorage database"," to save the preferences set via this menu locally in your browser.  These"," are not used to track you, and are not transferred or used remotely by"," MathJax in any way.</p>"].join(`
`)},'<a href="https://www.mathjax.org">www.mathjax.org</a>'),this.mathmlCode=new o.SelectableInfo("MathJax MathML Expression",function(){if(!T.menu.mathItem)return"";var N=T.toMML(T.menu.mathItem);return"<pre>"+T.formatSource(N)+"</pre>"},""),this.originalText=new o.SelectableInfo("MathJax Original Source",function(){if(!T.menu.mathItem)return"";var N=T.menu.mathItem.math;return'<pre style="font-size:125%; margin:0">'+T.formatSource(N)+"</pre>"},""),this.annotationText=new o.SelectableInfo("MathJax Annotation Text",function(){if(!T.menu.mathItem)return"";var N=T.menu.annotation;return'<pre style="font-size:125%; margin:0">'+T.formatSource(N)+"</pre>"},""),this.zoomBox=new l.Info("MathJax Zoomed Expression",function(){if(!T.menu.mathItem)return"";var N=T.menu.mathItem.typesetRoot.cloneNode(!0);return N.style.margin="0",'<div style="font-size: '+1.25*parseFloat(T.settings.zscale)+'%">'+N.outerHTML+"</div>"},""),this.document=A,this.options=(0,c.userOptions)((0,c.defaultOptions)({},this.constructor.OPTIONS),_),this.initSettings(),this.mergeUserSettings(),this.initMenu(),this.applySettings()}return Object.defineProperty(O.prototype,"isLoading",{get:function(){return O.loading>0},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"loadingPromise",{get:function(){return this.isLoading?(O._loadingPromise||(O._loadingPromise=new Promise(function(A,_){O._loadingOK=A,O._loadingFailed=_})),O._loadingPromise):Promise.resolve()},enumerable:!1,configurable:!0}),O.prototype.initSettings=function(){this.settings=this.options.settings,this.jax=this.options.jax;var A=this.document.outputJax;this.jax[A.name]=A,this.settings.renderer=A.name,g._.a11y&&g._.a11y.explorer&&Object.assign(this.settings,this.document.options.a11y),this.settings.scale=A.options.scale,this.defaultSettings=Object.assign({},this.settings)},O.prototype.initMenu=function(){var A=this,_=new u.Parser([["contextMenu",s.MJContextMenu.fromJson.bind(s.MJContextMenu)]]);this.menu=_.parse({type:"contextMenu",id:"MathJax_Menu",pool:[this.variable("texHints"),this.variable("semantics"),this.variable("zoom"),this.variable("zscale"),this.variable("renderer",function(N){return A.setRenderer(N)}),this.variable("alt"),this.variable("cmd"),this.variable("ctrl"),this.variable("shift"),this.variable("scale",function(N){return A.setScale(N)}),this.variable("explorer",function(N){return A.setExplorer(N)}),this.a11yVar("highlight"),this.a11yVar("backgroundColor"),this.a11yVar("backgroundOpacity"),this.a11yVar("foregroundColor"),this.a11yVar("foregroundOpacity"),this.a11yVar("speech"),this.a11yVar("subtitles"),this.a11yVar("braille"),this.a11yVar("viewBraille"),this.a11yVar("locale",function(N){return m.default.setupEngine({locale:N})}),this.a11yVar("speechRules",function(N){var w=M(N.split("-"),2),L=w[0],I=w[1];A.document.options.sre.domain=L,A.document.options.sre.style=I}),this.a11yVar("magnification"),this.a11yVar("magnify"),this.a11yVar("treeColoring"),this.a11yVar("infoType"),this.a11yVar("infoRole"),this.a11yVar("infoPrefix"),this.variable("autocollapse"),this.variable("collapsible",function(N){return A.setCollapsible(N)}),this.variable("inTabOrder",function(N){return A.setTabOrder(N)}),this.variable("assistiveMml",function(N){return A.setAssistiveMml(N)})],items:[this.submenu("Show","Show Math As",[this.command("MathMLcode","MathML Code",function(){return A.mathmlCode.post()}),this.command("Original","Original Form",function(){return A.originalText.post()}),this.submenu("Annotation","Annotation")]),this.submenu("Copy","Copy to Clipboard",[this.command("MathMLcode","MathML Code",function(){return A.copyMathML()}),this.command("Original","Original Form",function(){return A.copyOriginal()}),this.submenu("Annotation","Annotation")]),this.rule(),this.submenu("Settings","Math Settings",[this.submenu("Renderer","Math Renderer",this.radioGroup("renderer",[["CHTML"],["SVG"]])),this.rule(),this.submenu("ZoomTrigger","Zoom Trigger",[this.command("ZoomNow","Zoom Once Now",function(){return A.zoom(null,"",A.menu.mathItem)}),this.rule(),this.radioGroup("zoom",[["Click"],["DoubleClick","Double-Click"],["NoZoom","No Zoom"]]),this.rule(),this.label("TriggerRequires","Trigger Requires:"),this.checkbox(E?"Option":"Alt",E?"Option":"Alt","alt"),this.checkbox("Command","Command","cmd",{hidden:!E}),this.checkbox("Control","Control","ctrl",{hiddne:E}),this.checkbox("Shift","Shift","shift")]),this.submenu("ZoomFactor","Zoom Factor",this.radioGroup("zscale",[["150%"],["175%"],["200%"],["250%"],["300%"],["400%"]])),this.rule(),this.command("Scale","Scale All Math...",function(){return A.scaleAllMath()}),this.rule(),this.checkbox("texHints","Add TeX hints to MathML","texHints"),this.checkbox("semantics","Add original as annotation","semantics"),this.rule(),this.command("Reset","Reset to defaults",function(){return A.resetDefaults()})]),this.submenu("Accessibility","Accessibility",[this.checkbox("Activate","Activate","explorer"),this.submenu("Speech","Speech",[this.checkbox("Speech","Speech Output","speech"),this.checkbox("Subtitles","Speech Subtitles","subtitles"),this.checkbox("Braille","Braille Output","braille"),this.checkbox("View Braille","Braille Subtitles","viewBraille"),this.rule(),this.submenu("A11yLanguage","Language"),this.rule(),this.submenu("Mathspeak","Mathspeak Rules",this.radioGroup("speechRules",[["mathspeak-default","Verbose"],["mathspeak-brief","Brief"],["mathspeak-sbrief","Superbrief"]])),this.submenu("Clearspeak","Clearspeak Rules",this.radioGroup("speechRules",[["clearspeak-default","Auto"]])),this.submenu("ChromeVox","ChromeVox Rules",this.radioGroup("speechRules",[["chromevox-default","Standard"],["chromevox-alternative","Alternative"]]))]),this.submenu("Highlight","Highlight",[this.submenu("Background","Background",this.radioGroup("backgroundColor",[["Blue"],["Red"],["Green"],["Yellow"],["Cyan"],["Magenta"],["White"],["Black"]])),{type:"slider",variable:"backgroundOpacity",content:" "},this.submenu("Foreground","Foreground",this.radioGroup("foregroundColor",[["Black"],["White"],["Magenta"],["Cyan"],["Yellow"],["Green"],["Red"],["Blue"]])),{type:"slider",variable:"foregroundOpacity",content:" "},this.rule(),this.radioGroup("highlight",[["None"],["Hover"],["Flame"]]),this.rule(),this.checkbox("TreeColoring","Tree Coloring","treeColoring")]),this.submenu("Magnification","Magnification",[this.radioGroup("magnification",[["None"],["Keyboard"],["Mouse"]]),this.rule(),this.radioGroup("magnify",[["200%"],["300%"],["400%"],["500%"]])]),this.submenu("Semantic Info","Semantic Info",[this.checkbox("Type","Type","infoType"),this.checkbox("Role","Role","infoRole"),this.checkbox("Prefix","Prefix","infoPrefix")],!0),this.rule(),this.checkbox("Collapsible","Collapsible Math","collapsible"),this.checkbox("AutoCollapse","Auto Collapse","autocollapse",{disabled:!0}),this.rule(),this.checkbox("InTabOrder","Include in Tab Order","inTabOrder"),this.checkbox("AssistiveMml","Include Hidden MathML","assistiveMml")]),this.submenu("Language","Language"),this.rule(),this.command("About","About MathJax",function(){return A.about.post()}),this.command("Help","MathJax Help",function(){return A.help.post()})]});var T=this.menu;this.about.attachMenu(T),this.help.attachMenu(T),this.originalText.attachMenu(T),this.annotationText.attachMenu(T),this.mathmlCode.attachMenu(T),this.zoomBox.attachMenu(T),this.checkLoadableItems(),this.enableExplorerItems(this.settings.explorer),T.showAnnotation=this.annotationText,T.copyAnnotation=this.copyAnnotation.bind(this),T.annotationTypes=this.options.annotationTypes,h.CssStyles.addInfoStyles(this.document.document),h.CssStyles.addMenuStyles(this.document.document)},O.prototype.checkLoadableItems=function(){var A,_;if(g&&g._&&g.loader&&g.startup)!this.settings.collapsible||g._.a11y&&g._.a11y.complexity||this.loadA11y("complexity"),!this.settings.explorer||g._.a11y&&g._.a11y.explorer||this.loadA11y("explorer"),!this.settings.assistiveMml||g._.a11y&&g._.a11y["assistive-mml"]||this.loadA11y("assistive-mml");else{var T=this.menu;try{for(var N=C(Object.keys(this.jax)),w=N.next();!w.done;w=N.next()){var L=w.value;this.jax[L]||T.findID("Settings","Renderer",L).disable()}}catch(I){A={error:I}}finally{try{w&&!w.done&&(_=N.return)&&_.call(N)}finally{if(A)throw A.error}}T.findID("Accessibility","Activate").disable(),T.findID("Accessibility","AutoCollapse").disable(),T.findID("Accessibility","Collapsible").disable()}},O.prototype.enableExplorerItems=function(A){var _,T,N=this.menu.findID("Accessibility","Activate").menu;try{for(var w=C(N.items.slice(1)),L=w.next();!L.done;L=w.next()){var I=L.value;if(I instanceof p.Rule)break;A?I.enable():I.disable()}}catch(P){_={error:P}}finally{try{L&&!L.done&&(T=w.return)&&T.call(w)}finally{if(_)throw _.error}}},O.prototype.mergeUserSettings=function(){try{var A=localStorage.getItem(O.MENU_STORAGE);if(!A)return;Object.assign(this.settings,JSON.parse(A)),this.setA11y(this.settings)}catch(_){console.log("MathJax localStorage error: "+_.message)}},O.prototype.saveUserSettings=function(){var A,_,T={};try{for(var N=C(Object.keys(this.settings)),w=N.next();!w.done;w=N.next()){var L=w.value;this.settings[L]!==this.defaultSettings[L]&&(T[L]=this.settings[L])}}catch(I){A={error:I}}finally{try{w&&!w.done&&(_=N.return)&&_.call(N)}finally{if(A)throw A.error}}try{Object.keys(T).length?localStorage.setItem(O.MENU_STORAGE,JSON.stringify(T)):localStorage.removeItem(O.MENU_STORAGE)}catch(I){console.log("MathJax localStorage error: "+I.message)}},O.prototype.setA11y=function(A){g._.a11y&&g._.a11y.explorer&&g._.a11y.explorer_ts.setA11yOptions(this.document,A)},O.prototype.getA11y=function(A){if(g._.a11y&&g._.a11y.explorer)return this.document.options.a11y[A]!==void 0?this.document.options.a11y[A]:this.document.options.sre[A]},O.prototype.applySettings=function(){this.setTabOrder(this.settings.inTabOrder),this.document.options.enableAssistiveMml=this.settings.assistiveMml,this.document.outputJax.options.scale=parseFloat(this.settings.scale),this.settings.renderer!==this.defaultSettings.renderer&&this.setRenderer(this.settings.renderer)},O.prototype.setScale=function(A){this.document.outputJax.options.scale=parseFloat(A),this.document.rerender()},O.prototype.setRenderer=function(A){var _=this;if(this.jax[A])this.setOutputJax(A);else{var T=A.toLowerCase();this.loadComponent("output/"+T,function(){var N=g.startup;T in N.constructors&&(N.useOutput(T,!0),N.output=N.getOutputJax(),_.jax[A]=N.output,_.setOutputJax(A))})}},O.prototype.setOutputJax=function(A){this.jax[A].setAdaptor(this.document.adaptor),this.document.outputJax=this.jax[A],this.rerender()},O.prototype.setTabOrder=function(A){this.menu.store.inTaborder(A)},O.prototype.setAssistiveMml=function(A){this.document.options.enableAssistiveMml=A,!A||g._.a11y&&g._.a11y["assistive-mml"]?this.rerender():this.loadA11y("assistive-mml")},O.prototype.setExplorer=function(A){this.enableExplorerItems(A),this.document.options.enableExplorer=A,!A||g._.a11y&&g._.a11y.explorer?this.rerender(this.settings.collapsible?d.STATE.RERENDER:d.STATE.COMPILED):this.loadA11y("explorer")},O.prototype.setCollapsible=function(A){this.document.options.enableComplexity=A,!A||g._.a11y&&g._.a11y.complexity?this.rerender(d.STATE.COMPILED):this.loadA11y("complexity")},O.prototype.scaleAllMath=function(){var A=(100*parseFloat(this.settings.scale)).toFixed(1).replace(/.0$/,""),_=prompt("Scale all mathematics (compared to surrounding text) by",A+"%");if(_)if(_.match(/^\s*\d+(\.\d*)?\s*%?\s*$/)){var T=parseFloat(_)/100;T?this.menu.pool.lookup("scale").setValue(String(T)):alert("The scale should not be zero")}else alert("The scale should be a percentage (e.g., 120%)")},O.prototype.resetDefaults=function(){var A,_;O.loading++;var T=this.menu.pool,N=this.defaultSettings;try{for(var w=C(Object.keys(this.settings)),L=w.next();!L.done;L=w.next()){var I=L.value,P=T.lookup(I);if(P){P.setValue(N[I]);var k=P.items[0];k&&k.executeCallbacks_()}else this.settings[I]=N[I]}}catch(B){A={error:B}}finally{try{L&&!L.done&&(_=w.return)&&_.call(w)}finally{if(A)throw A.error}}O.loading--,this.rerender(d.STATE.COMPILED)},O.prototype.checkComponent=function(A){var _=O.loadingPromises.get(A);_&&y.mathjax.retryAfter(_)},O.prototype.loadComponent=function(A,_){if(!O.loadingPromises.has(A)){var T=g.loader;if(T){O.loading++;var N=T.load(A).then(function(){O.loading--,O.loadingPromises.delete(A),_(),O.loading===0&&O._loadingPromise&&(O._loadingPromise=null,O._loadingOK())}).catch(function(w){O._loadingPromise?(O._loadingPromise=null,O._loadingFailed(w)):console.log(w)});O.loadingPromises.set(A,N)}}},O.prototype.loadA11y=function(A){var _=this,T=!d.STATE.ENRICHED;this.loadComponent("a11y/"+A,function(){var N=g.startup;y.mathjax.handlers.unregister(N.handler),N.handler=N.getHandler(),y.mathjax.handlers.register(N.handler);var w=_.document;_.document=N.document=N.getDocument(),_.document.menu=_,_.document.outputJax.reset(),_.transferMathList(w),_.document.processed=w.processed,O._loadingPromise||(_.document.outputJax.reset(),_.rerender(A==="complexity"||T?d.STATE.COMPILED:d.STATE.TYPESET))})},O.prototype.transferMathList=function(A){var _,T,N=this.document.options.MathItem;try{for(var w=C(A.math),L=w.next();!L.done;L=w.next()){var I=L.value,P=new N;Object.assign(P,I),this.document.math.push(P)}}catch(k){_={error:k}}finally{try{L&&!L.done&&(T=w.return)&&T.call(w)}finally{if(_)throw _.error}}},O.prototype.formatSource=function(A){return A.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},O.prototype.toMML=function(A){return this.MmlVisitor.visitTree(A.root,A,{texHints:this.settings.texHints,semantics:this.settings.semantics&&A.inputJax.name!=="MathML"})},O.prototype.zoom=function(A,_,T){A&&!this.isZoomEvent(A,_)||(this.menu.mathItem=T,A&&this.menu.post(A),this.zoomBox.post())},O.prototype.isZoomEvent=function(A,_){return this.settings.zoom===_&&(!this.settings.alt||A.altKey)&&(!this.settings.ctrl||A.ctrlKey)&&(!this.settings.cmd||A.metaKey)&&(!this.settings.shift||A.shiftKey)},O.prototype.rerender=function(A){A===void 0&&(A=d.STATE.TYPESET),this.rerenderStart=Math.min(A,this.rerenderStart),O.loading||(this.rerenderStart<=d.STATE.COMPILED&&this.document.reset({inputJax:[]}),this.document.rerender(this.rerenderStart),this.rerenderStart=d.STATE.LAST)},O.prototype.copyMathML=function(){this.copyToClipboard(this.toMML(this.menu.mathItem))},O.prototype.copyOriginal=function(){this.copyToClipboard(this.menu.mathItem.math.trim())},O.prototype.copyAnnotation=function(){this.copyToClipboard(this.menu.annotation.trim())},O.prototype.copyToClipboard=function(A){var _=document.createElement("textarea");_.value=A,_.setAttribute("readonly",""),_.style.cssText="height: 1px; width: 1px; padding: 1px; position: absolute; left: -10px",document.body.appendChild(_),_.select();try{document.execCommand("copy")}catch(T){alert("Can't copy to clipboard: "+T.message)}document.body.removeChild(_)},O.prototype.addMenu=function(A){var _=this,T=A.typesetRoot;T.addEventListener("contextmenu",function(){return _.menu.mathItem=A},!0),T.addEventListener("keydown",function(){return _.menu.mathItem=A},!0),T.addEventListener("click",function(N){return _.zoom(N,"Click",A)},!0),T.addEventListener("dblclick",function(N){return _.zoom(N,"DoubleClick",A)},!0),this.menu.store.insert(T)},O.prototype.clear=function(){this.menu.store.clear()},O.prototype.variable=function(A,_){var T=this;return{name:A,getter:function(){return T.settings[A]},setter:function(N){T.settings[A]=N,_&&_(N),T.saveUserSettings()}}},O.prototype.a11yVar=function(A,_){var T=this;return{name:A,getter:function(){return T.getA11y(A)},setter:function(N){T.settings[A]=N;var w={};w[A]=N,T.setA11y(w),_&&_(N),T.saveUserSettings()}}},O.prototype.submenu=function(A,_,T,N){var w,L;T===void 0&&(T=[]),N===void 0&&(N=!1);var I=[];try{for(var P=C(T),k=P.next();!k.done;k=P.next()){var B=k.value;Array.isArray(B)?I=I.concat(B):I.push(B)}}catch(F){w={error:F}}finally{try{k&&!k.done&&(L=P.return)&&L.call(P)}finally{if(w)throw w.error}}return{type:"submenu",id:A,content:_,menu:{items:I},disabled:I.length===0||N}},O.prototype.command=function(A,_,T,N){return N===void 0&&(N={}),Object.assign({type:"command",id:A,content:_,action:T},N)},O.prototype.checkbox=function(A,_,T,N){return N===void 0&&(N={}),Object.assign({type:"checkbox",id:A,content:_,variable:T},N)},O.prototype.radioGroup=function(A,_){var T=this;return _.map(function(N){return T.radio(N[0],N[1]||N[0],A)})},O.prototype.radio=function(A,_,T,N){return N===void 0&&(N={}),Object.assign({type:"radio",id:A,content:_,variable:T},N)},O.prototype.label=function(A,_){return{type:"label",id:A,content:_}},O.prototype.rule=function(){return{type:"rule"}},O.MENU_STORAGE="MathJax-Menu-Settings",O.OPTIONS={settings:{texHints:!0,semantics:!1,zoom:"NoZoom",zscale:"200%",renderer:"CHTML",alt:!1,cmd:!1,ctrl:!1,shift:!1,scale:1,autocollapse:!1,collapsible:!1,inTabOrder:!0,assistiveMml:!0,explorer:!1},jax:{CHTML:null,SVG:null},annotationTypes:(0,c.expandable)({TeX:["TeX","LaTeX","application/x-tex"],StarMath:["StarMath 5.0"],Maple:["Maple"],ContentMathML:["MathML-Content","application/mathml-content+xml"],OpenMath:["OpenMath"]})},O.loading=0,O.loadingPromises=new Map,O._loadingPromise=null,O._loadingOK=null,O._loadingFailed=null,O}();e.Menu=S},4001:function(R,e,v){var M,C=this&&this.__extends||(M=function(p,h){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(m[E]=g[E])},M(p,h)},function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function m(){this.constructor=p}M(p,h),p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}),x=this&&this.__assign||function(){return x=Object.assign||function(p){for(var h,m=1,g=arguments.length;m<g;m++)for(var E in h=arguments[m])Object.prototype.hasOwnProperty.call(h,E)&&(p[E]=h[E]);return p},x.apply(this,arguments)},y=this&&this.__read||function(p,h){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var g,E,S=m.call(p),O=[];try{for(;(h===void 0||h-- >0)&&!(g=S.next()).done;)O.push(g.value)}catch(A){E={error:A}}finally{try{g&&!g.done&&(m=S.return)&&m.call(S)}finally{if(E)throw E.error}}return O},d=this&&this.__spreadArray||function(p,h,m){if(m||arguments.length===2)for(var g,E=0,S=h.length;E<S;E++)!g&&E in h||(g||(g=Array.prototype.slice.call(h,0,E)),g[E]=h[E]);return p.concat(g||Array.prototype.slice.call(h))},f=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MenuHandler=e.MenuMathDocumentMixin=e.MenuMathItemMixin=void 0;var c=v(5713),s=v(4474),a=v(7233),o=v(8310);function l(p){return function(h){function m(){return h!==null&&h.apply(this,arguments)||this}return C(m,h),m.prototype.addMenu=function(g,E){E===void 0&&(E=!1),this.state()>=s.STATE.CONTEXT_MENU||(this.isEscaped||!g.options.enableMenu&&!E||g.menu.addMenu(this),this.state(s.STATE.CONTEXT_MENU))},m.prototype.checkLoading=function(g){g.checkLoading()},m}(p)}function u(p){var h;return h=function(m){function g(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];var O=m.apply(this,d([],y(E),!1))||this;O.menu=new O.options.MenuClass(O,O.options.menuOptions);var A=O.constructor.ProcessBits;return A.has("context-menu")||A.allocate("context-menu"),O.options.MathItem=l(O.options.MathItem),O}return C(g,m),g.prototype.addMenu=function(){var E,S;if(!this.processed.isSet("context-menu")){try{for(var O=f(this.math),A=O.next();!A.done;A=O.next())A.value.addMenu(this)}catch(_){E={error:_}}finally{try{A&&!A.done&&(S=O.return)&&S.call(O)}finally{if(E)throw E.error}}this.processed.set("context-menu")}return this},g.prototype.checkLoading=function(){this.menu.isLoading&&c.mathjax.retryAfter(this.menu.loadingPromise.catch(function(S){return console.log(S)}));var E=this.menu.settings;return E.collapsible&&(this.options.enableComplexity=!0,this.menu.checkComponent("a11y/complexity")),E.explorer&&(this.options.enableEnrichment=!0,this.options.enableExplorer=!0,this.menu.checkComponent("a11y/explorer")),this},g.prototype.state=function(E,S){return S===void 0&&(S=!1),m.prototype.state.call(this,E,S),E<s.STATE.CONTEXT_MENU&&this.processed.clear("context-menu"),this},g.prototype.updateDocument=function(){return m.prototype.updateDocument.call(this),this.menu.menu.store.sort(),this},g}(p),h.OPTIONS=x(x({enableEnrichment:!0,enableComplexity:!0,enableExplorer:!0,enrichSpeech:"none",enrichError:function(m,g,E){return console.warn("Enrichment Error:",E)}},p.OPTIONS),{MenuClass:o.Menu,menuOptions:o.Menu.OPTIONS,enableMenu:!0,sre:p.OPTIONS.sre||(0,a.expandable)({}),a11y:p.OPTIONS.a11y||(0,a.expandable)({}),renderActions:(0,a.expandable)(x(x({},p.OPTIONS.renderActions),{addMenu:[s.STATE.CONTEXT_MENU],checkLoading:[s.STATE.UNPROCESSED+1]}))}),h}(0,s.newState)("CONTEXT_MENU",170),e.MenuMathItemMixin=l,e.MenuMathDocumentMixin=u,e.MenuHandler=function(p){return p.documentClass=u(p.documentClass),p}},473:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.MmlVisitor=void 0;var x=v(9259),y=v(7233),d=function(f){function c(){var s=f!==null&&f.apply(this,arguments)||this;return s.options={texHints:!0,semantics:!1},s.mathItem=null,s}return C(c,f),c.prototype.visitTree=function(s,a,o){return a===void 0&&(a=null),o===void 0&&(o={}),this.mathItem=a,(0,y.userOptions)(this.options,o),this.visitNode(s,"")},c.prototype.visitTeXAtomNode=function(s,a){return this.options.texHints?f.prototype.visitTeXAtomNode.call(this,s,a):s.childNodes[0]&&s.childNodes[0].childNodes.length===1?this.visitNode(s.childNodes[0],a):a+"<mrow"+this.getAttributes(s)+`>
`+this.childNodeMml(s,a+"  ",`
`)+a+"</mrow>"},c.prototype.visitMathNode=function(s,a){if(!this.options.semantics||this.mathItem.inputJax.name!=="TeX")return f.prototype.visitDefault.call(this,s,a);var o=s.childNodes.length&&s.childNodes[0].childNodes.length>1;return a+"<math"+this.getAttributes(s)+`>
`+a+`  <semantics>
`+(o?a+`    <mrow>
`:"")+this.childNodeMml(s,a+(o?"      ":"    "),`
`)+(o?a+`    </mrow>
`:"")+a+'    <annotation encoding="application/x-tex">'+this.mathItem.math+`</annotation>
`+a+`  </semantics>
`+a+"</math>"},c}(x.SerializedMmlVisitor);e.MmlVisitor=d},4414:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},M(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.SelectableInfo=void 0;var x=v(4922),y=v(2165),d=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return C(c,f),c.prototype.addEvents=function(s){var a=this;s.addEventListener("keypress",function(o){o.key==="a"&&(o.ctrlKey||o.metaKey)&&(a.selectAll(),a.stop(o))})},c.prototype.selectAll=function(){document.getSelection().selectAllChildren(this.html.querySelector("pre"))},c.prototype.copyToClipboard=function(){this.selectAll();try{document.execCommand("copy")}catch(s){alert("Can't copy to clipboard: "+s.message)}document.getSelection().removeAllRanges()},c.prototype.generateHtml=function(){var s=this;f.prototype.generateHtml.call(this);var a=this.html.querySelector("span."+y.HtmlClasses.INFOSIGNATURE).appendChild(document.createElement("input"));a.type="button",a.value="Copy to Clipboard",a.addEventListener("click",function(o){return s.copyToClipboard()})},c}(x.Info);e.SelectableInfo=d},9923:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.asyncLoad=void 0;var M=v(5713);e.asyncLoad=function(C){return M.mathjax.asyncLoad?new Promise(function(x,y){var d=M.mathjax.asyncLoad(C);d instanceof Promise?d.then(function(f){return x(f)}).catch(function(f){return y(f)}):x(d)}):Promise.reject("Can't load '".concat(C,"': No asyncLoad method specified"))}},6469:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.BBox=void 0;var M=v(6010),C=function(){function x(y){y===void 0&&(y={w:0,h:-M.BIGDIMEN,d:-M.BIGDIMEN}),this.w=y.w||0,this.h="h"in y?y.h:-M.BIGDIMEN,this.d="d"in y?y.d:-M.BIGDIMEN,this.L=this.R=this.ic=this.sk=this.dx=0,this.scale=this.rscale=1,this.pwidth=""}return x.zero=function(){return new x({h:0,d:0,w:0})},x.empty=function(){return new x},x.prototype.empty=function(){return this.w=0,this.h=this.d=-M.BIGDIMEN,this},x.prototype.clean=function(){this.w===-M.BIGDIMEN&&(this.w=0),this.h===-M.BIGDIMEN&&(this.h=0),this.d===-M.BIGDIMEN&&(this.d=0)},x.prototype.rescale=function(y){this.w*=y,this.h*=y,this.d*=y},x.prototype.combine=function(y,d,f){d===void 0&&(d=0),f===void 0&&(f=0);var c=y.rscale,s=d+c*(y.w+y.L+y.R),a=f+c*y.h,o=c*y.d-f;s>this.w&&(this.w=s),a>this.h&&(this.h=a),o>this.d&&(this.d=o)},x.prototype.append=function(y){var d=y.rscale;this.w+=d*(y.w+y.L+y.R),d*y.h>this.h&&(this.h=d*y.h),d*y.d>this.d&&(this.d=d*y.d)},x.prototype.updateFrom=function(y){this.h=y.h,this.d=y.d,this.w=y.w,y.pwidth&&(this.pwidth=y.pwidth)},x.fullWidth="100%",x.StyleAdjust=[["borderTopWidth","h"],["borderRightWidth","w"],["borderBottomWidth","d"],["borderLeftWidth","w",0],["paddingTop","h"],["paddingRight","w"],["paddingBottom","d"],["paddingLeft","w",0]],x}();e.BBox=C},6751:function(R,e){var v,M=this&&this.__extends||(v=function(f,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])},v(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function s(){this.constructor=f}v(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)}),C=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,s=c&&f[c],a=0;if(s)return s.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&a>=f.length&&(f=void 0),{value:f&&f[a++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},x=this&&this.__read||function(f,c){var s=typeof Symbol=="function"&&f[Symbol.iterator];if(!s)return f;var a,o,l=s.call(f),u=[];try{for(;(c===void 0||c-- >0)&&!(a=l.next()).done;)u.push(a.value)}catch(p){o={error:p}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return u},y=this&&this.__spreadArray||function(f,c,s){if(s||arguments.length===2)for(var a,o=0,l=c.length;o<l;o++)!a&&o in c||(a||(a=Array.prototype.slice.call(c,0,o)),a[o]=c[o]);return f.concat(a||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.BitFieldClass=e.BitField=void 0;var d=function(){function f(){this.bits=0}return f.allocate=function(){for(var c,s,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];try{for(var l=C(a),u=l.next();!u.done;u=l.next()){var p=u.value;if(this.has(p))throw new Error("Bit already allocated for "+p);if(this.next===f.MAXBIT)throw new Error("Maximum number of bits already allocated");this.names.set(p,this.next),this.next<<=1}}catch(h){c={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}},f.has=function(c){return this.names.has(c)},f.prototype.set=function(c){this.bits|=this.getBit(c)},f.prototype.clear=function(c){this.bits&=~this.getBit(c)},f.prototype.isSet=function(c){return!!(this.bits&this.getBit(c))},f.prototype.reset=function(){this.bits=0},f.prototype.getBit=function(c){var s=this.constructor.names.get(c);if(!s)throw new Error("Unknown bit-field name: "+c);return s},f.MAXBIT=1<<31,f.next=1,f.names=new Map,f}();e.BitField=d,e.BitFieldClass=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var s=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return M(o,a),o}(d);return s.allocate.apply(s,y([],x(f),!1)),s}},5368:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.numeric=e.translate=e.remove=e.add=e.entities=e.options=void 0;var M=v(4542),C=v(9923);e.options={loadMissingEntities:!0},e.entities={ApplyFunction:"",Backslash:"",Because:"",Breve:"",Cap:"",CenterDot:"",CircleDot:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",Congruent:"",ContourIntegral:"",Coproduct:"",Cross:"",Cup:"",CupCap:"",Dagger:"",Del:"",Delta:"",Diamond:"",DifferentialD:"",DotEqual:"",DoubleDot:"",DoubleRightTee:"",DoubleVerticalBar:"",DownArrow:"",DownLeftVector:"",DownRightVector:"",DownTee:"",Downarrow:"",Element:"",EqualTilde:"",Equilibrium:"",Exists:"",ExponentialE:"",FilledVerySmallSquare:"",ForAll:"",Gamma:"",Gg:"",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Hacek:"",Hat:"^",HumpDownHump:"",HumpEqual:"",Im:"",ImaginaryI:"",Integral:"",Intersection:"",InvisibleComma:"",InvisibleTimes:"",Lambda:"",Larr:"",LeftAngleBracket:"",LeftArrow:"",LeftArrowRightArrow:"",LeftCeiling:"",LeftDownVector:"",LeftFloor:"",LeftRightArrow:"",LeftTee:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpVector:"",LeftVector:"",Leftarrow:"",Leftrightarrow:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",LessSlantEqual:"",LessTilde:"",Ll:"",Lleftarrow:"",LongLeftArrow:"",LongLeftRightArrow:"",LongRightArrow:"",Longleftarrow:"",Longleftrightarrow:"",Longrightarrow:"",Lsh:"",MinusPlus:"",NestedGreaterGreater:"",NestedLessLess:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotPrecedes:"",NotPrecedesSlantEqual:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsSlantEqual:"",NotSupersetEqual:"",NotTilde:"",NotVerticalBar:"",Omega:"",OverBar:"",OverBrace:"",PartialD:"",Phi:"",Pi:"",PlusMinus:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",Product:"",Proportional:"",Psi:"",Rarr:"",Re:"",ReverseEquilibrium:"",RightAngleBracket:"",RightArrow:"",RightArrowLeftArrow:"",RightCeiling:"",RightDownVector:"",RightFloor:"",RightTee:"",RightTeeArrow:"",RightTriangle:"",RightTriangleEqual:"",RightUpVector:"",RightVector:"",Rightarrow:"",Rrightarrow:"",Rsh:"",Sigma:"",SmallCircle:"",Sqrt:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",Star:"",Subset:"",SubsetEqual:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",SuchThat:"",Sum:"",Superset:"",SupersetEqual:"",Supset:"",Therefore:"",Theta:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",UnderBar:"_",UnderBrace:"",Union:"",UnionPlus:"",UpArrow:"",UpDownArrow:"",UpTee:"",Uparrow:"",Updownarrow:"",Upsilon:"",Vdash:"",Vee:"",VerticalBar:"",VerticalTilde:"",Vvdash:"",Wedge:"",Xi:"",amp:"&",acute:"",aleph:"",alpha:"",amalg:"",and:"",ang:"",angmsd:"",angsph:"",ape:"",backprime:"",backsim:"",backsimeq:"",beta:"",beth:"",between:"",bigcirc:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",blacklozenge:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",bowtie:"",boxdl:"",boxdr:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxur:"",bsol:"\\",bull:"",cap:"",check:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledR:"",circledS:"",circledast:"",circledcirc:"",circleddash:"",clubs:"",colon:":",comp:"",ctdot:"",cuepr:"",cuesc:"",cularr:"",cup:"",curarr:"",curlyvee:"",curlywedge:"",dagger:"",daleth:"",ddarr:"",deg:"",delta:"",digamma:"",div:"",divideontimes:"",dot:"",doteqdot:"",dotplus:"",dotsquare:"",dtdot:"",ecir:"",efDot:"",egs:"",ell:"",els:"",empty:"",epsi:"",epsiv:"",erDot:"",eta:"",eth:"",flat:"",fork:"",frown:"",gEl:"",gamma:"",gap:"",gimel:"",gnE:"",gnap:"",gne:"",gnsim:"",gt:">",gtdot:"",harrw:"",hbar:"",hellip:"",hookleftarrow:"",hookrightarrow:"",imath:"",infin:"",intcal:"",iota:"",jmath:"",kappa:"",kappav:"",lEg:"",lambda:"",lap:"",larrlp:"",larrtl:"",lbrace:"{",lbrack:"[",le:"",leftleftarrows:"",leftthreetimes:"",lessdot:"",lmoust:"",lnE:"",lnap:"",lne:"",lnsim:"",longmapsto:"",looparrowright:"",lowast:"",loz:"",lt:"<",ltimes:"",ltri:"",macr:"",malt:"",mho:"",mu:"",multimap:"",nLeftarrow:"",nLeftrightarrow:"",nRightarrow:"",nVDash:"",nVdash:"",natur:"",nearr:"",nharr:"",nlarr:"",not:"",nrarr:"",nu:"",nvDash:"",nvdash:"",nwarr:"",omega:"",omicron:"",or:"",osol:"",period:".",phi:"",phiv:"",pi:"",piv:"",prap:"",precnapprox:"",precneqq:"",precnsim:"",prime:"",psi:"",quot:'"',rarrtl:"",rbrace:"}",rbrack:"]",rho:"",rhov:"",rightrightarrows:"",rightthreetimes:"",ring:"",rmoust:"",rtimes:"",rtri:"",scap:"",scnE:"",scnap:"",scnsim:"",sdot:"",searr:"",sect:"",sharp:"",sigma:"",sigmav:"",simne:"",smile:"",spades:"",sub:"",subE:"",subnE:"",subne:"",supE:"",supnE:"",supne:"",swarr:"",tau:"",theta:"",thetav:"",tilde:"",times:"",triangle:"",triangleq:"",upsi:"",upuparrows:"",veebar:"",vellip:"",weierp:"",xi:"",yen:"",zeta:"",zigrarr:"",nbsp:"",rsquo:"",lsquo:""};var x={};function y(f,c){if(c.charAt(0)==="#")return d(c.slice(1));if(e.entities[c])return e.entities[c];if(e.options.loadMissingEntities){var s=c.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:c.charAt(0).toLowerCase();x[s]||(x[s]=!0,(0,M.retryAfter)((0,C.asyncLoad)("./util/entities/"+s+".js")))}return f}function d(f){var c=f.charAt(0)==="x"?parseInt(f.slice(1),16):parseInt(f);return String.fromCodePoint(c)}e.add=function(f,c){Object.assign(e.entities,f),x[c]=!0},e.remove=function(f){delete e.entities[f]},e.translate=function(f){return f.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,y)},e.numeric=d},7525:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])},M(c,s)},function(c,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}),x=this&&this.__values||function(c){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&c[s],o=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&o>=c.length&&(c=void 0),{value:c&&c[o++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__read||function(c,s){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var o,l,u=a.call(c),p=[];try{for(;(s===void 0||s-- >0)&&!(o=u.next()).done;)p.push(o.value)}catch(h){l={error:h}}finally{try{o&&!o.done&&(a=u.return)&&a.call(u)}finally{if(l)throw l.error}}return p},d=this&&this.__spreadArray||function(c,s,a){if(a||arguments.length===2)for(var o,l=0,u=s.length;l<u;l++)!o&&l in s||(o||(o=Array.prototype.slice.call(s,0,l)),o[l]=s[l]);return c.concat(o||Array.prototype.slice.call(s))};Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionList=void 0;var f=function(c){function s(){return c!==null&&c.apply(this,arguments)||this}return C(s,c),s.prototype.execute=function(){for(var a,o,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];try{for(var p=x(this),h=p.next();!h.done;h=p.next()){var m=h.value,g=m.item.apply(m,d([],y(l),!1));if(g===!1)return!1}}catch(E){a={error:E}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}return!0},s.prototype.asyncExecute=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var l=-1,u=this.items;return new Promise(function(p,h){(function m(){for(var g;++l<u.length;){var E=(g=u[l]).item.apply(g,d([],y(a),!1));if(E instanceof Promise)return void E.then(m).catch(function(S){return h(S)});if(E===!1)return void p(!1)}p(!0)})()})},s}(v(8666).PrioritizedList);e.FunctionList=f},103:function(R,e){var v=this&&this.__generator||function(f,c){var s,a,o,l,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function p(h){return function(m){return function(g){if(s)throw new TypeError("Generator is already executing.");for(;u;)try{if(s=1,a&&(o=2&g[0]?a.return:g[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,g[1])).done)return o;switch(a=0,o&&(g=[2&g[0],o.value]),g[0]){case 0:case 1:o=g;break;case 4:return u.label++,{value:g[1],done:!1};case 5:u.label++,a=g[1],g=[0];continue;case 7:g=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!((o=o.length>0&&o[o.length-1])||g[0]!==6&&g[0]!==2)){u=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){u.label=g[1];break}if(g[0]===6&&u.label<o[1]){u.label=o[1],o=g;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(g);break}o[2]&&u.ops.pop(),u.trys.pop();continue}g=c.call(f,u)}catch(E){g=[6,E],a=0}finally{s=o=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([h,m])}}},M=this&&this.__read||function(f,c){var s=typeof Symbol=="function"&&f[Symbol.iterator];if(!s)return f;var a,o,l=s.call(f),u=[];try{for(;(c===void 0||c-- >0)&&!(a=l.next()).done;)u.push(a.value)}catch(p){o={error:p}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return u},C=this&&this.__spreadArray||function(f,c,s){if(s||arguments.length===2)for(var a,o=0,l=c.length;o<l;o++)!a&&o in c||(a||(a=Array.prototype.slice.call(c,0,o)),a[o]=c[o]);return f.concat(a||Array.prototype.slice.call(c))},x=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,s=c&&f[c],a=0;if(s)return s.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&a>=f.length&&(f=void 0),{value:f&&f[a++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=e.ListItem=e.END=void 0,e.END=Symbol();var y=function(f){f===void 0&&(f=null),this.next=null,this.prev=null,this.data=f};e.ListItem=y;var d=function(){function f(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];this.list=new y(e.END),this.list.next=this.list.prev=this.list,this.push.apply(this,C([],M(c),!1))}return f.prototype.isBefore=function(c,s){return c<s},f.prototype.push=function(){for(var c,s,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];try{for(var l=x(a),u=l.next();!u.done;u=l.next()){var p=u.value,h=new y(p);h.next=this.list,h.prev=this.list.prev,this.list.prev=h,h.prev.next=h}}catch(m){c={error:m}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}return this},f.prototype.pop=function(){var c=this.list.prev;return c.data===e.END?null:(this.list.prev=c.prev,c.prev.next=this.list,c.next=c.prev=null,c.data)},f.prototype.unshift=function(){for(var c,s,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];try{for(var l=x(a.slice(0).reverse()),u=l.next();!u.done;u=l.next()){var p=u.value,h=new y(p);h.next=this.list.next,h.prev=this.list,this.list.next=h,h.next.prev=h}}catch(m){c={error:m}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}return this},f.prototype.shift=function(){var c=this.list.next;return c.data===e.END?null:(this.list.next=c.next,c.next.prev=this.list,c.next=c.prev=null,c.data)},f.prototype.remove=function(){for(var c,s,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var l=new Map;try{for(var u=x(a),p=u.next();!p.done;p=u.next()){var h=p.value;l.set(h,!0)}}catch(E){c={error:E}}finally{try{p&&!p.done&&(s=u.return)&&s.call(u)}finally{if(c)throw c.error}}for(var m=this.list.next;m.data!==e.END;){var g=m.next;l.has(m.data)&&(m.prev.next=m.next,m.next.prev=m.prev,m.next=m.prev=null),m=g}},f.prototype.clear=function(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this},f.prototype[Symbol.iterator]=function(){var c;return v(this,function(s){switch(s.label){case 0:c=this.list.next,s.label=1;case 1:return c.data===e.END?[3,3]:[4,c.data];case 2:return s.sent(),c=c.next,[3,1];case 3:return[2]}})},f.prototype.reversed=function(){var c;return v(this,function(s){switch(s.label){case 0:c=this.list.prev,s.label=1;case 1:return c.data===e.END?[3,3]:[4,c.data];case 2:return s.sent(),c=c.prev,[3,1];case 3:return[2]}})},f.prototype.insert=function(c,s){s===void 0&&(s=null),s===null&&(s=this.isBefore.bind(this));for(var a=new y(c),o=this.list.next;o.data!==e.END&&s(o.data,a.data);)o=o.next;return a.prev=o.prev,a.next=o,o.prev.next=o.prev=a,this},f.prototype.sort=function(c){var s,a;c===void 0&&(c=null),c===null&&(c=this.isBefore.bind(this));var o=[];try{for(var l=x(this),u=l.next();!u.done;u=l.next()){var p=u.value;o.push(new f(p))}}catch(g){s={error:g}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}for(this.list.next=this.list.prev=this.list;o.length>1;){var h=o.shift(),m=o.shift();h.merge(m,c),o.push(h)}return o.length&&(this.list=o[0].list),this},f.prototype.merge=function(c,s){var a,o,l,u,p;s===void 0&&(s=null),s===null&&(s=this.isBefore.bind(this));for(var h=this.list.next,m=c.list.next;h.data!==e.END&&m.data!==e.END;)s(m.data,h.data)?(a=M([h,m],2),m.prev.next=a[0],h.prev.next=a[1],o=M([h.prev,m.prev],2),m.prev=o[0],h.prev=o[1],l=M([c.list,this.list],2),this.list.prev.next=l[0],c.list.prev.next=l[1],u=M([c.list.prev,this.list.prev],2),this.list.prev=u[0],c.list.prev=u[1],h=(p=M([m.next,h],2))[0],m=p[1]):h=h.next;return m.data!==e.END&&(this.list.prev.next=c.list.next,c.list.next.prev=this.list.prev,c.list.prev.next=this.list,this.list.prev=c.list.prev,c.list.next=c.list.prev=c.list),this},f}();e.LinkedList=d},7233:function(R,e){var v=this&&this.__values||function(l){var u=typeof Symbol=="function"&&Symbol.iterator,p=u&&l[u],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},M=this&&this.__read||function(l,u){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var h,m,g=p.call(l),E=[];try{for(;(u===void 0||u-- >0)&&!(h=g.next()).done;)E.push(h.value)}catch(S){m={error:S}}finally{try{h&&!h.done&&(p=g.return)&&p.call(g)}finally{if(m)throw m.error}}return E},C=this&&this.__spreadArray||function(l,u,p){if(p||arguments.length===2)for(var h,m=0,g=u.length;m<g;m++)!h&&m in u||(h||(h=Array.prototype.slice.call(u,0,m)),h[m]=u[m]);return l.concat(h||Array.prototype.slice.call(u))};Object.defineProperty(e,"__esModule",{value:!0}),e.lookup=e.separateOptions=e.selectOptionsFromKeys=e.selectOptions=e.userOptions=e.defaultOptions=e.insert=e.copy=e.keys=e.makeArray=e.expandable=e.Expandable=e.OPTIONS=e.REMOVE=e.APPEND=e.isObject=void 0;var x={}.constructor;function y(l){return typeof l=="object"&&l!==null&&(l.constructor===x||l.constructor===d)}e.isObject=y,e.APPEND="[+]",e.REMOVE="[-]",e.OPTIONS={invalidOption:"warn",optionError:function(l,u){if(e.OPTIONS.invalidOption==="fatal")throw new Error(l);console.warn("MathJax: "+l)}};var d=function(){};function f(l){return Object.assign(Object.create(d.prototype),l)}function c(l){return l?Object.keys(l).concat(Object.getOwnPropertySymbols(l)):[]}function s(l){var u,p,h={};try{for(var m=v(c(l)),g=m.next();!g.done;g=m.next()){var E=g.value,S=Object.getOwnPropertyDescriptor(l,E),O=S.value;Array.isArray(O)?S.value=a([],O,!1):y(O)&&(S.value=s(O)),S.enumerable&&(h[E]=S)}}catch(A){u={error:A}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(u)throw u.error}}return Object.defineProperties(l.constructor===d?f({}):{},h)}function a(l,u,p){var h,m;p===void 0&&(p=!0);var g=function(O){if(p&&l[O]===void 0&&l.constructor!==d)return typeof O=="symbol"&&(O=O.toString()),e.OPTIONS.optionError('Invalid option "'.concat(O,'" (no default value).'),O),"continue";var A=u[O],_=l[O];if(!y(A)||_===null||typeof _!="object"&&typeof _!="function")Array.isArray(A)?(l[O]=[],a(l[O],A,!1)):y(A)?l[O]=s(A):l[O]=A;else{var T=c(A);Array.isArray(_)&&(T.length===1&&(T[0]===e.APPEND||T[0]===e.REMOVE)&&Array.isArray(A[T[0]])||T.length===2&&T.sort().join(",")===e.APPEND+","+e.REMOVE&&Array.isArray(A[e.APPEND])&&Array.isArray(A[e.REMOVE]))?(A[e.REMOVE]&&(_=l[O]=_.filter(function(N){return A[e.REMOVE].indexOf(N)<0})),A[e.APPEND]&&(l[O]=C(C([],M(_),!1),M(A[e.APPEND]),!1))):a(_,A,p)}};try{for(var E=v(c(u)),S=E.next();!S.done;S=E.next())g(S.value)}catch(O){h={error:O}}finally{try{S&&!S.done&&(m=E.return)&&m.call(E)}finally{if(h)throw h.error}}return l}function o(l){for(var u,p,h=[],m=1;m<arguments.length;m++)h[m-1]=arguments[m];var g={};try{for(var E=v(h),S=E.next();!S.done;S=E.next()){var O=S.value;l.hasOwnProperty(O)&&(g[O]=l[O])}}catch(A){u={error:A}}finally{try{S&&!S.done&&(p=E.return)&&p.call(E)}finally{if(u)throw u.error}}return g}e.Expandable=d,e.expandable=f,e.makeArray=function(l){return Array.isArray(l)?l:[l]},e.keys=c,e.copy=s,e.insert=a,e.defaultOptions=function(l){for(var u=[],p=1;p<arguments.length;p++)u[p-1]=arguments[p];return u.forEach(function(h){return a(l,h,!1)}),l},e.userOptions=function(l){for(var u=[],p=1;p<arguments.length;p++)u[p-1]=arguments[p];return u.forEach(function(h){return a(l,h,!0)}),l},e.selectOptions=o,e.selectOptionsFromKeys=function(l,u){return o.apply(void 0,C([l],M(Object.keys(u)),!1))},e.separateOptions=function(l){for(var u,p,h,m,g=[],E=1;E<arguments.length;E++)g[E-1]=arguments[E];var S=[];try{for(var O=v(g),A=O.next();!A.done;A=O.next()){var _=A.value,T={},N={};try{for(var w=(h=void 0,v(Object.keys(l||{}))),L=w.next();!L.done;L=w.next()){var I=L.value;(_[I]===void 0?N:T)[I]=l[I]}}catch(P){h={error:P}}finally{try{L&&!L.done&&(m=w.return)&&m.call(w)}finally{if(h)throw h.error}}S.push(T),l=N}}catch(P){u={error:P}}finally{try{A&&!A.done&&(p=O.return)&&p.call(O)}finally{if(u)throw u.error}}return S.unshift(l),S},e.lookup=function(l,u,p){return p===void 0&&(p=null),u.hasOwnProperty(l)?u[l]:p}},8666:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.PrioritizedList=void 0;var v=function(){function M(){this.items=[],this.items=[]}return M.prototype[Symbol.iterator]=function(){var C=0,x=this.items;return{next:function(){return{value:x[C++],done:C>x.length}}}},M.prototype.add=function(C,x){x===void 0&&(x=M.DEFAULTPRIORITY);var y=this.items.length;do y--;while(y>=0&&x<this.items[y].priority);return this.items.splice(y+1,0,{item:C,priority:x}),C},M.prototype.remove=function(C){var x=this.items.length;do x--;while(x>=0&&this.items[x].item!==C);x>=0&&this.items.splice(x,1)},M.DEFAULTPRIORITY=5,M}();e.PrioritizedList=v},4542:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.retryAfter=e.handleRetriesFor=void 0,e.handleRetriesFor=function(v){return new Promise(function M(C,x){try{C(v())}catch(y){y.retry&&y.retry instanceof Promise?y.retry.then(function(){return M(C,x)}).catch(function(d){return x(d)}):y.restart&&y.restart.isCallback?MathJax.Callback.After(function(){return M(C,x)},y.restart):x(y)}})},e.retryAfter=function(v){var M=new Error("MathJax retry");throw M.retry=v,M}},4139:function(R,e){var v=this&&this.__values||function(C){var x=typeof Symbol=="function"&&Symbol.iterator,y=x&&C[x],d=0;if(y)return y.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&d>=C.length&&(C=void 0),{value:C&&C[d++],done:!C}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CssStyles=void 0;var M=function(){function C(x){x===void 0&&(x=null),this.styles={},this.addStyles(x)}return Object.defineProperty(C.prototype,"cssText",{get:function(){return this.getStyleString()},enumerable:!1,configurable:!0}),C.prototype.addStyles=function(x){var y,d;if(x)try{for(var f=v(Object.keys(x)),c=f.next();!c.done;c=f.next()){var s=c.value;this.styles[s]||(this.styles[s]={}),Object.assign(this.styles[s],x[s])}}catch(a){y={error:a}}finally{try{c&&!c.done&&(d=f.return)&&d.call(f)}finally{if(y)throw y.error}}},C.prototype.removeStyles=function(){for(var x,y,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];try{for(var c=v(d),s=c.next();!s.done;s=c.next()){var a=s.value;delete this.styles[a]}}catch(o){x={error:o}}finally{try{s&&!s.done&&(y=c.return)&&y.call(c)}finally{if(x)throw x.error}}},C.prototype.clear=function(){this.styles={}},C.prototype.getStyleString=function(){return this.getStyleRules().join(`

`)},C.prototype.getStyleRules=function(){var x,y,d=Object.keys(this.styles),f=new Array(d.length),c=0;try{for(var s=v(d),a=s.next();!a.done;a=s.next()){var o=a.value;f[c++]=o+` {
`+this.getStyleDefString(this.styles[o])+`
}`}}catch(l){x={error:l}}finally{try{a&&!a.done&&(y=s.return)&&y.call(s)}finally{if(x)throw x.error}}return f},C.prototype.getStyleDefString=function(x){var y,d,f=Object.keys(x),c=new Array(f.length),s=0;try{for(var a=v(f),o=a.next();!o.done;o=a.next()){var l=o.value;c[s++]="  "+l+": "+x[l]+";"}}catch(u){y={error:u}}finally{try{o&&!o.done&&(d=a.return)&&d.call(a)}finally{if(y)throw y.error}}return c.join(`
`)},C}();e.CssStyles=M},8054:function(R,e){var v=this&&this.__values||function(S){var O=typeof Symbol=="function"&&Symbol.iterator,A=O&&S[O],_=0;if(A)return A.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&_>=S.length&&(S=void 0),{value:S&&S[_++],done:!S}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")},M=this&&this.__read||function(S,O){var A=typeof Symbol=="function"&&S[Symbol.iterator];if(!A)return S;var _,T,N=A.call(S),w=[];try{for(;(O===void 0||O-- >0)&&!(_=N.next()).done;)w.push(_.value)}catch(L){T={error:L}}finally{try{_&&!_.done&&(A=N.return)&&A.call(N)}finally{if(T)throw T.error}}return w},C=this&&this.__spreadArray||function(S,O,A){if(A||arguments.length===2)for(var _,T=0,N=O.length;T<N;T++)!_&&T in O||(_||(_=Array.prototype.slice.call(O,0,T)),_[T]=O[T]);return S.concat(_||Array.prototype.slice.call(O))};Object.defineProperty(e,"__esModule",{value:!0}),e.Styles=void 0;var x=["top","right","bottom","left"],y=["width","style","color"];function d(S){for(var O=S.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),A=[];O.length>1;)O.shift(),A.push(O.shift());return A}function f(S){var O,A,_=d(this.styles[S]);_.length===0&&_.push(""),_.length===1&&_.push(_[0]),_.length===2&&_.push(_[0]),_.length===3&&_.push(_[1]);try{for(var T=v(E.connect[S].children),N=T.next();!N.done;N=T.next()){var w=N.value;this.setStyle(this.childName(S,w),_.shift())}}catch(L){O={error:L}}finally{try{N&&!N.done&&(A=T.return)&&A.call(T)}finally{if(O)throw O.error}}}function c(S){var O,A,_=E.connect[S].children,T=[];try{for(var N=v(_),w=N.next();!w.done;w=N.next()){var L=w.value,I=this.styles[S+"-"+L];if(!I)return void delete this.styles[S];T.push(I)}}catch(P){O={error:P}}finally{try{w&&!w.done&&(A=N.return)&&A.call(N)}finally{if(O)throw O.error}}T[3]===T[1]&&(T.pop(),T[2]===T[0]&&(T.pop(),T[1]===T[0]&&T.pop())),this.styles[S]=T.join(" ")}function s(S){var O,A;try{for(var _=v(E.connect[S].children),T=_.next();!T.done;T=_.next()){var N=T.value;this.setStyle(this.childName(S,N),this.styles[S])}}catch(w){O={error:w}}finally{try{T&&!T.done&&(A=_.return)&&A.call(_)}finally{if(O)throw O.error}}}function a(S){var O,A,_=C([],M(E.connect[S].children),!1),T=this.styles[this.childName(S,_.shift())];try{for(var N=v(_),w=N.next();!w.done;w=N.next()){var L=w.value;if(this.styles[this.childName(S,L)]!==T)return void delete this.styles[S]}}catch(I){O={error:I}}finally{try{w&&!w.done&&(A=N.return)&&A.call(N)}finally{if(O)throw O.error}}this.styles[S]=T}var o=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,l=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function u(S){var O,A,_,T,N={width:"",style:"",color:""};try{for(var w=v(d(this.styles[S])),L=w.next();!L.done;L=w.next()){var I=L.value;I.match(o)&&N.width===""?N.width=I:I.match(l)&&N.style===""?N.style=I:N.color=I}}catch(F){O={error:F}}finally{try{L&&!L.done&&(A=w.return)&&A.call(w)}finally{if(O)throw O.error}}try{for(var P=v(E.connect[S].children),k=P.next();!k.done;k=P.next()){var B=k.value;this.setStyle(this.childName(S,B),N[B])}}catch(F){_={error:F}}finally{try{k&&!k.done&&(T=P.return)&&T.call(P)}finally{if(_)throw _.error}}}function p(S){var O,A,_=[];try{for(var T=v(E.connect[S].children),N=T.next();!N.done;N=T.next()){var w=N.value,L=this.styles[this.childName(S,w)];L&&_.push(L)}}catch(I){O={error:I}}finally{try{N&&!N.done&&(A=T.return)&&A.call(T)}finally{if(O)throw O.error}}_.length?this.styles[S]=_.join(" "):delete this.styles[S]}var h={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?condensed","(?:(?:semi|extra|ulta)-)?expanded","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[d.]+%|[d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[d.+](?:%|[a-z]+)?))?$")};function m(S){var O,A,_,T,N=d(this.styles[S]),w={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};try{for(var L=v(N),I=L.next();!I.done;I=L.next()){var P=I.value;w.family=P;try{for(var k=(_=void 0,v(Object.keys(h))),B=k.next();!B.done;B=k.next()){var F=B.value;if((Array.isArray(w[F])||w[F]==="")&&P.match(h[F]))if(F==="size"){var H=M(P.split(/\//),2),j=H[0],U=H[1];w[F]=j,U&&(w["line-height"]=U)}else w.size===""&&(Array.isArray(w[F])?w[F].push(P):w[F]=P)}}catch(z){_={error:z}}finally{try{B&&!B.done&&(T=k.return)&&T.call(k)}finally{if(_)throw _.error}}}}catch(z){O={error:z}}finally{try{I&&!I.done&&(A=L.return)&&A.call(L)}finally{if(O)throw O.error}}(function(z,K){var W,q;try{for(var X=v(E.connect[z].children),D=X.next();!D.done;D=X.next()){var V=D.value,G=this.childName(z,V);if(Array.isArray(K[V])){var J=K[V];J.length&&(this.styles[G]=J.join(" "))}else K[V]!==""&&(this.styles[G]=K[V])}}catch($){W={error:$}}finally{try{D&&!D.done&&(q=X.return)&&q.call(X)}finally{if(W)throw W.error}}})(S,w),delete this.styles[S]}function g(S){}var E=function(){function S(O){O===void 0&&(O=""),this.parse(O)}return Object.defineProperty(S.prototype,"cssText",{get:function(){var O,A,_=[];try{for(var T=v(Object.keys(this.styles)),N=T.next();!N.done;N=T.next()){var w=N.value,L=this.parentName(w);this.styles[L]||_.push(w+": "+this.styles[w]+";")}}catch(I){O={error:I}}finally{try{N&&!N.done&&(A=T.return)&&A.call(T)}finally{if(O)throw O.error}}return _.join(" ")},enumerable:!1,configurable:!0}),S.prototype.set=function(O,A){for(O=this.normalizeName(O),this.setStyle(O,A),S.connect[O]&&!S.connect[O].combine&&(this.combineChildren(O),delete this.styles[O]);O.match(/-/)&&(O=this.parentName(O),S.connect[O]);)S.connect[O].combine.call(this,O)},S.prototype.get=function(O){return O=this.normalizeName(O),this.styles.hasOwnProperty(O)?this.styles[O]:""},S.prototype.setStyle=function(O,A){this.styles[O]=A,S.connect[O]&&S.connect[O].children&&S.connect[O].split.call(this,O),A===""&&delete this.styles[O]},S.prototype.combineChildren=function(O){var A,_,T=this.parentName(O);try{for(var N=v(S.connect[O].children),w=N.next();!w.done;w=N.next()){var L=w.value,I=this.childName(T,L);S.connect[I].combine.call(this,I)}}catch(P){A={error:P}}finally{try{w&&!w.done&&(_=N.return)&&_.call(N)}finally{if(A)throw A.error}}},S.prototype.parentName=function(O){var A=O.replace(/-[^-]*$/,"");return O===A?"":A},S.prototype.childName=function(O,A){return A.match(/-/)?A:(S.connect[O]&&!S.connect[O].combine&&(A+=O.replace(/.*-/,"-"),O=this.parentName(O)),O+"-"+A)},S.prototype.normalizeName=function(O){return O.replace(/[A-Z]/g,function(A){return"-"+A.toLowerCase()})},S.prototype.parse=function(O){O===void 0&&(O="");var A=this.constructor.pattern;this.styles={};for(var _=O.replace(A.comment,"").split(A.style);_.length>1;){var T=M(_.splice(0,3),3),N=T[0],w=T[1],L=T[2];if(N.match(/[^\s\n]/))return;this.set(w,L)}},S.pattern={style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'[^']*'|"[^"]*"|\n|.)*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},S.connect={padding:{children:x,split:f,combine:c},border:{children:x,split:s,combine:a},"border-top":{children:y,split:u,combine:p},"border-right":{children:y,split:u,combine:p},"border-bottom":{children:y,split:u,combine:p},"border-left":{children:y,split:u,combine:p},"border-width":{children:x,split:f,combine:null},"border-style":{children:x,split:f,combine:null},"border-color":{children:x,split:f,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:m,combine:g}},S}();e.Styles=E},6010:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.px=e.emRounded=e.em=e.percent=e.length2em=e.MATHSPACE=e.RELUNITS=e.UNITS=e.BIGDIMEN=void 0,e.BIGDIMEN=1e6,e.UNITS={px:1,in:96,cm:37.79527559055118,mm:3.7795275590551185},e.RELUNITS={em:1,ex:.431,pt:.1,pc:1.2,mu:.05555555555555555},e.MATHSPACE={veryverythinmathspace:.05555555555555555,verythinmathspace:.1111111111111111,thinmathspace:.16666666666666666,mediummathspace:.2222222222222222,thickmathspace:.2777777777777778,verythickmathspace:.3333333333333333,veryverythickmathspace:.3888888888888889,negativeveryverythinmathspace:-.05555555555555555,negativeverythinmathspace:-.1111111111111111,negativethinmathspace:-.16666666666666666,negativemediummathspace:-.2222222222222222,negativethickmathspace:-.2777777777777778,negativeverythickmathspace:-.3333333333333333,negativeveryverythickmathspace:-.3888888888888889,thin:.04,medium:.06,thick:.1,normal:1,big:2,small:1/Math.sqrt(2),infinity:e.BIGDIMEN},e.length2em=function(v,M,C,x){if(M===void 0&&(M=0),C===void 0&&(C=1),x===void 0&&(x=16),typeof v!="string"&&(v=String(v)),v===""||v==null)return M;if(e.MATHSPACE[v])return e.MATHSPACE[v];var y=v.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);if(!y)return M;var d=parseFloat(y[1]||"1"),f=y[2];return e.UNITS.hasOwnProperty(f)?d*e.UNITS[f]/x/C:e.RELUNITS.hasOwnProperty(f)?d*e.RELUNITS[f]:f==="%"?d/100*M:d*M},e.percent=function(v){return(100*v).toFixed(1).replace(/\.?0+$/,"")+"%"},e.em=function(v){return Math.abs(v)<.001?"0":v.toFixed(3).replace(/\.?0+$/,"")+"em"},e.emRounded=function(v,M){return M===void 0&&(M=16),v=(Math.round(v*M)+.05)/M,Math.abs(v)<.001?"0em":v.toFixed(3).replace(/\.?0+$/,"")+"em"},e.px=function(v,M,C){return M===void 0&&(M=-e.BIGDIMEN),C===void 0&&(C=16),v*=C,M&&v<M&&(v=M),Math.abs(v)<.1?"0":v.toFixed(1).replace(/\.0$/,"")+"px"}},7875:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.max=e.sum=void 0,e.sum=function(v){return v.reduce(function(M,C){return M+C},0)},e.max=function(v){return v.reduce(function(M,C){return Math.max(M,C)},0)}},505:function(R,e){var v=this&&this.__read||function(C,x){var y=typeof Symbol=="function"&&C[Symbol.iterator];if(!y)return C;var d,f,c=y.call(C),s=[];try{for(;(x===void 0||x-- >0)&&!(d=c.next()).done;)s.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(y=c.return)&&y.call(c)}finally{if(f)throw f.error}}return s},M=this&&this.__spreadArray||function(C,x,y){if(y||arguments.length===2)for(var d,f=0,c=x.length;f<c;f++)!d&&f in x||(d||(d=Array.prototype.slice.call(x,0,f)),d[f]=x[f]);return C.concat(d||Array.prototype.slice.call(x))};Object.defineProperty(e,"__esModule",{value:!0}),e.split=e.isPercent=e.unicodeString=e.unicodeChars=e.quotePattern=e.sortLength=void 0,e.sortLength=function(C,x){return C.length!==x.length?x.length-C.length:C===x?0:C<x?-1:1},e.quotePattern=function(C){return C.replace(/([\^$(){}+*?\-|\[\]\:\\])/g,"\\$1")},e.unicodeChars=function(C){return Array.from(C).map(function(x){return x.codePointAt(0)})},e.unicodeString=function(C){return String.fromCodePoint.apply(String,M([],v(C),!1))},e.isPercent=function(C){return!!C.match(/%\s*$/)},e.split=function(C){return C.trim().split(/\s+/)}},9329:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},M(f,c)},function(f,c){function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEntry=void 0;var x=v(9328),y=v(2165),d=function(f){function c(s,a){var o=f.call(this)||this;return o._menu=s,o._type=a,o.className=y.HtmlClasses.MENUITEM,o.role="menuitem",o.hidden=!1,o}return C(c,f),Object.defineProperty(c.prototype,"menu",{get:function(){return this._menu},set:function(s){this._menu=s},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),c.prototype.hide=function(){this.hidden=!0,this.menu.generateMenu()},c.prototype.show=function(){this.hidden=!1,this.menu.generateMenu()},c.prototype.isHidden=function(){return this.hidden},c}(x.MenuElement);e.AbstractEntry=d},1340:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o[u]=l[u])},M(s,a)},function(s,a){function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)}),x=this&&this.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,o=a&&s[a],l=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractItem=void 0;var y=v(9329),d=v(2556),f=v(2165),c=function(s){function a(o,l,u,p){var h=s.call(this,o,l)||this;return h._content=u,h.disabled=!1,h.callbacks=[],h._id=p||u,h}return C(a,s),Object.defineProperty(a.prototype,"content",{get:function(){return this._content},set:function(o){this._content=o,this.generateHtml(),this.menu&&this.menu.generateHtml()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),a.prototype.press=function(){this.disabled||(this.executeAction(),this.executeCallbacks_())},a.prototype.executeAction=function(){},a.prototype.registerCallback=function(o){this.callbacks.indexOf(o)===-1&&this.callbacks.push(o)},a.prototype.unregisterCallback=function(o){var l=this.callbacks.indexOf(o);l!==-1&&this.callbacks.splice(l,1)},a.prototype.mousedown=function(o){this.press(),this.stop(o)},a.prototype.mouseover=function(o){this.focus(),this.stop(o)},a.prototype.mouseout=function(o){this.deactivate(),this.stop(o)},a.prototype.generateHtml=function(){s.prototype.generateHtml.call(this);var o=this.html;o.setAttribute("aria-disabled","false"),o.textContent=this.content},a.prototype.activate=function(){this.disabled||this.html.classList.add(f.HtmlClasses.MENUACTIVE)},a.prototype.deactivate=function(){this.html.classList.remove(f.HtmlClasses.MENUACTIVE)},a.prototype.focus=function(){this.menu.focused=this,s.prototype.focus.call(this),this.activate()},a.prototype.unfocus=function(){this.deactivate(),s.prototype.unfocus.call(this)},a.prototype.escape=function(o){d.MenuUtil.close(this)},a.prototype.up=function(o){this.menu.up(o)},a.prototype.down=function(o){this.menu.down(o)},a.prototype.left=function(o){this.menu.left(o)},a.prototype.right=function(o){this.menu.right(o)},a.prototype.space=function(o){this.press()},a.prototype.disable=function(){this.disabled=!0;var o=this.html;o.classList.add(f.HtmlClasses.MENUDISABLED),o.setAttribute("aria-disabled","true")},a.prototype.enable=function(){this.disabled=!1;var o=this.html;o.classList.remove(f.HtmlClasses.MENUDISABLED),o.removeAttribute("aria-disabled")},a.prototype.executeCallbacks_=function(){var o,l;try{for(var u=x(this.callbacks),p=u.next();!p.done;p=u.next()){var h=p.value;try{h(this)}catch(m){d.MenuUtil.error(m,"Callback for menu entry "+this.id+" failed.")}}}catch(m){o={error:m}}finally{try{p&&!p.done&&(l=u.return)&&l.call(u)}finally{if(o)throw o.error}}},a}(y.AbstractEntry);e.AbstractItem=c},1484:function(R,e,v){var M,C=this&&this.__extends||(M=function(a,o){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var p in u)u.hasOwnProperty(p)&&(l[p]=u[p])},M(a,o)},function(a,o){function l(){this.constructor=a}M(a,o),a.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),x=this&&this.__values||function(a){var o=typeof Symbol=="function"&&Symbol.iterator,l=o&&a[o],u=0;if(l)return l.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMenu=void 0;var y=v(8372),d=v(1340),f=v(2165),c=v(6186),s=function(a){function o(){var l=a!==null&&a.apply(this,arguments)||this;return l.className=f.HtmlClasses.CONTEXTMENU,l.role="menu",l._items=[],l._baseMenu=null,l}return C(o,a),Object.defineProperty(o.prototype,"baseMenu",{get:function(){return this._baseMenu},set:function(l){this._baseMenu=l},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"items",{get:function(){return this._items},set:function(l){this._items=l},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pool",{get:function(){return this.variablePool},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"focused",{get:function(){return this._focused},set:function(l){if(this._focused!==l){this._focused||this.unfocus();var u=this._focused;this._focused=l,u&&u.unfocus()}},enumerable:!1,configurable:!0}),o.prototype.up=function(l){var u=this.items.filter(function(h){return h instanceof d.AbstractItem&&!h.isHidden()});if(u.length!==0)if(this.focused){var p=u.indexOf(this.focused);p!==-1&&u[p=p?--p:u.length-1].focus()}else u[u.length-1].focus()},o.prototype.down=function(l){var u=this.items.filter(function(h){return h instanceof d.AbstractItem&&!h.isHidden()});if(u.length!==0)if(this.focused){var p=u.indexOf(this.focused);p!==-1&&u[p=++p===u.length?0:p].focus()}else u[0].focus()},o.prototype.generateHtml=function(){a.prototype.generateHtml.call(this),this.generateMenu()},o.prototype.generateMenu=function(){var l,u,p=this.html;p.classList.add(f.HtmlClasses.MENU);try{for(var h=x(this.items),m=h.next();!m.done;m=h.next()){var g=m.value;if(g.isHidden()){var E=g.html;E.parentNode&&E.parentNode.removeChild(E)}else p.appendChild(g.html)}}catch(S){l={error:S}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}},o.prototype.post=function(l,u){this.variablePool.update(),a.prototype.post.call(this,l,u)},o.prototype.unpostSubmenus=function(){var l,u,p=this.items.filter(function(E){return E instanceof c.Submenu});try{for(var h=x(p),m=h.next();!m.done;m=h.next()){var g=m.value;g.submenu.unpost(),g!==this.focused&&g.unfocus()}}catch(E){l={error:E}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}},o.prototype.unpost=function(){a.prototype.unpost.call(this),this.unpostSubmenus(),this.focused=null},o.prototype.find=function(l){var u,p;try{for(var h=x(this.items),m=h.next();!m.done;m=h.next()){var g=m.value;if(g.type!=="rule"){if(g.id===l)return g;if(g.type==="submenu"){var E=g.submenu.find(l);if(E)return E}}}}catch(S){u={error:S}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(u)throw u.error}}return null},o}(y.AbstractPostable);e.AbstractMenu=s},2868:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractNavigatable=void 0;var M=v(3205),C=v(8853),x=function(){function y(){this.bubble=!1}return y.prototype.bubbleKey=function(){this.bubble=!0},y.prototype.keydown=function(d){switch(d.keyCode){case M.KEY.ESCAPE:this.escape(d);break;case M.KEY.RIGHT:this.right(d);break;case M.KEY.LEFT:this.left(d);break;case M.KEY.UP:this.up(d);break;case M.KEY.DOWN:this.down(d);break;case M.KEY.RETURN:case M.KEY.SPACE:this.space(d);break;default:return}this.bubble?this.bubble=!1:this.stop(d)},y.prototype.escape=function(d){},y.prototype.space=function(d){},y.prototype.left=function(d){},y.prototype.right=function(d){},y.prototype.up=function(d){},y.prototype.down=function(d){},y.prototype.stop=function(d){d&&(d.stopPropagation(),d.preventDefault(),d.cancelBubble=!0)},y.prototype.mousedown=function(d){return this.stop(d)},y.prototype.mouseup=function(d){return this.stop(d)},y.prototype.mouseover=function(d){return this.stop(d)},y.prototype.mouseout=function(d){return this.stop(d)},y.prototype.click=function(d){return this.stop(d)},y.prototype.addEvents=function(d){d.addEventListener(C.MOUSE.DOWN,this.mousedown.bind(this)),d.addEventListener(C.MOUSE.UP,this.mouseup.bind(this)),d.addEventListener(C.MOUSE.OVER,this.mouseover.bind(this)),d.addEventListener(C.MOUSE.OUT,this.mouseout.bind(this)),d.addEventListener(C.MOUSE.CLICK,this.click.bind(this)),d.addEventListener("keydown",this.keydown.bind(this)),d.addEventListener("dragstart",this.stop.bind(this)),d.addEventListener(C.MOUSE.SELECTSTART,this.stop.bind(this)),d.addEventListener("contextmenu",this.stop.bind(this)),d.addEventListener(C.MOUSE.DBLCLICK,this.stop.bind(this))},y}();e.AbstractNavigatable=x},8372:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)c.hasOwnProperty(s)&&(f[s]=c[s])},M(y,d)},function(y,d){function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPostable=void 0;var x=function(y){function d(){var f=y!==null&&y.apply(this,arguments)||this;return f.posted=!1,f}return C(d,y),d.prototype.isPosted=function(){return this.posted},d.prototype.post=function(f,c){this.posted||(f!==void 0&&c!==void 0&&this.html.setAttribute("style","left: "+f+"px; top: "+c+"px;"),this.display(),this.posted=!0)},d.prototype.unpost=function(){if(this.posted){var f=this.html;f.parentNode&&f.parentNode.removeChild(f),this.posted=!1}},d}(v(9328).MenuElement);e.AbstractPostable=x},6765:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)c.hasOwnProperty(s)&&(f[s]=c[s])},M(y,d)},function(y,d){function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractVariableItem=void 0;var x=function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return C(d,y),d.prototype.generateHtml=function(){y.prototype.generateHtml.call(this);var f=this.html;this.span||this.generateSpan(),f.appendChild(this.span),this.update()},d.prototype.register=function(){this.variable.register(this)},d.prototype.unregister=function(){this.variable.unregister(this)},d.prototype.update=function(){this.updateAria(),this.span&&this.updateSpan()},d}(v(1340).AbstractItem);e.AbstractVariableItem=x},5179:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},M(f,c)},function(f,c){function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.CloseButton=void 0;var x=v(8372),y=v(2165),d=function(f){function c(s){var a=f.call(this)||this;return a.element=s,a.className=y.HtmlClasses.MENUCLOSE,a.role="button",a}return C(c,f),c.prototype.generateHtml=function(){var s=document.createElement("span");s.classList.add(this.className),s.setAttribute("role",this.role),s.setAttribute("tabindex","0");var a=document.createElement("span");a.textContent="",s.appendChild(a),this.html=s},c.prototype.display=function(){},c.prototype.unpost=function(){f.prototype.unpost.call(this),this.element.unpost()},c.prototype.keydown=function(s){this.bubbleKey(),f.prototype.keydown.call(this,s)},c.prototype.space=function(s){this.unpost(),this.stop(s)},c.prototype.mousedown=function(s){this.unpost(),this.stop(s)},c}(x.AbstractPostable);e.CloseButton=d},5073:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o[u]=l[u])},M(s,a)},function(s,a){function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenu=void 0;var x=v(1484),y=v(2165),d=v(1932),f=v(2358),c=function(s){function a(o){var l=s.call(this)||this;return l.factory=o,l.id="",l.moving=!1,l._store=new d.MenuStore(l),l.widgets=[],l.variablePool=new f.VariablePool,l}return C(a,s),a.fromJson=function(o,l){var u=l.pool,p=l.items,h=l.id,m=h===void 0?"":h,g=new this(o);g.id=m;var E=o.get("variable");u.forEach(function(O){return E(o,O,g.pool)});var S=o.get("items")(o,p,g);return g.items=S,g},a.prototype.generateHtml=function(){this.isPosted()&&this.unpost(),s.prototype.generateHtml.call(this),this._frame=document.createElement("div"),this._frame.classList.add(y.HtmlClasses.MENUFRAME);var o="left: 0px; top: 0px; z-index: 200; width: 100%; height: 100%; border: 0px; padding: 0px; margin: 0px;";this._frame.setAttribute("style","position: absolute; "+o);var l=document.createElement("div");l.setAttribute("style","position: fixed; "+o),this._frame.appendChild(l),l.addEventListener("mousedown",(function(u){this.unpost(),this.unpostWidgets(),this.stop(u)}).bind(this))},a.prototype.display=function(){document.body.appendChild(this.frame),this.frame.appendChild(this.html),this.focus()},a.prototype.escape=function(o){this.unpost(),this.unpostWidgets()},a.prototype.unpost=function(){if(s.prototype.unpost.call(this),!(this.widgets.length>0)){this.frame.parentNode.removeChild(this.frame);var o=this.store;this.moving||o.insertTaborder(),o.active.focus()}},a.prototype.left=function(o){this.move_(this.store.previous())},a.prototype.right=function(o){this.move_(this.store.next())},Object.defineProperty(a.prototype,"frame",{get:function(){return this._frame},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"store",{get:function(){return this._store},enumerable:!1,configurable:!0}),a.prototype.post=function(o,l){if(l!==void 0)return this.moving||this.store.removeTaborder(),void s.prototype.post.call(this,o,l);var u,p,h,m=o;if(m instanceof Event?(u=m.target,this.stop(m)):u=m,m instanceof MouseEvent&&(p=m.pageX,h=m.pageY,p||h||!m.clientX||(p=m.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,h=m.clientY+document.body.scrollTop+document.documentElement.scrollTop)),!p&&!h&&u){var g=window.pageXOffset||document.documentElement.scrollLeft,E=window.pageYOffset||document.documentElement.scrollTop,S=u.getBoundingClientRect();p=(S.right+S.left)/2+g,h=(S.bottom+S.top)/2+E}this.store.active=u,this.anchor=this.store.active;var O=this.html;p+O.offsetWidth>document.body.offsetWidth-5&&(p=document.body.offsetWidth-O.offsetWidth-5),this.post(p,h)},a.prototype.registerWidget=function(o){this.widgets.push(o)},a.prototype.unregisterWidget=function(o){var l=this.widgets.indexOf(o);l>-1&&this.widgets.splice(l,1),this.widgets.length===0&&this.unpost()},a.prototype.unpostWidgets=function(){this.widgets.forEach(function(o){return o.unpost()})},a.prototype.toJson=function(){return{type:""}},a.prototype.move_=function(o){this.anchor&&o!==this.anchor&&(this.moving=!0,this.unpost(),this.post(o),this.moving=!1)},a}(x.AbstractMenu);e.ContextMenu=c},7309:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CssStyles=void 0;var M=v(2165);(function(C){function x(u){return"."+(M.HtmlClasses[u]||u)}var y={};y[x("INFOCLOSE")]="{  top:.2em; right:.2em;}",y[x("INFOCONTENT")]="{  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}",y[x("INFO")+x("MOUSEPOST")]="{outline:none;}",y[x("INFO")]='{  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}';var d={};d[x("MENU")]="{  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}",d[x("MENUITEM")]="{  padding: 1px 2em;  background:transparent;}",d[x("MENUARROW")]="{  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}",d[x("MENUACTIVE")+" "+x("MENUARROW")]="{color:white}",d[x("MENUARROW")+x("RTL")]="{left:.5em; right:auto}",d[x("MENUCHECK")]="{  position:absolute; left:.7em;  font-family: null}",d[x("MENUCHECK")+x("RTL")]="{ right:.7em; left:auto }",d[x("MENURADIOCHECK")]="{  position:absolute; left: .7em;}",d[x("MENURADIOCHECK")+x("RTL")]="{  right: .7em; left:auto}",d[x("MENUINPUTBOX")]="{  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}",d[x("MENUINPUTBOX")+x("RTL")]="{  left: .1em;}",d[x("MENUCOMBOBOX")]="{  left:.1em; padding-bottom:.5em;}",d[x("MENUSLIDER")]="{  left: .1em;}",d[x("SLIDERVALUE")]="{  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}",d[x("SLIDERBAR")]="{  outline: none; background: #d3d3d3}",d[x("MENULABEL")]="{  padding: 1px 2em 3px 1.33em;  font-style:italic}",d[x("MENURULE")]="{  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}",d[x("MENUDISABLED")]="{  color:GrayText}",d[x("MENUACTIVE")]="{  background-color: #606872;  color: white;}",d[x("MENUDISABLED")+":focus"]="{  background-color: #E8E8E8}",d[x("MENULABEL")+":focus"]="{  background-color: #E8E8E8}",d[x("CONTEXTMENU")+":focus"]="{  outline:none}",d[x("CONTEXTMENU")+" "+x("MENUITEM")+":focus"]="{  outline:none}",d[x("SELECTIONMENU")]="{  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }",d[x("SELECTIONITEM")]="{  padding-right: 1em;}",d[x("SELECTION")]="{  right: 40%; width:50%; }",d[x("SELECTIONBOX")]="{  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}",d[x("SELECTIONDIVIDER")]="{  clear: both; border-top: 2px solid #000000;}",d[x("MENU")+" "+x("MENUCLOSE")]="{  top:-10px; left:-10px}";var f={};f[x("MENUCLOSE")]='{  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}',f[x("MENUCLOSE")+" span"]="{  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}",f[x("MENUCLOSE")+":hover"]="{  color:white!important;  border:2px solid #CCC!important}",f[x("MENUCLOSE")+":hover span"]="{  background-color:#CCC!important}",f[x("MENUCLOSE")+":hover:focus"]="{  outline:none}";var c=!1,s=!1,a=!1;function o(u){a||(l(f,u),a=!0)}function l(u,p){var h=p||document,m=h.createElement("style");m.type="text/css";var g="";for(var E in u)g+=E,g+=" ",g+=u[E],g+=`
`;m.innerHTML=g,h.head.appendChild(m)}C.addMenuStyles=function(u){s||(l(d,u),s=!0,o(u))},C.addInfoStyles=function(u){c||(l(y,u),c=!0,o(u))}})(e.CssStyles||(e.CssStyles={}))},2165:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlAttrs=e.HtmlClasses=void 0;function v(x){return"CtxtMenu_"+x}function M(x){return v(x)}function C(x){return v(x)}e.HtmlClasses={ATTACHED:M("Attached"),CONTEXTMENU:M("ContextMenu"),MENU:M("Menu"),MENUARROW:M("MenuArrow"),MENUACTIVE:M("MenuActive"),MENUCHECK:M("MenuCheck"),MENUCLOSE:M("MenuClose"),MENUCOMBOBOX:M("MenuComboBox"),MENUDISABLED:M("MenuDisabled"),MENUFRAME:M("MenuFrame"),MENUITEM:M("MenuItem"),MENULABEL:M("MenuLabel"),MENURADIOCHECK:M("MenuRadioCheck"),MENUINPUTBOX:M("MenuInputBox"),MENURULE:M("MenuRule"),MENUSLIDER:M("MenuSlider"),MOUSEPOST:M("MousePost"),RTL:M("RTL"),INFO:M("Info"),INFOCLOSE:M("InfoClose"),INFOCONTENT:M("InfoContent"),INFOSIGNATURE:M("InfoSignature"),INFOTITLE:M("InfoTitle"),SLIDERVALUE:M("SliderValue"),SLIDERBAR:M("SliderBar"),SELECTION:M("Selection"),SELECTIONBOX:M("SelectionBox"),SELECTIONMENU:M("SelectionMenu"),SELECTIONDIVIDER:M("SelectionDivider"),SELECTIONITEM:M("SelectionItem")},e.HtmlAttrs={COUNTER:C("Counter"),KEYDOWNFUNC:C("keydownFunc"),CONTEXTMENUFUNC:C("contextmenuFunc"),OLDTAB:C("Oldtabindex"),TOUCHFUNC:C("TouchFunc")}},4922:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},M(f,c)},function(f,c){function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.Info=void 0;var x=v(5179),y=v(2165),d=function(f){function c(s,a,o){var l=f.call(this)||this;return l.title=s,l.signature=o,l.className=y.HtmlClasses.INFO,l.role="dialog",l.contentDiv=l.generateContent(),l.close=l.generateClose(),l.content=a||function(){return""},l}return C(c,f),c.prototype.attachMenu=function(s){this.menu=s},c.prototype.generateHtml=function(){f.prototype.generateHtml.call(this);var s=this.html;s.appendChild(this.generateTitle()),s.appendChild(this.contentDiv),s.appendChild(this.generateSignature()),s.appendChild(this.close.html),s.setAttribute("tabindex","0")},c.prototype.post=function(){f.prototype.post.call(this);var s=document.documentElement,a=this.html,o=window.innerHeight||s.clientHeight||s.scrollHeight||0,l=Math.floor(-a.offsetWidth/2),u=Math.floor((o-a.offsetHeight)/3);a.setAttribute("style","margin-left: "+l+"px; top: "+u+"px;"),window.event instanceof MouseEvent&&a.classList.add(y.HtmlClasses.MOUSEPOST),a.focus()},c.prototype.display=function(){this.menu.registerWidget(this),this.contentDiv.innerHTML=this.content();var s=this.menu.html;s.parentNode&&s.parentNode.removeChild(s),this.menu.frame.appendChild(this.html)},c.prototype.click=function(s){},c.prototype.keydown=function(s){this.bubbleKey(),f.prototype.keydown.call(this,s)},c.prototype.escape=function(s){this.unpost()},c.prototype.unpost=function(){f.prototype.unpost.call(this),this.html.classList.remove(y.HtmlClasses.MOUSEPOST),this.menu.unregisterWidget(this)},c.prototype.generateClose=function(){var s=new x.CloseButton(this),a=s.html;return a.classList.add(y.HtmlClasses.INFOCLOSE),a.setAttribute("aria-label","Close Dialog Box"),s},c.prototype.generateTitle=function(){var s=document.createElement("span");return s.innerHTML=this.title,s.classList.add(y.HtmlClasses.INFOTITLE),s},c.prototype.generateContent=function(){var s=document.createElement("div");return s.classList.add(y.HtmlClasses.INFOCONTENT),s.setAttribute("tabindex","0"),s},c.prototype.generateSignature=function(){var s=document.createElement("span");return s.innerHTML=this.signature,s.classList.add(y.HtmlClasses.INFOSIGNATURE),s},c.prototype.toJson=function(){return{type:""}},c}(v(8372).AbstractPostable);e.Info=d},1409:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)o.hasOwnProperty(l)&&(a[l]=o[l])},M(c,s)},function(c,s){function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;var x=v(6765),y=v(2556),d=v(2165),f=function(c){function s(a,o,l,u){var p=c.call(this,a,"checkbox",o,u)||this;return p.role="menuitemcheckbox",p.variable=a.pool.lookup(l),p.register(),p}return C(s,c),s.fromJson=function(a,o,l){return new this(l,o.content,o.variable,o.id)},s.prototype.executeAction=function(){this.variable.setValue(!this.variable.getValue()),y.MenuUtil.close(this)},s.prototype.generateSpan=function(){this.span=document.createElement("span"),this.span.textContent="",this.span.classList.add(d.HtmlClasses.MENUCHECK)},s.prototype.updateAria=function(){this.html.setAttribute("aria-checked",this.variable.getValue()?"true":"false")},s.prototype.updateSpan=function(){this.span.style.display=this.variable.getValue()?"":"none"},s.prototype.toJson=function(){return{type:""}},s}(x.AbstractVariableItem);e.Checkbox=f},9886:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o[u]=l[u])},M(s,a)},function(s,a){function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Combo=void 0;var x=v(6765),y=v(2556),d=v(2165),f=v(3205),c=function(s){function a(o,l,u,p){var h=s.call(this,o,"combobox",l,p)||this;return h.role="combobox",h.inputEvent=!1,h.variable=o.pool.lookup(u),h.register(),h}return C(a,s),a.fromJson=function(o,l,u){return new this(u,l.content,l.variable,l.id)},a.prototype.executeAction=function(){this.variable.setValue(this.input.value,y.MenuUtil.getActiveElement(this))},a.prototype.space=function(o){s.prototype.space.call(this,o),y.MenuUtil.close(this)},a.prototype.focus=function(){s.prototype.focus.call(this),this.input.focus()},a.prototype.unfocus=function(){s.prototype.unfocus.call(this),this.updateSpan()},a.prototype.generateHtml=function(){s.prototype.generateHtml.call(this),this.html.classList.add(d.HtmlClasses.MENUCOMBOBOX)},a.prototype.generateSpan=function(){this.span=document.createElement("span"),this.span.classList.add(d.HtmlClasses.MENUINPUTBOX),this.input=document.createElement("input"),this.input.addEventListener("keydown",this.inputKey.bind(this)),this.input.setAttribute("size","10em"),this.input.setAttribute("type","text"),this.input.setAttribute("tabindex","-1"),this.span.appendChild(this.input)},a.prototype.inputKey=function(o){this.bubbleKey(),this.inputEvent=!0},a.prototype.keydown=function(o){if(this.inputEvent&&o.keyCode!==f.KEY.ESCAPE&&o.keyCode!==f.KEY.RETURN)return this.inputEvent=!1,void o.stopPropagation();s.prototype.keydown.call(this,o),o.stopPropagation()},a.prototype.updateAria=function(){},a.prototype.updateSpan=function(){var o;try{o=this.variable.getValue(y.MenuUtil.getActiveElement(this))}catch{o=""}this.input.value=o},a.prototype.toJson=function(){return{type:""}},a}(x.AbstractVariableItem);e.Combo=c},3467:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},M(f,c)},function(f,c){function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.Command=void 0;var x=v(1340),y=v(2556),d=function(f){function c(s,a,o,l){var u=f.call(this,s,"command",a,l)||this;return u.command=o,u}return C(c,f),c.fromJson=function(s,a,o){return new this(o,a.content,a.action,a.id)},c.prototype.executeAction=function(){try{this.command(y.MenuUtil.getActiveElement(this))}catch(s){y.MenuUtil.error(s,"Illegal command callback.")}y.MenuUtil.close(this)},c.prototype.toJson=function(){return{type:""}},c}(x.AbstractItem);e.Command=d},2965:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},M(f,c)},function(f,c){function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.Label=void 0;var x=v(1340),y=v(2165),d=function(f){function c(s,a,o){return f.call(this,s,"label",a,o)||this}return C(c,f),c.fromJson=function(s,a,o){return new this(o,a.content,a.id)},c.prototype.generateHtml=function(){f.prototype.generateHtml.call(this),this.html.classList.add(y.HtmlClasses.MENULABEL)},c.prototype.toJson=function(){return{type:""}},c}(x.AbstractItem);e.Label=d},385:function(R,e,v){var M,C=this&&this.__extends||(M=function(c,s){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var l in o)o.hasOwnProperty(l)&&(a[l]=o[l])},M(c,s)},function(c,s){function a(){this.constructor=c}M(c,s),c.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(e,"__esModule",{value:!0}),e.Radio=void 0;var x=v(6765),y=v(2556),d=v(2165),f=function(c){function s(a,o,l,u){var p=c.call(this,a,"radio",o,u)||this;return p.role="menuitemradio",p.variable=a.pool.lookup(l),p.register(),p}return C(s,c),s.fromJson=function(a,o,l){return new this(l,o.content,o.variable,o.id)},s.prototype.executeAction=function(){this.variable.setValue(this.id),y.MenuUtil.close(this)},s.prototype.generateSpan=function(){this.span=document.createElement("span"),this.span.textContent="",this.span.classList.add(d.HtmlClasses.MENURADIOCHECK)},s.prototype.updateAria=function(){this.html.setAttribute("aria-checked",this.variable.getValue()===this.id?"true":"false")},s.prototype.updateSpan=function(){this.span.style.display=this.variable.getValue()===this.id?"":"none"},s.prototype.toJson=function(){return{type:""}},s}(x.AbstractVariableItem);e.Radio=f},3463:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},M(f,c)},function(f,c){function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.Rule=void 0;var x=v(9329),y=v(2165),d=function(f){function c(s){var a=f.call(this,s,"rule")||this;return a.className=y.HtmlClasses.MENUITEM,a.role="separator",a}return C(c,f),c.fromJson=function(s,a,o){return new this(o)},c.prototype.generateHtml=function(){f.prototype.generateHtml.call(this);var s=this.html;s.classList.add(y.HtmlClasses.MENURULE),s.setAttribute("aria-orientation","vertical")},c.prototype.addEvents=function(s){},c.prototype.toJson=function(){return{type:"rule"}},c}(x.AbstractEntry);e.Rule=d},7625:function(R,e,v){var M,C=this&&this.__extends||(M=function(s,a){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o[u]=l[u])},M(s,a)},function(s,a){function o(){this.constructor=s}M(s,a),s.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0;var x=v(6765),y=v(2556),d=v(2165),f=v(3205),c=function(s){function a(o,l,u,p){var h=s.call(this,o,"slider",l,p)||this;return h.role="slider",h.labelId="ctx_slideLabel"+y.MenuUtil.counter(),h.valueId="ctx_slideValue"+y.MenuUtil.counter(),h.inputEvent=!1,h.variable=o.pool.lookup(u),h.register(),h}return C(a,s),a.fromJson=function(o,l,u){return new this(u,l.content,l.variable,l.id)},a.prototype.executeAction=function(){this.variable.setValue(this.input.value,y.MenuUtil.getActiveElement(this)),this.update()},a.prototype.space=function(o){s.prototype.space.call(this,o),y.MenuUtil.close(this)},a.prototype.focus=function(){s.prototype.focus.call(this),this.input.focus()},a.prototype.unfocus=function(){s.prototype.unfocus.call(this),this.updateSpan()},a.prototype.generateHtml=function(){s.prototype.generateHtml.call(this),this.html.classList.add(d.HtmlClasses.MENUSLIDER),this.valueSpan=document.createElement("span"),this.valueSpan.setAttribute("id",this.valueId),this.valueSpan.classList.add(d.HtmlClasses.SLIDERVALUE),this.html.appendChild(this.valueSpan)},a.prototype.generateSpan=function(){this.span=document.createElement("span"),this.labelSpan=document.createElement("span"),this.labelSpan.setAttribute("id",this.labelId),this.labelSpan.appendChild(this.html.childNodes[0]),this.html.appendChild(this.labelSpan),this.input=document.createElement("input"),this.input.setAttribute("type","range"),this.input.setAttribute("min","0"),this.input.setAttribute("max","100"),this.input.setAttribute("aria-valuemin","0"),this.input.setAttribute("aria-valuemax","100"),this.input.setAttribute("aria-labelledby",this.labelId),this.input.addEventListener("keydown",this.inputKey.bind(this)),this.input.addEventListener("input",this.executeAction.bind(this)),this.input.classList.add(d.HtmlClasses.SLIDERBAR),this.span.appendChild(this.input)},a.prototype.inputKey=function(o){this.inputEvent=!0},a.prototype.mousedown=function(o){o.stopPropagation()},a.prototype.mouseup=function(o){event.stopPropagation()},a.prototype.keydown=function(o){var l=o.keyCode;return l===f.KEY.UP||l===f.KEY.DOWN?(o.preventDefault(),void s.prototype.keydown.call(this,o)):this.inputEvent&&l!==f.KEY.ESCAPE&&l!==f.KEY.RETURN?(this.inputEvent=!1,void o.stopPropagation()):(s.prototype.keydown.call(this,o),void o.stopPropagation())},a.prototype.updateAria=function(){var o=this.variable.getValue();o&&this.input&&(this.input.setAttribute("aria-valuenow",o),this.input.setAttribute("aria-valuetext",o+"%"))},a.prototype.updateSpan=function(){var o;try{o=this.variable.getValue(y.MenuUtil.getActiveElement(this)),this.valueSpan.innerHTML=o+"%"}catch{o=""}this.input.value=o},a.prototype.toJson=function(){return{type:""}},a}(x.AbstractVariableItem);e.Slider=c},6186:function(R,e,v){var M,C=this&&this.__extends||(M=function(f,c){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o])},M(f,c)},function(f,c){function s(){this.constructor=f}M(f,c),f.prototype=c===null?Object.create(c):(s.prototype=c.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.Submenu=void 0;var x=v(1340),y=v(2165),d=function(f){function c(s,a,o){var l=f.call(this,s,"submenu",a,o)||this;return l._submenu=null,l}return C(c,f),c.fromJson=function(s,a,o){var l=a.content,u=a.menu,p=new this(o,l,a.id),h=s.get("subMenu")(s,u,p);return p.submenu=h,p},Object.defineProperty(c.prototype,"submenu",{get:function(){return this._submenu},set:function(s){this._submenu=s},enumerable:!1,configurable:!0}),c.prototype.mouseover=function(s){this.focus(),this.stop(s)},c.prototype.mouseout=function(s){this.stop(s)},c.prototype.unfocus=function(){if(this.submenu.isPosted()){if(this.menu.focused!==this)return f.prototype.unfocus.call(this),void this.menu.unpostSubmenus();this.html.setAttribute("tabindex","-1"),this.html.blur()}else f.prototype.unfocus.call(this)},c.prototype.focus=function(){f.prototype.focus.call(this),this.submenu.isPosted()||this.disabled||this.submenu.post()},c.prototype.executeAction=function(){this.submenu.isPosted()?this.submenu.unpost():this.submenu.post()},c.prototype.generateHtml=function(){f.prototype.generateHtml.call(this);var s=this.html;this.span=document.createElement("span"),this.span.textContent="",this.span.classList.add(y.HtmlClasses.MENUARROW),s.appendChild(this.span),s.setAttribute("aria-haspopup","true")},c.prototype.left=function(s){this.submenu.isPosted()?this.submenu.unpost():f.prototype.left.call(this,s)},c.prototype.right=function(s){this.submenu.isPosted()?this.submenu.down(s):this.submenu.post()},c.prototype.toJson=function(){return{type:""}},c}(x.AbstractItem);e.Submenu=d},3205:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.KEY=void 0,function(v){v[v.RETURN=13]="RETURN",v[v.ESCAPE=27]="ESCAPE",v[v.SPACE=32]="SPACE",v[v.LEFT=37]="LEFT",v[v.UP=38]="UP",v[v.RIGHT=39]="RIGHT",v[v.DOWN=40]="DOWN"}(e.KEY||(e.KEY={}))},9328:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)c.hasOwnProperty(s)&&(f[s]=c[s])},M(y,d)},function(y,d){function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.MenuElement=void 0;var x=function(y){function d(){return y!==null&&y.apply(this,arguments)||this}return C(d,y),d.prototype.addAttributes=function(f){for(var c in f)this.html.setAttribute(c,f[c])},Object.defineProperty(d.prototype,"html",{get:function(){return this._html||this.generateHtml(),this._html},set:function(f){this._html=f,this.addEvents(f)},enumerable:!1,configurable:!0}),d.prototype.generateHtml=function(){var f=document.createElement("div");f.classList.add(this.className),f.setAttribute("role",this.role),this.html=f},d.prototype.focus=function(){var f=this.html;f.setAttribute("tabindex","0"),f.focus()},d.prototype.unfocus=function(){var f=this.html;f.hasAttribute("tabindex")&&f.setAttribute("tabindex","-1");try{f.blur()}catch{}f.blur()},d}(v(2868).AbstractNavigatable);e.MenuElement=x},1932:function(R,e,v){var M=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,s=c&&f[c],a=0;if(s)return s.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&a>=f.length&&(f=void 0),{value:f&&f[a++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.MenuStore=void 0;var C=v(2556),x=v(2165),y=v(3205),d=function(){function f(c){this.menu=c,this.store=[],this._active=null,this.counter=0,this.attachedClass=x.HtmlClasses.ATTACHED+"_"+C.MenuUtil.counter(),this.taborder=!0,this.attrMap={}}return Object.defineProperty(f.prototype,"active",{get:function(){return this._active},set:function(c){do{if(this.store.indexOf(c)!==-1){this._active=c;break}c=c.parentNode}while(c)},enumerable:!1,configurable:!0}),f.prototype.next=function(){var c=this.store.length;if(c===0)return this.active=null,null;var s=this.store.indexOf(this.active);return s=s===-1?0:s<c-1?s+1:0,this.active=this.store[s],this.active},f.prototype.previous=function(){var c=this.store.length;if(c===0)return this.active=null,null;var s=c-1,a=this.store.indexOf(this.active);return a=a===-1||a===0?s:a-1,this.active=this.store[a],this.active},f.prototype.clear=function(){this.remove(this.store)},f.prototype.insert=function(c){var s,a,o=c instanceof HTMLElement?[c]:c;try{for(var l=M(o),u=l.next();!u.done;u=l.next()){var p=u.value;this.insertElement(p)}}catch(h){s={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}this.sort()},f.prototype.remove=function(c){var s,a,o=c instanceof HTMLElement?[c]:c;try{for(var l=M(o),u=l.next();!u.done;u=l.next()){var p=u.value;this.removeElement(p)}}catch(h){s={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}this.sort()},f.prototype.inTaborder=function(c){this.taborder&&!c&&this.removeTaborder(),!this.taborder&&c&&this.insertTaborder(),this.taborder=c},f.prototype.insertTaborder=function(){this.taborder&&this.insertTaborder_()},f.prototype.removeTaborder=function(){this.taborder&&this.removeTaborder_()},f.prototype.insertElement=function(c){c.classList.contains(this.attachedClass)||(c.classList.add(this.attachedClass),this.taborder&&this.addTabindex(c),this.addEvents(c))},f.prototype.removeElement=function(c){c.classList.contains(this.attachedClass)&&(c.classList.remove(this.attachedClass),this.taborder&&this.removeTabindex(c),this.removeEvents(c))},f.prototype.sort=function(){var c=document.getElementsByClassName(this.attachedClass);this.store=[].slice.call(c)},f.prototype.insertTaborder_=function(){this.store.forEach(function(c){return c.setAttribute("tabindex","0")})},f.prototype.removeTaborder_=function(){this.store.forEach(function(c){return c.setAttribute("tabindex","-1")})},f.prototype.addTabindex=function(c){c.hasAttribute("tabindex")&&c.setAttribute(x.HtmlAttrs.OLDTAB,c.getAttribute("tabindex")),c.setAttribute("tabindex","0")},f.prototype.removeTabindex=function(c){c.hasAttribute(x.HtmlAttrs.OLDTAB)?(c.setAttribute("tabindex",c.getAttribute(x.HtmlAttrs.OLDTAB)),c.removeAttribute(x.HtmlAttrs.OLDTAB)):c.removeAttribute("tabindex")},f.prototype.addEvents=function(c){c.hasAttribute(x.HtmlAttrs.COUNTER)||(this.addEvent(c,"contextmenu",this.menu.post.bind(this.menu)),this.addEvent(c,"keydown",this.keydown.bind(this)),c.setAttribute(x.HtmlAttrs.COUNTER,this.counter.toString()),this.counter++)},f.prototype.addEvent=function(c,s,a){var o=x.HtmlAttrs[s.toUpperCase()+"FUNC"];this.attrMap[o+this.counter]=a,c.addEventListener(s,a)},f.prototype.removeEvents=function(c){if(c.hasAttribute(x.HtmlAttrs.COUNTER)){var s=c.getAttribute(x.HtmlAttrs.COUNTER);this.removeEvent(c,"contextmenu",s),this.removeEvent(c,"keydown",s),c.removeAttribute(x.HtmlAttrs.COUNTER)}},f.prototype.removeEvent=function(c,s,a){var o=x.HtmlAttrs[s.toUpperCase()+"FUNC"],l=this.attrMap[o+a];c.removeEventListener(s,l)},f.prototype.keydown=function(c){c.keyCode===y.KEY.SPACE&&(this.menu.post(c),c.preventDefault(),c.stopImmediatePropagation())},f}();e.MenuStore=d},2556:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MenuUtil=void 0,function(v){v.close=function(C){var x=C.menu;x.baseMenu?x.baseMenu.unpost():x.unpost()},v.getActiveElement=function(C){var x=C.menu;return(x.baseMenu?x.baseMenu:x).store.active},v.error=function(C,x){console.error("ContextMenu Error: "+x)},v.counter=function(){return M++};var M=0}(e.MenuUtil||(e.MenuUtil={}))},8853:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE=void 0,e.MOUSE={CLICK:"click",DBLCLICK:"dblclick",DOWN:"mousedown",UP:"mouseup",OVER:"mouseover",OUT:"mouseout",MOVE:"mousemove",SELECTEND:"selectend",SELECTSTART:"selectstart"}},6914:function(R,e,v){var M=this&&this.__rest||function(O,A){var _={};for(var T in O)Object.prototype.hasOwnProperty.call(O,T)&&A.indexOf(T)<0&&(_[T]=O[T]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function"){var N=0;for(T=Object.getOwnPropertySymbols(O);N<T.length;N++)A.indexOf(T[N])<0&&Object.prototype.propertyIsEnumerable.call(O,T[N])&&(_[T[N]]=O[T[N]])}return _},C=this&&this.__read||function(O,A){var _=typeof Symbol=="function"&&O[Symbol.iterator];if(!_)return O;var T,N,w=_.call(O),L=[];try{for(;(A===void 0||A-- >0)&&!(T=w.next()).done;)L.push(T.value)}catch(I){N={error:I}}finally{try{T&&!T.done&&(_=w.return)&&_.call(w)}finally{if(N)throw N.error}}return L},x=this&&this.__values||function(O){var A=typeof Symbol=="function"&&Symbol.iterator,_=A&&O[A],T=0;if(_)return _.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&T>=O.length&&(O=void 0),{value:O&&O[T++],done:!O}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__spread||function(){for(var O=[],A=0;A<arguments.length;A++)O=O.concat(C(arguments[A]));return O};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var d=v(3467),f=v(5073),c=v(3737),s=v(1409),a=v(9886),o=v(2965),l=v(385),u=v(6186),p=v(3463),h=v(7625),m=v(4834),g=v(2100),E=v(2308),S=function(){function O(A){var _=this;A===void 0&&(A=[]),this._initList=[["command",d.Command.fromJson.bind(d.Command)],["checkbox",s.Checkbox.fromJson.bind(s.Checkbox)],["combo",a.Combo.fromJson.bind(a.Combo)],["slider",h.Slider.fromJson.bind(h.Slider)],["label",o.Label.fromJson.bind(o.Label)],["radio",l.Radio.fromJson.bind(l.Radio)],["rule",p.Rule.fromJson.bind(p.Rule)],["submenu",u.Submenu.fromJson.bind(u.Submenu)],["contextMenu",f.ContextMenu.fromJson.bind(f.ContextMenu)],["subMenu",m.SubMenu.fromJson.bind(m.SubMenu)],["variable",c.Variable.fromJson.bind(c.Variable)],["items",this.items.bind(this)],["selectionMenu",g.SelectionMenu.fromJson.bind(g.SelectionMenu)],["selectionBox",g.SelectionBox.fromJson.bind(g.SelectionBox)]],this._factory=new E.ParserFactory(this._initList),A.forEach(function(T){var N=C(T,2),w=N[0],L=N[1];return _.factory.add(w,L)})}return Object.defineProperty(O.prototype,"factory",{get:function(){return this._factory},enumerable:!1,configurable:!0}),O.prototype.items=function(A,_,T){var N,w,L=[];try{for(var I=x(_),P=I.next();!P.done;P=I.next()){var k=P.value,B=this.parse(k,T);B&&(T.items.push(B),k.disabled&&B.disable(),k.hidden&&L.push(B))}}catch(F){N={error:F}}finally{try{P&&!P.done&&(w=I.return)&&w.call(I)}finally{if(N)throw N.error}}return L.forEach(function(F){return F.hide()}),T.items},O.prototype.parse=function(A){for(var _=[],T=1;T<arguments.length;T++)_[T-1]=arguments[T];var N=A.type,w=M(A,["type"]),L=this.factory.get(N);return L?L.apply(void 0,y([this.factory,w],_)):null},O}();e.Parser=S},2308:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserFactory=void 0;var v=function(){function M(C){this._parser=new Map(C)}return M.prototype.get=function(C){return this._parser.get(C)},M.prototype.add=function(C,x){this._parser.set(C,x)},M}();e.ParserFactory=v},2100:function(R,e,v){var M,C=this&&this.__extends||(M=function(o,l){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var h in p)p.hasOwnProperty(h)&&(u[h]=p[h])},M(o,l)},function(o,l){function u(){this.constructor=o}M(o,l),o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),x=this&&this.__read||function(o,l){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var p,h,m=u.call(o),g=[];try{for(;(l===void 0||l-- >0)&&!(p=m.next()).done;)g.push(p.value)}catch(E){h={error:E}}finally{try{p&&!p.done&&(u=m.return)&&u.call(m)}finally{if(h)throw h.error}}return g};Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionBox=e.SelectionMenu=void 0;var y=v(2556),d=v(2165),f=v(1484),c=v(4922),s=function(o){function l(u){var p=o.call(this)||this;return p.anchor=u,p.className=d.HtmlClasses.SELECTIONMENU,p.variablePool=p.anchor.menu.pool,p.baseMenu=p.anchor.menu,p}return C(l,o),l.fromJson=function(u,p,h){var m=p.title,g=p.values,E=p.variable,S=new this(h),O=u.get("label")(u,{content:m||"",id:m||"id"},S),A=u.get("rule")(u,{},S),_=g.map(function(N){return u.get("radio")(u,{content:N,variable:E,id:N},S)}),T=[O,A].concat(_);return S.items=T,S},l.prototype.generateHtml=function(){o.prototype.generateHtml.call(this),this.items.forEach(function(u){return u.html.classList.add(d.HtmlClasses.SELECTIONITEM)})},l.prototype.display=function(){},l.prototype.right=function(u){this.anchor.right(u)},l.prototype.left=function(u){this.anchor.left(u)},l}(f.AbstractMenu);e.SelectionMenu=s;var a=function(o){function l(u,p,h,m){h===void 0&&(h="none"),m===void 0&&(m="vertical");var g=o.call(this,u,null,p)||this;return g.style=h,g.grid=m,g._selections=[],g.prefix="ctxt-selection",g._balanced=!0,g}return C(l,o),l.fromJson=function(u,p,h){var m=p.title,g=p.signature,E=p.selections,S=new this(m,g,p.order,p.grid);S.attachMenu(h);var O=E.map(function(A){return u.get("selectionMenu")(u,A,S)});return S.selections=O,S},l.prototype.attachMenu=function(u){this.menu=u},Object.defineProperty(l.prototype,"selections",{get:function(){return this._selections},set:function(u){var p=this;this._selections=[],u.forEach(function(h){return p.addSelection(h)})},enumerable:!1,configurable:!0}),l.prototype.addSelection=function(u){u.anchor=this,this._selections.push(u)},l.prototype.rowDiv=function(u){var p=this,h=document.createElement("div");this.contentDiv.appendChild(h);var m=u.map(function(O){return h.appendChild(O.html),O.html.id||(O.html.id=p.prefix+y.MenuUtil.counter()),O.html.getBoundingClientRect()}),g=m.map(function(O){return O.width}),E=g.reduce(function(O,A){return O+A},0),S=m.reduce(function(O,A){return Math.max(O,A.height)},0);return h.classList.add(d.HtmlClasses.SELECTIONDIVIDER),h.setAttribute("style","height: "+S+"px;"),[h,E,S,g]},l.prototype.display=function(){if(o.prototype.display.call(this),this.order(),this.selections.length){for(var u=[],p=0,h=[],m=this.getChunkSize(this.selections.length),g=function(O){var A=E.selections.slice(O,O+m),_=x(E.rowDiv(A),4),T=_[0],N=_[1],w=_[2],L=_[3];u.push(T),p=Math.max(p,N),A.forEach(function(I){return I.html.style.height=w+"px"}),h=E.combineColumn(h,L)},E=this,S=0;S<this.selections.length;S+=m)g(S);this._balanced&&(this.balanceColumn(u,h),p=h.reduce(function(O,A){return O+A},20)),u.forEach(function(O){return O.style.width=p+"px"})}},l.prototype.getChunkSize=function(u){switch(this.grid){case"square":return Math.floor(Math.sqrt(u));case"horizontal":return Math.floor(u/l.chunkSize);default:return l.chunkSize}},l.prototype.balanceColumn=function(u,p){u.forEach(function(h){for(var m=Array.from(h.children),g=0,E=void 0;E=m[g];g++)E.style.width=p[g]+"px"})},l.prototype.combineColumn=function(u,p){for(var h=[],m=0;u[m]||p[m];){if(!u[m]){h=h.concat(p.slice(m));break}if(!p[m]){h=h.concat(u.slice(m));break}h.push(Math.max(u[m],p[m])),m++}return h},l.prototype.left=function(u){var p=this;this.move(u,function(h){return(h===0?p.selections.length:h)-1})},l.prototype.right=function(u){var p=this;this.move(u,function(h){return h===p.selections.length-1?0:h+1})},l.prototype.generateHtml=function(){o.prototype.generateHtml.call(this),this.html.classList.add(d.HtmlClasses.SELECTION)},l.prototype.generateContent=function(){var u=o.prototype.generateContent.call(this);return u.classList.add(d.HtmlClasses.SELECTIONBOX),u.removeAttribute("tabindex"),u},l.prototype.findSelection=function(u){var p=u.target,h=null;if(p.id&&(h=this.selections.find(function(g){return g.html.id===p.id})),!h){var m=p.parentElement.id;h=this.selections.find(function(g){return g.html.id===m})}return h},l.prototype.move=function(u,p){var h=this.findSelection(u);h.focused&&h.focused.unfocus();var m=p(this.selections.indexOf(h));this.selections[m].focus()},l.prototype.order=function(){this.selections.sort(l.orderMethod.get(this.style))},l.prototype.toJson=function(){return{type:""}},l.chunkSize=4,l.orderMethod=new Map([["alphabetical",function(u,p){return u.items[0].content.localeCompare(p.items[0].content)}],["none",function(u,p){return 1}],["decreasing",function(u,p){var h=u.items.length,m=p.items.length;return h<m?1:m<h?-1:0}],["increasing",function(u,p){var h=u.items.length,m=p.items.length;return h<m?-1:m<h?1:0}]]),l}(c.Info);e.SelectionBox=a},4834:function(R,e,v){var M,C=this&&this.__extends||(M=function(y,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var s in c)c.hasOwnProperty(s)&&(f[s]=c[s])},M(y,d)},function(y,d){function f(){this.constructor=y}M(y,d),y.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)});Object.defineProperty(e,"__esModule",{value:!0}),e.SubMenu=void 0;var x=function(y){function d(f){var c=y.call(this)||this;return c._anchor=f,c.variablePool=c.anchor.menu.pool,c.setBaseMenu(),c}return C(d,y),d.fromJson=function(f,c,s){var a=c.items,o=new this(s),l=f.get("items")(f,a,o);return o.items=l,o},Object.defineProperty(d.prototype,"anchor",{get:function(){return this._anchor},enumerable:!1,configurable:!0}),d.prototype.post=function(){if(this.anchor.menu.isPosted()){for(var f=this.anchor.html,c=this.html,s=this.baseMenu.frame,a=f.offsetWidth,o=a-2,l=0;f&&f!==s;)o+=f.offsetLeft,l+=f.offsetTop,f=f.parentNode;o+c.offsetWidth>document.body.offsetWidth-5&&(o=Math.max(5,o-a-c.offsetWidth+6)),y.prototype.post.call(this,o,l)}},d.prototype.display=function(){this.baseMenu.frame.appendChild(this.html)},d.prototype.setBaseMenu=function(){var f=this;do f=f.anchor.menu;while(f instanceof d);this.baseMenu=f},d.prototype.left=function(f){this.focused=null,this.anchor.focus()},d.prototype.toJson=function(){return{type:""}},d}(v(1484).AbstractMenu);e.SubMenu=x},3737:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;var M=v(2556),C=function(){function x(y,d,f){this._name=y,this.getter=d,this.setter=f,this.items=[]}return x.fromJson=function(y,d,f){var c=new this(d.name,d.getter,d.setter);f.insert(c)},Object.defineProperty(x.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),x.prototype.getValue=function(y){try{return this.getter(y)}catch(d){return M.MenuUtil.error(d,"Command of variable "+this.name+" failed."),null}},x.prototype.setValue=function(y,d){try{this.setter(y,d)}catch(f){M.MenuUtil.error(f,"Command of variable "+this.name+" failed.")}this.update()},x.prototype.register=function(y){this.items.indexOf(y)===-1&&this.items.push(y)},x.prototype.unregister=function(y){var d=this.items.indexOf(y);d!==-1&&this.items.splice(d,1)},x.prototype.update=function(){this.items.forEach(function(y){return y.update()})},x.prototype.registerCallback=function(y){this.items.forEach(function(d){return d.registerCallback(y)})},x.prototype.unregisterCallback=function(y){this.items.forEach(function(d){return d.unregisterCallback(y)})},x.prototype.toJson=function(){return{type:"variable",name:this.name,getter:this.getter.toString(),setter:this.setter.toString()}},x}();e.Variable=C},2358:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.VariablePool=void 0;var v=function(){function M(){this.pool={}}return M.prototype.insert=function(C){this.pool[C.name]=C},M.prototype.lookup=function(C){return this.pool[C]},M.prototype.remove=function(C){delete this.pool[C]},M.prototype.update=function(){for(var C in this.pool)this.pool[C].update()},M}();e.VariablePool=v},3921:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractAudioRenderer=void 0;const M=v(5897);e.AbstractAudioRenderer=class{constructor(){this.separator_=" "}setSeparator(C){this.separator_=C}getSeparator(){return M.default.getInstance().modality==="braille"?"":this.separator_}error(C){return null}merge(C){let x="";const y=C.length-1;for(let d,f=0;d=C[f];f++)if(x+=d.speech,f<y){const c=d.attributes.separator;x+=c!==void 0?c:this.getSeparator()}return x}finalize(C){return C}pauseValue(C){let x;switch(C){case"long":x=750;break;case"medium":x=500;break;case"short":x=250;break;default:x=parseInt(C,10)}return Math.floor(x*M.default.getInstance().getRate()/100)}}},4196:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AcssRenderer=void 0;const M=v(4440),C=v(8496),x=v(3706),y=v(182);class d extends y.MarkupRenderer{markup(c){this.setScaleFunction(-2,2,0,10,0);const s=x.personalityMarkup(c),a=[],o={open:[]};let l=null,u=!1;for(let p,h=0;p=s[h];h++){if(x.isMarkupElement(p)){x.mergeMarkup(o,p);continue}if(x.isPauseElement(p)){u&&(l=x.mergePause(l,p,Math.max));continue}const m='"'+this.merge(p.span)+'"';u=!0,l&&(a.push(this.pause(l)),l=null);const g=this.prosody_(o);a.push(g?"(text ("+g+") "+m+")":m)}return"(exp "+a.join(" ")+")"}error(c){return'(error "'+C.Move.get(c)+'")'}prosodyElement(c,s){switch(s=this.applyScaleFunction(s),c){case M.personalityProps.RATE:return"(richness . "+s+")";case M.personalityProps.PITCH:return"(average-pitch . "+s+")";case M.personalityProps.VOLUME:return"(stress . "+s+")"}return"(value . "+s+")"}pause(c){return"(pause . "+this.pauseValue(c[M.personalityProps.PAUSE])+")"}prosody_(c){const s=c.open,a=[];for(let o,l=0;o=s[l];l++)a.push(this.prosodyElement(o,c[o]));return a.join(" ")}}e.AcssRenderer=d},3706:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.isSpanElement=e.isPauseElement=e.isMarkupElement=e.personalityMarkup=e.sortClose=e.mergeMarkup=e.mergePause=void 0;const M=v(707),C=v(4440),x=v(9536);function y(h,m,g){return(g||function(E,S){return typeof E=="number"&&typeof S=="number"?E+S:typeof E=="number"?S:typeof S=="number"?E:[h,m].sort()[0]}).call(null,h,m)}e.mergePause=function(h,m,g){return h?{pause:y(h.pause,m.pause,g)}:m},e.mergeMarkup=function(h,m){delete h.open,m.close.forEach(E=>delete h[E]),m.open.forEach(E=>h[E]=m[E]);const g=Object.keys(h);h.open=g},e.sortClose=function(h,m){if(h.length<=1)return h;const g=[];for(let E,S=0;E=m[S],h.length;S++)E.close&&E.close.length&&E.close.forEach(function(O){const A=h.indexOf(O);A!==-1&&(g.unshift(O),h.splice(A,1))});return g};let d={},f=[];function c(h,m){const g=h[h.length-1];if(g){if(l(m)&&l(g)){if(g.join===void 0)return void(g.span=g.span.concat(m.span));const E=g.span.pop(),S=m.span.shift();return g.span.push(E+g.join+S),g.span=g.span.concat(m.span),void(g.join=m.join)}o(m)&&o(g)?g.pause=y(g.pause,m.pause):h.push(m)}else h.push(m)}function s(h,m){h.rate&&(m.rate=h.rate),h.pitch&&(m.pitch=h.pitch),h.volume&&(m.volume=h.volume)}function a(h){return typeof h=="object"&&h.open}function o(h){return typeof h=="object"&&Object.keys(h).length===1&&Object.keys(h)[0]===C.personalityProps.PAUSE}function l(h){const m=Object.keys(h);return typeof h=="object"&&(m.length===1&&m[0]==="span"||m.length===2&&(m[0]==="span"&&m[1]==="join"||m[1]==="span"&&m[0]==="join"))}function u(h,m,g,E,S,O=!1){if(O){const A=h[h.length-1];let _;if(A&&(_=A[C.personalityProps.JOIN]),A&&!m.speech&&S&&o(A)){const T=C.personalityProps.PAUSE;A[T]=y(A[T],S[T]),S=null}if(A&&m.speech&&Object.keys(g).length===0&&l(A)){if(_!==void 0){const T=A.span.pop();m=new x.Span(T.speech+_+m.speech,T.attributes)}A.span.push(m),m=new x.Span("",{}),A[C.personalityProps.JOIN]=E}}Object.keys(g).length!==0&&h.push(g),m.speech&&h.push({span:[m],join:E}),S&&h.push(S)}function p(h,m){if(!m)return h;const g={};for(const E of C.personalityPropList){const S=h[E],O=m[E];if(!S&&!O||S&&O&&S===O)continue;const A=S||0;a(g)||(g.open=[],g.close=[]),S||g.close.push(E),O||g.open.push(E),O&&S&&(g.close.push(E),g.open.push(E)),m[E]=A,g[E]=A,d[E]?d[E].push(A):d[E]=[A]}if(a(g)){let E=g.close.slice();for(;E.length>0;){let S=f.pop();const O=(0,M.setdifference)(S,E);if(E=(0,M.setdifference)(E,S),S=O,E.length!==0){if(S.length!==0){g.close=g.close.concat(S),g.open=g.open.concat(S);for(let A,_=0;A=S[_];_++)g[A]=m[A]}}else S.length!==0&&f.push(S)}f.push(g.open)}return g}e.personalityMarkup=function(h){d={},f=[];let m=[];const g={};for(let E,S=0;E=h[S];S++){let O=null;const A=E.descriptionSpan(),_=E.personality,T=_[C.personalityProps.JOIN];delete _[C.personalityProps.JOIN],_[C.personalityProps.PAUSE]!==void 0&&(O={[C.personalityProps.PAUSE]:_[C.personalityProps.PAUSE]},delete _[C.personalityProps.PAUSE]),u(m,A,p(_,g),T,O,!0)}return m=m.concat(function(){const E=[];for(let S=f.length-1;S>=0;S--){const O=f[S];if(O.length){const A={open:[],close:[]};for(let _=0;_<O.length;_++){const T=O[_];A.close.push(T),A[T]=0}E.push(A)}}return E}()),m=function(E){const S={},O=[];for(let A,_=0;A=E[_];_++){if(!a(A)){c(O,A);continue}if(!A.close||A.close.length!==1||A.open.length){s(A,S),O.push(A);continue}let T=E[_+1];if(!T||l(T)){s(A,S),O.push(A);continue}const N=o(T)?T:null;N&&(T=E[_+2]),T&&a(T)&&T.open[0]===A.close[0]&&!T.close.length&&T[T.open[0]]===S[T.open[0]]?N?(c(O,N),_+=2):_+=1:(s(A,S),O.push(A))}return O}(m),m},e.isMarkupElement=a,e.isPauseElement=o,e.isSpanElement=l},7052:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AuditoryDescription=void 0;const M=v(2105),C=v(9536);class x{constructor({context:d,text:f,userValue:c,annotation:s,attributes:a,personality:o,layout:l}){this.context=d||"",this.text=f||"",this.userValue=c||"",this.annotation=s||"",this.attributes=a||{},this.personality=o||{},this.layout=l||""}static create(d,f={}){return d.text=M.Grammar.getInstance().apply(d.text,f),new x(d)}isEmpty(){return this.context.length===0&&this.text.length===0&&this.userValue.length===0&&this.annotation.length===0}clone(){let d,f;if(this.personality){d={};for(const c in this.personality)d[c]=this.personality[c]}if(this.attributes){f={};for(const c in this.attributes)f[c]=this.attributes[c]}return new x({context:this.context,text:this.text,userValue:this.userValue,annotation:this.annotation,personality:d,attributes:f,layout:this.layout})}toString(){return'AuditoryDescription(context="'+this.context+'"  text="'+this.text+'"  userValue="'+this.userValue+'"  annotation="'+this.annotation+'")'}descriptionString(){return this.context&&this.text?this.context+" "+this.text:this.context||this.text}descriptionSpan(){return new C.Span(this.descriptionString(),this.attributes)}equals(d){return this.context===d.context&&this.text===d.text&&this.userValue===d.userValue&&this.annotation===d.annotation}}e.AuditoryDescription=x},8290:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.isXml=e.registerRenderer=e.error=e.finalize=e.merge=e.markup=e.getSeparator=e.setSeparator=void 0;const M=v(5897),C=v(4440),x=v(4196),y=v(8639),d=v(8990),f=v(6660),c=v(9536),s=v(7504),a=v(3757),o=v(4032),l=v(2456),u=new s.SsmlRenderer,p=new Map([[C.Markup.NONE,new o.StringRenderer],[C.Markup.PUNCTUATION,new d.PunctuationRenderer],[C.Markup.LAYOUT,new y.LayoutRenderer],[C.Markup.ACSS,new x.AcssRenderer],[C.Markup.SABLE,new f.SableRenderer],[C.Markup.VOICEXML,u],[C.Markup.SSML,u],[C.Markup.SSML_STEP,new a.SsmlStepRenderer]]);e.setSeparator=function(h){const m=p.get(M.default.getInstance().markup);m&&m.setSeparator(h)},e.getSeparator=function(){const h=p.get(M.default.getInstance().markup);return h?h.getSeparator():""},e.markup=function(h){const m=p.get(M.default.getInstance().markup);return m?m.markup(h):""},e.merge=function(h){const m=h.map(E=>typeof E=="string"?new c.Span(E,{}):E),g=p.get(M.default.getInstance().markup);return g?g.merge(m):h.join()},e.finalize=function(h){const m=p.get(M.default.getInstance().markup);return m?m.finalize(h):h},e.error=function(h){const m=p.get(M.default.getInstance().markup);return m?m.error(h):""},e.registerRenderer=function(h,m){p.set(h,m)},e.isXml=function(){return p.get(M.default.getInstance().markup)instanceof l.XmlRenderer}},8639:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutRenderer=void 0;const M=v(2057),C=v(5740),x=v(4440),y=v(3706),d=v(2456);class f extends d.XmlRenderer{finalize(L){return function(I){c="";const P=C.parseInput(`<all>${I}</all>`);return M.Debugger.getInstance().output(C.formatXml(P.toString())),c=l(P),c}(L)}pause(L){return""}prosodyElement(L,I){return L===x.personalityProps.LAYOUT?`<${I}>`:""}closeTag(L){return`</${L}>`}markup(L){const I=[];let P=[];for(const k of L){if(!k.layout){P.push(k);continue}I.push(this.processContent(P)),P=[];const B=k.layout;B.match(/^begin/)?I.push("<"+B.replace(/^begin/,"")+">"):B.match(/^end/)?I.push("</"+B.replace(/^end/,"")+">"):console.warn("Something went wrong with layout markup: "+B)}return I.push(this.processContent(P)),I.join("")}processContent(L){const I=[],P=y.personalityMarkup(L);for(let k,B=0;k=P[B];B++)k.span?I.push(this.merge(k.span)):y.isPauseElement(k);return I.join("")}}e.LayoutRenderer=f;let c="";const s={TABLE:function(w){let L=m(w);L.forEach(k=>{k.cells=k.cells.slice(1).slice(0,-1),k.width=k.width.slice(1).slice(0,-1)});const[I,P]=g(L);return L=E(L,P),S(L,I)},CASES:function(w){let L=m(w);L.forEach(k=>{k.cells=k.cells.slice(0,-1),k.width=k.width.slice(0,-1)});const[I,P]=g(L);return L=E(L,P),S(L,I)},CAYLEY:function(w){let L=m(w);L.forEach(B=>{B.cells=B.cells.slice(1).slice(0,-1),B.width=B.width.slice(1).slice(0,-1),B.sep=B.sep+B.sep});const[I,P]=g(L),k={lfence:"",rfence:"",cells:P.map(B=>""+new Array(B).join("")),width:P,height:1,sep:L[0].sep};return L.splice(1,0,k),L=E(L,P),S(L,I)},MATRIX:function(w){let L=m(w);const[I,P]=g(L);return L=E(L,P),S(L,I)},CELL:l,FENCE:l,ROW:l,FRACTION:function(w){const[L,I,,P,k]=Array.from(w.childNodes),B=a(I),F=a(P),H=p(B),j=p(F);let U=Math.max(H,j);const z=L+new Array(U+1).join("")+k;return U=z.length,`${T(B,U)}
${z}
${T(F,U)}`},NUMERATOR:N,DENOMINATOR:N};function a(w){const L=C.tagName(w),I=s[L];return I?I(w):w.textContent}function o(w,L){if(!w||!L)return w+L;const I=u(w),P=u(L),k=I-P;w=k<0?h(w,P,p(w)):w,L=k>0?h(L,I,p(L)):L;const B=w.split(/\r\n|\r|\n/),F=L.split(/\r\n|\r|\n/),H=[];for(let j=0;j<B.length;j++)H.push(B[j]+F[j]);return H.join(`
`)}function l(w){let L="";for(const I of Array.from(w.childNodes))L=I.nodeType!==C.NodeType.TEXT_NODE?o(L,a(I)):o(L,I.textContent);return L}function u(w){return w.split(/\r\n|\r|\n/).length}function p(w){return w.split(/\r\n|\r|\n/).reduce((L,I)=>Math.max(I.length,L),0)}function h(w,L,I){return w=function(P,k){const B=k-u(P);return P+(B>0?new Array(B+1).join(`
`):"")}(w,L),function(P,k){const B=P.split(/\r\n|\r|\n/),F=[];for(const H of B){const j=k-H.length;F.push(H+(j>0?new Array(j+1).join(""):""))}return F.join(`
`)}(w,I)}function m(w){const L=Array.from(w.childNodes),I=[];for(const P of L)P.nodeType===C.NodeType.ELEMENT_NODE&&I.push(_(P));return I}function g(w){const L=w.reduce((P,k)=>Math.max(k.height,P),0),I=[];for(let P=0;P<w[0].width.length;P++)I.push(w.map(k=>k.width[P]).reduce((k,B)=>Math.max(k,B),0));return[L,I]}function E(w,L){const I=[];for(const P of w){if(P.height===0)continue;const k=[];for(let B=0;B<P.cells.length;B++)k.push(h(P.cells[B],P.height,L[B]));P.cells=k,I.push(P)}return I}function S(w,L){if(L===1)return w.map(P=>P.lfence+P.cells.join(P.sep)+P.rfence).join(`
`);const I=[];for(const P of w){const k=O(P.sep,P.height);let B=P.cells.shift();for(;P.cells.length;)B=o(B,k),B=o(B,P.cells.shift());B=o(O(P.lfence,P.height),B),B=o(B,O(P.rfence,P.height)),I.push(B),I.push(P.lfence+new Array(p(B)-3).join(P.sep)+P.rfence)}return I.slice(0,-1).join(`
`)}function O(w,L){let I="";for(;L;)I+=w+`
`,L--;return I.slice(0,-1)}function A(w){return w.nodeType===C.NodeType.ELEMENT_NODE&&C.tagName(w)==="FENCE"?a(w):""}function _(w){const L=Array.from(w.childNodes),I=A(L[0]),P=A(L[L.length-1]);I&&L.shift(),P&&L.pop();let k="";const B=[];for(const F of L){if(F.nodeType===C.NodeType.TEXT_NODE){k=F.textContent;continue}const H=a(F);B.push(H)}return{lfence:I,rfence:P,sep:k,cells:B,height:B.reduce((F,H)=>Math.max(u(H),F),0),width:B.map(p)}}function T(w,L){const I=(L-p(w))/2,[P,k]=Math.floor(I)===I?[I,I]:[Math.floor(I),Math.ceil(I)],B=w.split(/\r\n|\r|\n/),F=[],[H,j]=[new Array(P+1).join(""),new Array(k+1).join("")];for(const U of B)F.push(H+U+j);return F.join(`
`)}function N(w){const L=w.firstChild,I=l(w);if(L&&L.nodeType===C.NodeType.ELEMENT_NODE){if(C.tagName(L)==="ENGLISH")return""+I;if(C.tagName(L)==="NUMBER")return""+I}return I}},182:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.MarkupRenderer=void 0;const M=v(4440),C=v(3921);class x extends C.AbstractAudioRenderer{constructor(){super(...arguments),this.ignoreElements=[M.personalityProps.LAYOUT],this.scaleFunction=null}setScaleFunction(d,f,c,s,a=0){this.scaleFunction=o=>{const l=(o-d)/(f-d),u=c*(1-l)+s*l;return+(Math.round(u+"e+"+a)+"e-"+a)}}applyScaleFunction(d){return this.scaleFunction?this.scaleFunction(d):d}ignoreElement(d){return this.ignoreElements.indexOf(d)!==-1}}e.MarkupRenderer=x},8990:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.PunctuationRenderer=void 0;const M=v(4440),C=v(3921),x=v(3706);class y extends C.AbstractAudioRenderer{markup(f){const c=x.personalityMarkup(f);let s="",a=null,o=!1;for(let l,u=0;l=c[u];u++)x.isMarkupElement(l)||(x.isPauseElement(l)?o&&(a=x.mergePause(a,l,Math.max)):(a&&(s+=this.pause(a[M.personalityProps.PAUSE]),a=null),s+=(o?this.getSeparator():"")+this.merge(l.span),o=!0));return s}pause(f){let c;return c=typeof f=="number"?f<=250?"short":f<=500?"medium":"long":f,y.PAUSE_PUNCTUATION.get(c)||""}}e.PunctuationRenderer=y,y.PAUSE_PUNCTUATION=new Map([["short",","],["medium",";"],["long","."]])},6660:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SableRenderer=void 0;const M=v(4440),C=v(2456);class x extends C.XmlRenderer{finalize(d){return'<?xml version="1.0"?><!DOCTYPE SABLE PUBLIC "-//SABLE//DTD SABLE speech mark up//EN" "Sable.v0_2.dtd" []><SABLE>'+this.getSeparator()+d+this.getSeparator()+"</SABLE>"}pause(d){return'<BREAK MSEC="'+this.pauseValue(d[M.personalityProps.PAUSE])+'"/>'}prosodyElement(d,f){switch(f=this.applyScaleFunction(f),d){case M.personalityProps.PITCH:return'<PITCH RANGE="'+f+'%">';case M.personalityProps.RATE:return'<RATE SPEED="'+f+'%">';case M.personalityProps.VOLUME:return'<VOLUME LEVEL="'+f+'%">';default:return"<"+d.toUpperCase()+' VALUE="'+f+'">'}}closeTag(d){return"</"+d.toUpperCase()+">"}}e.SableRenderer=x},9536:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0,e.Span=class{constructor(v,M){this.speech=v,this.attributes=M}}},7504:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SsmlRenderer=void 0;const M=v(5897),C=v(4440),x=v(2456);class y extends x.XmlRenderer{finalize(f){return'<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis"><prosody rate="'+M.default.getInstance().getRate()+'%">'+this.getSeparator()+f+this.getSeparator()+"</prosody></speak>"}pause(f){return'<break time="'+this.pauseValue(f[C.personalityProps.PAUSE])+'ms"/>'}prosodyElement(f,c){const s=(c=Math.floor(this.applyScaleFunction(c)))<0?c.toString():"+"+c.toString();return"<prosody "+f.toLowerCase()+'="'+s+(f===C.personalityProps.VOLUME?">":'%">')}closeTag(f){return"</prosody>"}}e.SsmlRenderer=y},3757:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SsmlStepRenderer=void 0;const M=v(7504);class C extends M.SsmlRenderer{markup(y){return C.MARKS={},super.markup(y)}merge(y){const d=[];for(let f=0;f<y.length;f++){const c=y[f],s=c.attributes.extid;s&&!C.MARKS[s]&&(d.push('<mark name="'+s+'"/>'),C.MARKS[s]=!0),c.speech.length===1&&c.speech.match(/[a-zA-Z]/)?d.push('<say-as interpret-as="'+C.CHARACTER_ATTR+'">'+c.speech+"</say-as>"):d.push(c.speech)}return d.join(this.getSeparator())}}e.SsmlStepRenderer=C,C.CHARACTER_ATTR="character",C.MARKS={}},4032:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.StringRenderer=void 0;const M=v(3921),C=v(3706);class x extends M.AbstractAudioRenderer{markup(d){let f="";const c=(0,C.personalityMarkup)(d).filter(a=>a.span);if(!c.length)return f;const s=c.length-1;for(let a,o=0;a=c[o];o++){if(a.span&&(f+=this.merge(a.span)),o>=s)continue;const l=a.join;f+=l===void 0?this.getSeparator():l}return f}}e.StringRenderer=x},2456:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.XmlRenderer=void 0;const M=v(5897),C=v(3706),x=v(182);class y extends x.MarkupRenderer{markup(f){this.setScaleFunction(-2,2,-100,100,2);const c=C.personalityMarkup(f),s=[],a=[];for(let o,l=0;o=c[l];l++)if(o.span)s.push(this.merge(o.span));else if(C.isPauseElement(o))s.push(this.pause(o));else{if(o.close.length)for(let u=0;u<o.close.length;u++){const p=a.pop();if(o.close.indexOf(p)===-1)throw new M.SREError("Unknown closing markup element: "+p);s.push(this.closeTag(p))}o.open.length&&C.sortClose(o.open.slice(),c.slice(l+1)).forEach(u=>{s.push(this.prosodyElement(u,o[u])),a.push(u)})}return s.join(" ")}}e.XmlRenderer=y},707:function(R,e){function v(M,C){return M?C?M.filter(x=>C.indexOf(x)<0):M:[]}Object.defineProperty(e,"__esModule",{value:!0}),e.union=e.setdifference=e.interleaveLists=e.removeEmpty=void 0,e.removeEmpty=function(M){return M.filter(C=>C)},e.interleaveLists=function(M,C){const x=[];for(;M.length||C.length;)M.length&&x.push(M.shift()),C.length&&x.push(C.shift());return x},e.setdifference=v,e.union=function(M,C){return M&&C?M.concat(v(C,M)):M||C||[]}},2139:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.loadScript=e.loadMapsForIE_=e.installWGXpath_=e.loadWGXpath_=e.mapsForIE=e.detectEdge=e.detectIE=void 0;const M=v(2315),C=v(5274);function x(c){f(M.default.WGXpath),y(c)}function y(c,s){let a=s||1;typeof wgxpath>"u"&&a<10?setTimeout(function(){y(c,a++)},200):a>=10||(M.default.wgxpath=wgxpath,c?M.default.wgxpath.install({document}):M.default.wgxpath.install(),C.xpath.evaluate=document.evaluate,C.xpath.result=XPathResult,C.xpath.createNSResolver=document.createNSResolver)}function d(){f(M.default.mathmapsIePath)}function f(c){const s=M.default.document.createElement("script");s.type="text/javascript",s.src=c,M.default.document.head?M.default.document.head.appendChild(s):M.default.document.body.appendChild(s)}e.detectIE=function(){return typeof window<"u"&&"ActiveXObject"in window&&"clipboardData"in window&&(d(),x(),!0)},e.detectEdge=function(){var c;return typeof window<"u"&&"MSGestureEvent"in window&&((c=window.chrome)===null||c===void 0?void 0:c.loadTimes)===null&&(document.evaluate=null,x(!0),!0)},e.mapsForIE=null,e.loadWGXpath_=x,e.installWGXpath_=y,e.loadMapsForIE_=d,e.loadScript=f},2057:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.Debugger=void 0;const M=v(2315);class C{constructor(){this.isActive_=!1,this.outputFunction_=console.info,this.stream_=null}static getInstance(){return C.instance=C.instance||new C,C.instance}init(y){y&&this.startDebugFile_(y),this.isActive_=!0}output(...y){this.isActive_&&this.output_(y)}generateOutput(y){this.isActive_&&this.output_(y.apply(y,[]))}exit(y=()=>{}){this.isActive_&&this.stream_&&this.stream_.end("","",y)}startDebugFile_(y){this.stream_=M.default.fs.createWriteStream(y),this.outputFunction_=(function(...d){this.stream_.write(d.join(" ")),this.stream_.write(`
`)}).bind(this),this.stream_.on("error",(function(d){console.info("Invalid log file. Debug information sent to console."),this.outputFunction_=console.info}).bind(this)),this.stream_.on("finish",function(){console.info("Finalizing debug file.")})}output_(y){this.outputFunction_.apply(console.info===this.outputFunction_?console:this.outputFunction_,["Speech Rule Engine Debugger:"].concat(y))}}e.Debugger=C},5740:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeXml=e.cloneNode=e.tagName=e.querySelectorAll=e.querySelectorAllByAttrValue=e.querySelectorAllByAttr=e.formatXml=e.createTextNode=e.createElementNS=e.createElement=e.replaceNode=e.NodeType=e.parseInput=e.XML_ENTITIES=e.trimInput_=e.toArray=void 0;const M=v(5897),C=v(4440),x=v(2315),y=v(5274);function d(s){const a=[];for(let o=0,l=s.length;o<l;o++)a.push(s[o]);return a}function f(s){return(s=s.replace(/&nbsp;/g,"")).replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim()}function c(s,a){if(!a)return[!1,""];const o=s.match(/^<([^> ]+).*>/),l=a.match(/^<\/([^>]+)>(.*)/);return o&&l&&o[1]===l[1]?[!0,l[2]]:[!1,""]}e.toArray=d,e.trimInput_=f,e.XML_ENTITIES={"&lt;":!0,"&gt;":!0,"&amp;":!0,"&quot;":!0,"&apos;":!0},e.parseInput=function(s){const a=new x.default.xmldom.DOMParser,o=f(s),l=!!o.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!o)throw new Error("Empty input!");try{const u=a.parseFromString(o,l?"text/html":"text/xml");return M.default.getInstance().mode===C.Mode.HTTP?(y.xpath.currentDocument=u,l?u.body.childNodes[0]:u.documentElement):u.documentElement}catch(u){throw new M.SREError("Illegal input: "+u.message)}},function(s){s[s.ELEMENT_NODE=1]="ELEMENT_NODE",s[s.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",s[s.TEXT_NODE=3]="TEXT_NODE",s[s.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",s[s.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",s[s.ENTITY_NODE=6]="ENTITY_NODE",s[s.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",s[s.COMMENT_NODE=8]="COMMENT_NODE",s[s.DOCUMENT_NODE=9]="DOCUMENT_NODE",s[s.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",s[s.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",s[s.NOTATION_NODE=12]="NOTATION_NODE"}(e.NodeType||(e.NodeType={})),e.replaceNode=function(s,a){s.parentNode&&(s.parentNode.insertBefore(a,s),s.parentNode.removeChild(s))},e.createElement=function(s){return x.default.document.createElement(s)},e.createElementNS=function(s,a){return x.default.document.createElementNS(s,a)},e.createTextNode=function(s){return x.default.document.createTextNode(s)},e.formatXml=function(s){let a="",o=/(>)(<)(\/*)/g,l=0,u=(s=s.replace(o,`$1\r
$2$3`)).split(`\r
`);for(o=/(\.)*(<)(\/*)/g,u=u.map(p=>p.replace(o,`$1\r
$2$3`).split(`\r
`)).reduce((p,h)=>p.concat(h),[]);u.length;){let p=u.shift();if(!p)continue;let h=0;if(p.match(/^<\w[^>/]*>[^>]+$/)){const m=c(p,u[0]);m[0]?m[1]?(p+=u.shift().slice(0,-m[1].length),m[1].trim()&&u.unshift(m[1])):p+=u.shift():h=1}else if(p.match(/^<\/\w/))l!==0&&(l-=1);else if(p.match(/^<\w[^>]*[^/]>.*$/))h=1;else if(p.match(/^<\w[^>]*\/>.+$/)){const m=p.indexOf(">")+1;p.slice(m).trim()&&u.unshift(),p=p.slice(0,m)}else h=0;a+=new Array(l+1).join("  ")+p+`\r
`,l+=h}return a},e.querySelectorAllByAttr=function(s,a){return s.querySelectorAll?d(s.querySelectorAll(`[${a}]`)):y.evalXPath(`.//*[@${a}]`,s)},e.querySelectorAllByAttrValue=function(s,a,o){return s.querySelectorAll?d(s.querySelectorAll(`[${a}="${o}"]`)):y.evalXPath(`.//*[@${a}="${o}"]`,s)},e.querySelectorAll=function(s,a){return s.querySelectorAll?d(s.querySelectorAll(a)):y.evalXPath(`.//${a}`,s)},e.tagName=function(s){return s.tagName.toUpperCase()},e.cloneNode=function(s){return s.cloneNode(!0)},e.serializeXml=function(s){return new x.default.xmldom.XMLSerializer().serializeToString(s)}},5897:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.EnginePromise=e.SREError=void 0;const M=v(1676),C=v(4440),x=v(2057),y=v(1377);class d extends Error{constructor(a=""){super(),this.message=a,this.name="SRE Error"}}e.SREError=d;class f{constructor(){this.customLoader=null,this.parsers={},this.comparator=null,this.mode=C.Mode.SYNC,this.init=!0,this.delay=!1,this.comparators={},this.domain="mathspeak",this.style=M.DynamicCstr.DEFAULT_VALUES[M.Axis.STYLE],this._defaultLocale=M.DynamicCstr.DEFAULT_VALUES[M.Axis.LOCALE],this.locale=this.defaultLocale,this.subiso="",this.modality=M.DynamicCstr.DEFAULT_VALUES[M.Axis.MODALITY],this.speech=C.Speech.NONE,this.markup=C.Markup.NONE,this.walker="Table",this.structure=!1,this.ruleSets=[],this.strict=!1,this.isIE=!1,this.isEdge=!1,this.rate="100",this.pprint=!1,this.config=!1,this.rules="",this.prune="",this.evaluator=f.defaultEvaluator,this.defaultParser=new M.DynamicCstrParser(M.DynamicCstr.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=M.DynamicCstr.defaultCstr()}set defaultLocale(a){this._defaultLocale=y.Variables.ensureLocale(a,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return f.instance=f.instance||new f,f.instance}static defaultEvaluator(a,o){return a}static evaluateNode(a){return f.nodeEvaluator(a)}getRate(){const a=parseInt(this.rate,10);return isNaN(a)?100:a}setDynamicCstr(a){if(this.defaultLocale&&(M.DynamicCstr.DEFAULT_VALUES[M.Axis.LOCALE]=this.defaultLocale),a){const h=Object.keys(a);for(let m=0;m<h.length;m++){const g=h[m];if(M.DynamicCstr.DEFAULT_ORDER.indexOf(g)!==-1){const E=a[g];this[g]=E}}}C.DOMAIN_TO_STYLES[this.domain]=this.style;const o=[this.locale,this.modality,this.domain,this.style].join("."),l=M.DynamicProperties.createProp([M.DynamicCstr.DEFAULT_VALUES[M.Axis.LOCALE]],[M.DynamicCstr.DEFAULT_VALUES[M.Axis.MODALITY]],[M.DynamicCstr.DEFAULT_VALUES[M.Axis.DOMAIN]],[M.DynamicCstr.DEFAULT_VALUES[M.Axis.STYLE]]),u=this.comparators[this.domain],p=this.parsers[this.domain];this.parser=p||this.defaultParser,this.dynamicCstr=this.parser.parse(o),this.dynamicCstr.updateProperties(l.getProperties()),this.comparator=u?u():new M.DefaultComparator(this.dynamicCstr)}configurate(a){this.mode!==C.Mode.HTTP||this.config||(function(o){const l=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]');for(let u=0,p=l.length;u<p;u++){let h;try{h=l[u].innerHTML;const m=JSON.parse(h);for(const g in m)o[g]=m[g]}catch{x.Debugger.getInstance().output("Illegal configuration ",h)}}}(a),this.config=!0),function(o){if(typeof SREfeature<"u")for(const[l,u]of Object.entries(SREfeature))o[l]=u}(a)}setCustomLoader(a){a&&(this.customLoader=a)}}e.default=f,f.BINARY_FEATURES=["strict","structure","pprint"],f.STRING_FEATURES=["markup","style","domain","speech","walker","defaultLocale","locale","delay","modality","rate","rules","subiso","prune"],f.nodeEvaluator=function(s){return[]};class c{static get(a=f.getInstance().locale){return c.promises[a]||Promise.resolve("")}static getall(){return Promise.all(Object.values(c.promises))}}e.EnginePromise=c,c.loaded={},c.promises={}},4440:function(R,e){var v;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMAIN_TO_STYLES=e.Markup=e.Speech=e.personalityPropList=e.personalityProps=e.Mode=void 0,function(M){M.SYNC="sync",M.ASYNC="async",M.HTTP="http"}(e.Mode||(e.Mode={})),function(M){M.PITCH="pitch",M.RATE="rate",M.VOLUME="volume",M.PAUSE="pause",M.JOIN="join",M.LAYOUT="layout"}(v=e.personalityProps||(e.personalityProps={})),e.personalityPropList=[v.PITCH,v.RATE,v.VOLUME,v.PAUSE,v.JOIN],function(M){M.NONE="none",M.SHALLOW="shallow",M.DEEP="deep"}(e.Speech||(e.Speech={})),function(M){M.NONE="none",M.LAYOUT="layout",M.PUNCTUATION="punctuation",M.SSML="ssml",M.SSML_STEP="ssml_step",M.ACSS="acss",M.SABLE="sable",M.VOICEXML="voicexml"}(e.Markup||(e.Markup={})),e.DOMAIN_TO_STYLES={mathspeak:"default",clearspeak:"default"}},6828:function(R,e,v){var M=this&&this.__awaiter||function(s,a,o,l){return new(o||(o=Promise))(function(u,p){function h(E){try{g(l.next(E))}catch(S){p(S)}}function m(E){try{g(l.throw(E))}catch(S){p(S)}}function g(E){var S;E.done?u(E.value):(S=E.value,S instanceof o?S:new o(function(O){O(S)})).then(h,m)}g((l=l.apply(s,a||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.setup=void 0;const C=v(7491),x=v(6141),y=v(2139),d=v(5897),f=v(7248),c=v(2315);e.setup=function(s){return M(this,void 0,void 0,function*(){const a=d.default.getInstance();s.domain!=="default"||s.modality!=="speech"&&s.modality&&a.modality!=="speech"||(s.domain="mathspeak");const o=l=>{s[l]!==void 0&&(a[l]=s[l])};return o("mode"),a.configurate(s),d.default.BINARY_FEATURES.forEach(l=>{s[l]!==void 0&&(a[l]=!!s[l])}),d.default.STRING_FEATURES.forEach(o),s.json&&(c.default.jsonPath=f.makePath(s.json)),s.xpath&&(c.default.WGXpath=s.xpath),a.setCustomLoader(s.custom),function(l){l.isIE=y.detectIE(),l.isEdge=y.detectEdge()}(a),C.setLocale(),a.setDynamicCstr(),a.init?(d.EnginePromise.promises.init=new Promise((l,u)=>{setTimeout(()=>{l("init")},10)}),a.init=!1,d.EnginePromise.get()):a.delay?(a.delay=!1,d.EnginePromise.get()):x.loadLocale()})}},8496:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Event=e.EventType=e.Move=e.KeyCode=void 0,function(v){v[v.ENTER=13]="ENTER",v[v.ESC=27]="ESC",v[v.SPACE=32]="SPACE",v[v.PAGE_UP=33]="PAGE_UP",v[v.PAGE_DOWN=34]="PAGE_DOWN",v[v.END=35]="END",v[v.HOME=36]="HOME",v[v.LEFT=37]="LEFT",v[v.UP=38]="UP",v[v.RIGHT=39]="RIGHT",v[v.DOWN=40]="DOWN",v[v.TAB=9]="TAB",v[v.LESS=188]="LESS",v[v.GREATER=190]="GREATER",v[v.DASH=189]="DASH",v[v.ZERO=48]="ZERO",v[v.ONE=49]="ONE",v[v.TWO=50]="TWO",v[v.THREE=51]="THREE",v[v.FOUR=52]="FOUR",v[v.FIVE=53]="FIVE",v[v.SIX=54]="SIX",v[v.SEVEN=55]="SEVEN",v[v.EIGHT=56]="EIGHT",v[v.NINE=57]="NINE",v[v.A=65]="A",v[v.B=66]="B",v[v.C=67]="C",v[v.D=68]="D",v[v.E=69]="E",v[v.F=70]="F",v[v.G=71]="G",v[v.H=72]="H",v[v.I=73]="I",v[v.J=74]="J",v[v.K=75]="K",v[v.L=76]="L",v[v.M=77]="M",v[v.N=78]="N",v[v.O=79]="O",v[v.P=80]="P",v[v.Q=81]="Q",v[v.R=82]="R",v[v.S=83]="S",v[v.T=84]="T",v[v.U=85]="U",v[v.V=86]="V",v[v.W=87]="W",v[v.X=88]="X",v[v.Y=89]="Y",v[v.Z=90]="Z"}(e.KeyCode||(e.KeyCode={})),e.Move=new Map([[13,"ENTER"],[27,"ESC"],[32,"SPACE"],[33,"PAGE_UP"],[34,"PAGE_DOWN"],[35,"END"],[36,"HOME"],[37,"LEFT"],[38,"UP"],[39,"RIGHT"],[40,"DOWN"],[9,"TAB"],[188,"LESS"],[190,"GREATER"],[189,"DASH"],[48,"ZERO"],[49,"ONE"],[50,"TWO"],[51,"THREE"],[52,"FOUR"],[53,"FIVE"],[54,"SIX"],[55,"SEVEN"],[56,"EIGHT"],[57,"NINE"],[65,"A"],[66,"B"],[67,"C"],[68,"D"],[69,"E"],[70,"F"],[71,"G"],[72,"H"],[73,"I"],[74,"J"],[75,"K"],[76,"L"],[77,"M"],[78,"N"],[79,"O"],[80,"P"],[81,"Q"],[82,"R"],[83,"S"],[84,"T"],[85,"U"],[86,"V"],[87,"W"],[88,"X"],[89,"Y"],[90,"Z"]]),function(v){v.CLICK="click",v.DBLCLICK="dblclick",v.MOUSEDOWN="mousedown",v.MOUSEUP="mouseup",v.MOUSEOVER="mouseover",v.MOUSEOUT="mouseout",v.MOUSEMOVE="mousemove",v.SELECTSTART="selectstart",v.KEYPRESS="keypress",v.KEYDOWN="keydown",v.KEYUP="keyup",v.TOUCHSTART="touchstart",v.TOUCHMOVE="touchmove",v.TOUCHEND="touchend",v.TOUCHCANCEL="touchcancel"}(e.EventType||(e.EventType={})),e.Event=class{constructor(v,M,C){this.src=v,this.type=M,this.callback=C}add(){this.src.addEventListener(this.type,this.callback)}remove(){this.src.removeEventListener(this.type,this.callback)}}},7248:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.localePath=e.makePath=void 0;const M=v(2315);function C(x){return x.match("/$")?x:x+"/"}e.makePath=C,e.localePath=function(x,y="json"){return C(M.default.jsonPath)+x+(y.match(/^\./)?y:"."+y)}},3769:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyProcessor=e.Processor=void 0;const M=v(8496);class C{constructor(d,f){this.name=d,this.process=f.processor,this.postprocess=f.postprocessor||((c,s)=>c),this.processor=this.postprocess?function(c){return this.postprocess(this.process(c),c)}:this.process,this.print=f.print||C.stringify_,this.pprint=f.pprint||this.print}static stringify_(d){return d&&d.toString()}}e.Processor=C,C.LocalState={walker:null,speechGenerator:null,highlighter:null};class x extends C{constructor(d,f){super(d,f),this.key=f.key||x.getKey_}static getKey_(d){return typeof d=="string"?M.KeyCode[d.toUpperCase()]:d}}e.KeyProcessor=x},6499:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.keypress=e.output=e.print=e.process=e.set=void 0;const M=v(8290),C=v(5714),x=v(3090),y=v(4356),d=v(1414),f=v(9552),c=v(9543),s=v(3362),a=v(1204),o=v(5740),l=v(5897),u=v(4440),p=v(3769),h=v(5274),m=new Map;function g(A){m.set(A.name,A)}function E(A){const _=m.get(A);if(!_)throw new l.SREError("Unknown processor "+A);return _}function S(A,_){const T=E(A);try{return T.processor(_)}catch{throw new l.SREError("Processing error for expression "+_)}}function O(A,_){const T=E(A);return l.default.getInstance().pprint?T.pprint(_):T.print(_)}e.set=g,e.process=S,e.print=O,e.output=function(A,_){const T=E(A);try{const N=T.processor(_);return l.default.getInstance().pprint?T.pprint(N):T.print(N)}catch{throw new l.SREError("Processing error for expression "+_)}},e.keypress=function(A,_){const T=E(A),N=T instanceof p.KeyProcessor?T.key(_):_,w=T.processor(N);return l.default.getInstance().pprint?T.pprint(w):T.print(w)},g(new p.Processor("semantic",{processor:function(A){const _=o.parseInput(A);return d.xmlTree(_)},postprocessor:function(A,_){const T=l.default.getInstance().speech;if(T===u.Speech.NONE)return A;const N=o.cloneNode(A);let w=c.computeMarkup(N);if(T===u.Speech.SHALLOW)return A.setAttribute("speech",M.finalize(w)),A;const L=h.evalXPath(".//*[@id]",A),I=h.evalXPath(".//*[@id]",N);for(let P,k,B=0;P=L[B],k=I[B];B++)w=c.computeMarkup(k),P.setAttribute("speech",M.finalize(w));return A},pprint:function(A){return o.formatXml(A.toString())}})),g(new p.Processor("speech",{processor:function(A){const _=o.parseInput(A),T=d.xmlTree(_),N=c.computeSpeech(T);return M.finalize(M.markup(N))},pprint:function(A){const _=A.toString();return M.isXml()?o.formatXml(_):_}})),g(new p.Processor("json",{processor:function(A){const _=o.parseInput(A);return d.getTree(_).toJson()},postprocessor:function(A,_){const T=l.default.getInstance().speech;if(T===u.Speech.NONE)return A;const N=o.parseInput(_),w=d.xmlTree(N),L=c.computeMarkup(w);if(T===u.Speech.SHALLOW)return A.stree.speech=M.finalize(L),A;const I=P=>{const k=h.evalXPath(`.//*[@id=${P.id}]`,w)[0],B=c.computeMarkup(k);P.speech=M.finalize(B),P.children&&P.children.forEach(I)};return I(A.stree),A},print:function(A){return JSON.stringify(A)},pprint:function(A){return JSON.stringify(A,null,2)}})),g(new p.Processor("description",{processor:function(A){const _=o.parseInput(A),T=d.xmlTree(_);return c.computeSpeech(T)},print:function(A){return JSON.stringify(A)},pprint:function(A){return JSON.stringify(A,null,2)}})),g(new p.Processor("enriched",{processor:function(A){return C.semanticMathmlSync(A)},postprocessor:function(A,_){const T=a.getSemanticRoot(A);let N;switch(l.default.getInstance().speech){case u.Speech.NONE:break;case u.Speech.SHALLOW:N=f.generator("Adhoc"),N.getSpeech(T,A);break;case u.Speech.DEEP:N=f.generator("Tree"),N.getSpeech(A,A)}return A},pprint:function(A){return o.formatXml(A.toString())}})),g(new p.Processor("walker",{processor:function(A){const _=f.generator("Node");p.Processor.LocalState.speechGenerator=_,_.setOptions({modality:l.default.getInstance().modality,locale:l.default.getInstance().locale,domain:l.default.getInstance().domain,style:l.default.getInstance().style}),p.Processor.LocalState.highlighter=x.highlighter({color:"black"},{color:"white"},{renderer:"NativeMML"});const T=S("enriched",A),N=O("enriched",T);return p.Processor.LocalState.walker=s.walker(l.default.getInstance().walker,T,_,p.Processor.LocalState.highlighter,N),p.Processor.LocalState.walker},print:function(A){return p.Processor.LocalState.walker.speech()}})),g(new p.KeyProcessor("move",{processor:function(A){return p.Processor.LocalState.walker?p.Processor.LocalState.walker.move(A)===!1?M.error(A):p.Processor.LocalState.walker.speech():null}})),g(new p.Processor("number",{processor:function(A){const _=parseInt(A,10);return isNaN(_)?"":y.LOCALE.NUMBERS.numberToWords(_)}})),g(new p.Processor("ordinal",{processor:function(A){const _=parseInt(A,10);return isNaN(_)?"":y.LOCALE.NUMBERS.wordOrdinal(_)}})),g(new p.Processor("numericOrdinal",{processor:function(A){const _=parseInt(A,10);return isNaN(_)?"":y.LOCALE.NUMBERS.numericOrdinal(_)}})),g(new p.Processor("vulgar",{processor:function(A){const[_,T]=A.split("/").map(N=>parseInt(N,10));return isNaN(_)||isNaN(T)?"":S("speech",`<mfrac><mn>${_}</mn><mn>${T}</mn></mfrac>`)}}))},2998:function(R,e,v){var M=this&&this.__awaiter||function(p,h,m,g){return new(m||(m=Promise))(function(E,S){function O(T){try{_(g.next(T))}catch(N){S(N)}}function A(T){try{_(g.throw(T))}catch(N){S(N)}}function _(T){var N;T.done?E(T.value):(N=T.value,N instanceof m?N:new m(function(w){w(N)})).then(O,A)}_((g=g.apply(p,h||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.localePath=e.exit=e.move=e.walk=e.processFile=e.file=e.vulgar=e.numericOrdinal=e.ordinal=e.number=e.toEnriched=e.toDescription=e.toJson=e.toSemantic=e.toSpeech=e.localeLoader=e.engineReady=e.engineSetup=e.setupEngine=e.version=void 0;const C=v(5897),x=v(6828),y=v(4440),d=v(7248),f=v(6499),c=v(2315),s=v(1377),a=v(6141);function o(p){return M(this,void 0,void 0,function*(){return(0,x.setup)(p)})}function l(p,h){return f.process(p,h)}function u(p,h,m){switch(C.default.getInstance().mode){case y.Mode.ASYNC:return function(g,E,S){return M(this,void 0,void 0,function*(){const O=yield c.default.fs.promises.readFile(E,{encoding:"utf8"}),A=f.output(g,O);if(S)try{c.default.fs.promises.writeFile(S,A)}catch{throw new C.SREError("Can not write to file: "+S)}return A})}(p,h,m);case y.Mode.SYNC:return function(g,E,S){const O=function(_){let T;try{T=c.default.fs.readFileSync(_,{encoding:"utf8"})}catch{throw new C.SREError("Can not open file: "+_)}return T}(E),A=f.output(g,O);if(S)try{c.default.fs.writeFileSync(S,A)}catch{throw new C.SREError("Can not write to file: "+S)}return A}(p,h,m);default:throw new C.SREError(`Can process files in ${C.default.getInstance().mode} mode`)}}e.version=s.Variables.VERSION,e.setupEngine=o,e.engineSetup=function(){const p=["mode"].concat(C.default.STRING_FEATURES,C.default.BINARY_FEATURES),h=C.default.getInstance(),m={};return p.forEach(function(g){m[g]=h[g]}),m.json=c.default.jsonPath,m.xpath=c.default.WGXpath,m.rules=h.ruleSets.slice(),m},e.engineReady=function(){return M(this,void 0,void 0,function*(){return o({}).then(()=>C.EnginePromise.getall())})},e.localeLoader=a.standardLoader,e.toSpeech=function(p){return l("speech",p)},e.toSemantic=function(p){return l("semantic",p)},e.toJson=function(p){return l("json",p)},e.toDescription=function(p){return l("description",p)},e.toEnriched=function(p){return l("enriched",p)},e.number=function(p){return l("number",p)},e.ordinal=function(p){return l("ordinal",p)},e.numericOrdinal=function(p){return l("numericOrdinal",p)},e.vulgar=function(p){return l("vulgar",p)},e.file={},e.file.toSpeech=function(p,h){return u("speech",p,h)},e.file.toSemantic=function(p,h){return u("semantic",p,h)},e.file.toJson=function(p,h){return u("json",p,h)},e.file.toDescription=function(p,h){return u("description",p,h)},e.file.toEnriched=function(p,h){return u("enriched",p,h)},e.processFile=u,e.walk=function(p){return f.output("walker",p)},e.move=function(p){return f.keypress("move",p)},e.exit=function(p){const h=p||0;C.EnginePromise.getall().then(()=>process.exit(h))},e.localePath=d.localePath,c.default.documentSupported?o({mode:y.Mode.HTTP}).then(()=>o({})):o({mode:y.Mode.SYNC}).then(()=>o({mode:y.Mode.ASYNC}))},2315:function(__unused_webpack_module,exports$1,__webpack_require__){var __dirname="/";Object.defineProperty(exports$1,"__esModule",{value:!0});const variables_1=__webpack_require__(1377);class SystemExternal{static extRequire(library){if(typeof process<"u"){const nodeRequire=eval("require");return nodeRequire(library)}return null}}exports$1.default=SystemExternal,SystemExternal.windowSupported=!(typeof window>"u"),SystemExternal.documentSupported=SystemExternal.windowSupported&&window.document!==void 0,SystemExternal.xmldom=SystemExternal.documentSupported?window:SystemExternal.extRequire("xmldom-sre"),SystemExternal.document=SystemExternal.documentSupported?window.document:new SystemExternal.xmldom.DOMImplementation().createDocument("","",0),SystemExternal.xpath=SystemExternal.documentSupported?document:function(){const R={document:{},XPathResult:{}};return SystemExternal.extRequire("wicked-good-xpath").install(R),R.document.XPathResult=R.XPathResult,R.document}(),SystemExternal.mathmapsIePath="https://cdn.jsdelivr.net/npm/sre-mathmaps-ie@"+variables_1.Variables.VERSION+"mathmaps_ie.js",SystemExternal.commander=SystemExternal.documentSupported?null:SystemExternal.extRequire("commander"),SystemExternal.fs=SystemExternal.documentSupported?null:SystemExternal.extRequire("fs"),SystemExternal.url=variables_1.Variables.url,SystemExternal.jsonPath=(SystemExternal.documentSupported?SystemExternal.url:define_process_env_default.SRE_JSON_PATH||__webpack_require__.g.SRE_JSON_PATH||__dirname+"/mathmaps")+"/",SystemExternal.WGXpath=variables_1.Variables.WGXpath,SystemExternal.wgxpath=null},1377:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Variables=void 0;class v{static ensureLocale(C,x){return v.LOCALES.get(C)?C:(console.error(`Locale ${C} does not exist! Using ${v.LOCALES.get(x)} instead.`),x)}}e.Variables=v,v.VERSION="4.0.6",v.LOCALES=new Map([["ca","Catalan"],["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["fr","French"],["hi","Hindi"],["it","Italian"],["nb","Bokml"],["nn","Nynorsk"],["sv","Swedish"],["nemeth","Nemeth"]]),v.mathjaxVersion="3.2.1",v.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+v.VERSION+"/lib/mathmaps",v.WGXpath="https://cdn.jsdelivr.net/npm/wicked-good-xpath@1.3.0/dist/wgxpath.install.js"},5274:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.updateEvaluator=e.evaluateString=e.evaluateBoolean=e.getLeafNodes=e.evalXPath=e.resolveNameSpace=e.xpath=void 0;const M=v(5897),C=v(4440),x=v(2315);function y(){return typeof XPathResult<"u"}e.xpath={currentDocument:null,evaluate:y()?document.evaluate:x.default.xpath.evaluate,result:y()?XPathResult:x.default.xpath.XPathResult,createNSResolver:y()?document.createNSResolver:x.default.xpath.createNSResolver};const d={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function f(o){return d[o]||null}e.resolveNameSpace=f;class c{constructor(){this.lookupNamespaceURI=f}}function s(o,l,u){return M.default.getInstance().mode!==C.Mode.HTTP||M.default.getInstance().isIE||M.default.getInstance().isEdge?e.xpath.evaluate(o,l,new c,u,null):e.xpath.currentDocument.evaluate(o,l,f,u,null)}function a(o,l){let u;try{u=s(o,l,e.xpath.result.ORDERED_NODE_ITERATOR_TYPE)}catch{return[]}const p=[];for(let h=u.iterateNext();h;h=u.iterateNext())p.push(h);return p}e.evalXPath=a,e.getLeafNodes=function(o){return a(".//*[count(*)=0]",o)},e.evaluateBoolean=function(o,l){let u;try{u=s(o,l,e.xpath.result.BOOLEAN_TYPE)}catch{return!1}return u.booleanValue},e.evaluateString=function(o,l){let u;try{u=s(o,l,e.xpath.result.STRING_TYPE)}catch{return""}return u.stringValue},e.updateEvaluator=function(o){if(M.default.getInstance().mode!==C.Mode.HTTP)return;let l=o;for(;l&&!l.evaluate;)l=l.parentNode;l&&l.evaluate?e.xpath.currentDocument=l:o.ownerDocument&&(e.xpath.currentDocument=o.ownerDocument)}},9268:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEnrichCase=void 0,e.AbstractEnrichCase=class{constructor(v){this.semantic=v}}},6061:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseBinomial=void 0;const M=v(5740),C=v(9268),x=v(5452),y=v(2298);class d extends C.AbstractEnrichCase{constructor(c){super(c),this.mml=c.mathmlTree}static test(c){return!c.mathmlTree&&c.type==="line"&&c.role==="binomial"}getMathml(){if(!this.semantic.childNodes.length)return this.mml;const c=this.semantic.childNodes[0];if(this.mml=(0,x.walkTree)(c),this.mml.hasAttribute(y.Attribute.TYPE)){const s=M.createElement("mrow");s.setAttribute(y.Attribute.ADDED,"true"),M.replaceNode(this.mml,s),s.appendChild(this.mml),this.mml=s}return(0,y.setAttributes)(this.mml,this.semantic),this.mml}}e.CaseBinomial=d},5765:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseDoubleScript=void 0;const M=v(5740),C=v(9268),x=v(5452),y=v(2298);class d extends C.AbstractEnrichCase{constructor(c){super(c),this.mml=c.mathmlTree}static test(c){if(!c.mathmlTree||!c.childNodes.length)return!1;const s=M.tagName(c.mathmlTree),a=c.childNodes[0].role;return s==="MSUBSUP"&&a==="subsup"||s==="MUNDEROVER"&&a==="underover"}getMathml(){const c=this.semantic.childNodes[0],s=c.childNodes[0],a=this.semantic.childNodes[1],o=c.childNodes[1],l=x.walkTree(a),u=x.walkTree(s),p=x.walkTree(o);return(0,y.setAttributes)(this.mml,this.semantic),this.mml.setAttribute(y.Attribute.CHILDREN,(0,y.makeIdList)([s,o,a])),[u,p,l].forEach(h=>x.getInnerNode(h).setAttribute(y.Attribute.PARENT,this.mml.getAttribute(y.Attribute.ID))),this.mml.setAttribute(y.Attribute.TYPE,c.role),x.addCollapsedAttribute(this.mml,[this.semantic.id,[c.id,s.id,o.id],a.id]),this.mml}}e.CaseDoubleScript=d},7251:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseEmbellished=void 0;const M=v(5740),C=v(5952),x=v(9268),y=v(5765),d=v(7014),f=v(6887),c=v(5452),s=v(2298);class a extends x.AbstractEnrichCase{constructor(l){super(l),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}static test(l){return!(!l.mathmlTree||!l.fencePointer||l.mathmlTree.getAttribute("data-semantic-type"))}static makeEmptyNode_(l){const u=M.createElement("mrow"),p=new C.SemanticNode(l);return p.type="empty",p.mathmlTree=u,p}static fencedMap_(l,u){u[l.id]=l.mathmlTree,l.embellished&&a.fencedMap_(l.childNodes[0],u)}getMathml(){return this.getFenced_(),this.fencedMml=c.walkTree(this.fenced),this.getFencesMml_(),this.fenced.type!=="empty"||this.fencedMml.parentNode||(this.fencedMml.setAttribute(s.Attribute.ADDED,"true"),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_(),this.rewrite_()}fencedElement(l){return l.type==="fenced"||l.type==="matrix"||l.type==="vector"}getFenced_(){let l=this.semantic;for(;!this.fencedElement(l);)l=l.childNodes[0];this.fenced=l.childNodes[0],this.ofence=l.contentNodes[0],this.cfence=l.contentNodes[1],a.fencedMap_(this.ofence,this.ofenceMap),a.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let l=this.ofenceMml.nextSibling;for(l=l===this.fencedMml?l:this.fencedMml;l&&l!==this.cfenceMml;)this.fencedMmlNodes.push(l),l=l.nextSibling}getFencesMml_(){let l=this.semantic;const u=Object.keys(this.ofenceMap),p=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||l===this.fenced);)u.indexOf(l.fencePointer)===-1||this.ofenceMml||(this.ofenceMml=l.mathmlTree),p.indexOf(l.fencePointer)===-1||this.cfenceMml||(this.cfenceMml=l.mathmlTree),l=l.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=c.ascendNewNode(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=c.ascendNewNode(this.cfenceMml))}rewrite_(){let l=this.semantic,u=null;const p=this.introduceNewLayer_();for((0,s.setAttributes)(p,this.fenced.parent);!this.fencedElement(l);){const h=l.mathmlTree,m=this.specialCase_(l,h);if(m)l=m;else{(0,s.setAttributes)(h,l);const S=[];for(let O,A=1;O=l.childNodes[A];A++)S.push(c.walkTree(O));l=l.childNodes[0]}const g=M.createElement("dummy"),E=h.childNodes[0];M.replaceNode(h,g),M.replaceNode(p,h),M.replaceNode(h.childNodes[0],p),M.replaceNode(g,E),u||(u=h)}return c.walkTree(this.ofence),c.walkTree(this.cfence),this.cleanupParents_(),u||p}specialCase_(l,u){const p=M.tagName(u);let h,m=null;if(p==="MSUBSUP"?(m=l.childNodes[0],h=y.CaseDoubleScript):p==="MMULTISCRIPTS"&&(l.type==="superscript"||l.type==="subscript"?h=d.CaseMultiscripts:l.type==="tensor"&&(h=f.CaseTensor),m=h&&l.childNodes[0]&&l.childNodes[0].role==="subsup"?l.childNodes[0]:l),!m)return null;const g=m.childNodes[0],E=a.makeEmptyNode_(g.id);return m.childNodes[0]=E,u=new h(l).getMathml(),m.childNodes[0]=g,this.parentCleanup.push(u),m.childNodes[0]}introduceNewLayer_(){const l=this.fullFence(this.ofenceMml),u=this.fullFence(this.cfenceMml);let p=M.createElement("mrow");if(M.replaceNode(this.fencedMml,p),this.fencedMmlNodes.forEach(h=>p.appendChild(h)),p.insertBefore(l,this.fencedMml),p.appendChild(u),!p.parentNode){const h=M.createElement("mrow");for(;p.childNodes.length>0;)h.appendChild(p.childNodes[0]);p.appendChild(h),p=h}return p}fullFence(l){const u=this.fencedMml.parentNode;let p=l;for(;p.parentNode&&p.parentNode!==u;)p=p.parentNode;return p}cleanupParents_(){this.parentCleanup.forEach(function(l){const u=l.childNodes[1].getAttribute(s.Attribute.PARENT);l.childNodes[0].setAttribute(s.Attribute.PARENT,u)})}}e.CaseEmbellished=a},6265:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseLimit=void 0;const M=v(5740),C=v(9268),x=v(5452),y=v(2298);class d extends C.AbstractEnrichCase{constructor(c){super(c),this.mml=c.mathmlTree}static test(c){if(!c.mathmlTree||!c.childNodes.length)return!1;const s=M.tagName(c.mathmlTree),a=c.type;return(a==="limupper"||a==="limlower")&&(s==="MSUBSUP"||s==="MUNDEROVER")||a==="limboth"&&(s==="MSUB"||s==="MUNDER"||s==="MSUP"||s==="MOVER")}static walkTree_(c){c&&x.walkTree(c)}getMathml(){const c=this.semantic.childNodes;return this.semantic.type!=="limboth"&&this.mml.childNodes.length>=3&&(this.mml=x.introduceNewLayer([this.mml],this.semantic)),(0,y.setAttributes)(this.mml,this.semantic),c[0].mathmlTree||(c[0].mathmlTree=this.semantic.mathmlTree),c.forEach(d.walkTree_),this.mml}}e.CaseLimit=d},6514:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseLine=void 0;const M=v(9268),C=v(5452),x=v(2298);class y extends M.AbstractEnrichCase{constructor(f){super(f),this.mml=f.mathmlTree}static test(f){return!!f.mathmlTree&&f.type==="line"}getMathml(){return this.semantic.contentNodes.length&&C.walkTree(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&C.walkTree(this.semantic.childNodes[0]),(0,x.setAttributes)(this.mml,this.semantic),this.mml}}e.CaseLine=y},6839:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseMultiindex=void 0;const M=v(5740),C=v(9268),x=v(5452),y=v(2298);class d extends C.AbstractEnrichCase{constructor(c){super(c),this.mml=c.mathmlTree}static multiscriptIndex(c){return c.type==="punctuated"&&c.contentNodes[0].role==="dummy"?x.collapsePunctuated(c):(x.walkTree(c),c.id)}static createNone_(c){const s=M.createElement("none");return c&&(0,y.setAttributes)(s,c),s.setAttribute(y.Attribute.ADDED,"true"),s}completeMultiscript(c,s){const a=M.toArray(this.mml.childNodes).slice(1);let o=0;const l=u=>{for(let p,h=0;p=u[h];h++){const m=a[o];if(m&&p===parseInt(x.getInnerNode(m).getAttribute(y.Attribute.ID)))x.getInnerNode(m).setAttribute(y.Attribute.PARENT,this.semantic.id.toString()),o++;else{const g=this.semantic.querySelectorAll(E=>E.id===p);this.mml.insertBefore(d.createNone_(g[0]),m||null)}}};l(c),a[o]&&M.tagName(a[o])!=="MPRESCRIPTS"?this.mml.insertBefore(a[o],M.createElement("mprescripts")):o++,l(s)}}e.CaseMultiindex=d},7014:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseMultiscripts=void 0;const M=v(5740),C=v(5656),x=v(6839),y=v(5452),d=v(2298);class f extends x.CaseMultiindex{static test(s){return s.mathmlTree?M.tagName(s.mathmlTree)==="MMULTISCRIPTS"&&(s.type==="superscript"||s.type==="subscript"):!1}constructor(s){super(s)}getMathml(){let s,a,o;if((0,d.setAttributes)(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role==="subsup"){const p=this.semantic.childNodes[0];s=p.childNodes[0],a=x.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]),o=x.CaseMultiindex.multiscriptIndex(p.childNodes[1]);const h=[this.semantic.id,[p.id,s.id,o],a];y.addCollapsedAttribute(this.mml,h),this.mml.setAttribute(d.Attribute.TYPE,p.role),this.completeMultiscript(C.SemanticSkeleton.interleaveIds(o,a),[])}else{s=this.semantic.childNodes[0],a=x.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]);const p=[this.semantic.id,s.id,a];y.addCollapsedAttribute(this.mml,p)}const l=C.SemanticSkeleton.collapsedLeafs(o||[],a),u=y.walkTree(s);return y.getInnerNode(u).setAttribute(d.Attribute.PARENT,this.semantic.id.toString()),l.unshift(s.id),this.mml.setAttribute(d.Attribute.CHILDREN,l.join(",")),this.mml}}e.CaseMultiscripts=f},3416:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseProof=void 0;const M=v(9268),C=v(5452),x=v(2298);class y extends M.AbstractEnrichCase{constructor(f){super(f),this.mml=f.mathmlTree}static test(f){return!!f.mathmlTree&&(f.type==="inference"||f.type==="premises")}getMathml(){return this.semantic.childNodes.length?(this.semantic.contentNodes.forEach(function(f){C.walkTree(f),(0,x.setAttributes)(f.mathmlTree,f)}),this.semantic.childNodes.forEach(function(f){C.walkTree(f)}),(0,x.setAttributes)(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent"),this.mml):this.mml}}e.CaseProof=y},5699:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseTable=void 0;const M=v(5740),C=v(9268),x=v(5452),y=v(2298);class d extends C.AbstractEnrichCase{constructor(c){super(c),this.inner=[],this.mml=c.mathmlTree}static test(c){return c.type==="matrix"||c.type==="vector"||c.type==="cases"}getMathml(){const c=x.cloneContentNode(this.semantic.contentNodes[0]),s=this.semantic.contentNodes[1]?x.cloneContentNode(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(x.walkTree),this.mml)if(M.tagName(this.mml)==="MFENCED"){const a=this.mml.childNodes;this.mml.insertBefore(c,a[0]||null),s&&this.mml.appendChild(s),this.mml=x.rewriteMfenced(this.mml)}else{const a=[c,this.mml];s&&a.push(s),this.mml=x.introduceNewLayer(a,this.semantic)}else this.mml=x.introduceNewLayer([c].concat(this.inner,[s]),this.semantic);return(0,y.setAttributes)(this.mml,this.semantic),this.mml}}e.CaseTable=d},6887:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseTensor=void 0;const M=v(5656),C=v(6839),x=v(5452),y=v(2298);class d extends C.CaseMultiindex{static test(c){return!!c.mathmlTree&&c.type==="tensor"}constructor(c){super(c)}getMathml(){x.walkTree(this.semantic.childNodes[0]);const c=C.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[1]),s=C.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[2]),a=C.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[3]),o=C.CaseMultiindex.multiscriptIndex(this.semantic.childNodes[4]);(0,y.setAttributes)(this.mml,this.semantic);const l=[this.semantic.id,this.semantic.childNodes[0].id,c,s,a,o];x.addCollapsedAttribute(this.mml,l);const u=M.SemanticSkeleton.collapsedLeafs(c,s,a,o);return u.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(y.Attribute.CHILDREN,u.join(",")),this.completeMultiscript(M.SemanticSkeleton.interleaveIds(a,o),M.SemanticSkeleton.interleaveIds(c,s)),this.mml}}e.CaseTensor=d},9236:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CaseText=void 0;const M=v(9268),C=v(5452),x=v(2298);class y extends M.AbstractEnrichCase{constructor(f){super(f),this.mml=f.mathmlTree}static test(f){return f.type==="punctuated"&&(f.role==="text"||f.contentNodes.every(c=>c.role==="dummy"))}getMathml(){const f=[],c=C.collapsePunctuated(this.semantic,f);return this.mml=C.introduceNewLayer(f,this.semantic),(0,x.setAttributes)(this.mml,this.semantic),this.mml.removeAttribute(x.Attribute.CONTENT),C.addCollapsedAttribute(this.mml,c),this.mml}}e.CaseText=y},5714:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.prepareMmlString=e.testTranslation__=e.semanticMathml=e.semanticMathmlSync=e.semanticMathmlNode=void 0;const M=v(2057),C=v(5740),x=v(5897),y=v(1414),d=v(5452),f=v(2298);function c(o){const l=C.cloneNode(o),u=y.getTree(l);return d.enrich(l,u)}function s(o){return c(C.parseInput(o))}function a(o){return o.match(/^<math/)||(o="<math>"+o),o.match(/\/math>$/)||(o+="</math>"),o}v(1513),e.semanticMathmlNode=c,e.semanticMathmlSync=s,e.semanticMathml=function(o,l){x.EnginePromise.getall().then(()=>{const u=C.parseInput(o);l(c(u))})},e.testTranslation__=function(o){M.Debugger.getInstance().init();const l=s(a(o)).toString();return(0,f.removeAttributePrefix)(l),M.Debugger.getInstance().exit(),l},e.prepareMmlString=a},2298:function(R,e){var v;function M(x){return x.map(function(y){return y.id}).join(",")}function C(x,y){const d=[];y.role==="mglyph"&&d.push("image"),y.attributes.href&&d.push("link"),d.length&&x.setAttribute(v.POSTFIX,d.join(" "))}Object.defineProperty(e,"__esModule",{value:!0}),e.addPrefix=e.removeAttributePrefix=e.setPostfix=e.setAttributes=e.makeIdList=e.EnrichAttributes=e.Attribute=e.Prefix=void 0,e.Prefix="data-semantic-",function(x){x.ADDED="data-semantic-added",x.ALTERNATIVE="data-semantic-alternative",x.CHILDREN="data-semantic-children",x.COLLAPSED="data-semantic-collapsed",x.CONTENT="data-semantic-content",x.EMBELLISHED="data-semantic-embellished",x.FENCEPOINTER="data-semantic-fencepointer",x.FONT="data-semantic-font",x.ID="data-semantic-id",x.ANNOTATION="data-semantic-annotation",x.OPERATOR="data-semantic-operator",x.OWNS="data-semantic-owns",x.PARENT="data-semantic-parent",x.POSTFIX="data-semantic-postfix",x.PREFIX="data-semantic-prefix",x.ROLE="data-semantic-role",x.SPEECH="data-semantic-speech",x.STRUCTURE="data-semantic-structure",x.TYPE="data-semantic-type"}(v=e.Attribute||(e.Attribute={})),e.EnrichAttributes=[v.ADDED,v.ALTERNATIVE,v.CHILDREN,v.COLLAPSED,v.CONTENT,v.EMBELLISHED,v.FENCEPOINTER,v.FONT,v.ID,v.ANNOTATION,v.OPERATOR,v.OWNS,v.PARENT,v.POSTFIX,v.PREFIX,v.ROLE,v.SPEECH,v.STRUCTURE,v.TYPE],e.makeIdList=M,e.setAttributes=function(x,y){x.setAttribute(v.TYPE,y.type);const d=y.allAttributes();for(let f,c=0;f=d[c];c++)x.setAttribute(e.Prefix+f[0].toLowerCase(),f[1]);y.childNodes.length&&x.setAttribute(v.CHILDREN,M(y.childNodes)),y.contentNodes.length&&x.setAttribute(v.CONTENT,M(y.contentNodes)),y.parent&&x.setAttribute(v.PARENT,y.parent.id.toString()),C(x,y)},e.setPostfix=C,e.removeAttributePrefix=function(x){return x.toString().replace(new RegExp(e.Prefix,"g"),"")},e.addPrefix=function(x){return e.Prefix+x}},3532:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.factory=e.getCase=void 0,e.getCase=function(v){for(let M,C=0;M=e.factory[C];C++)if(M.test(v))return M.constr(v);return null},e.factory=[]},1513:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(6061),C=v(5765),x=v(7251),y=v(6265),d=v(6514),f=v(7014),c=v(3416),s=v(5699),a=v(6887),o=v(9236);v(3532).factory.push({test:y.CaseLimit.test,constr:l=>new y.CaseLimit(l)},{test:x.CaseEmbellished.test,constr:l=>new x.CaseEmbellished(l)},{test:C.CaseDoubleScript.test,constr:l=>new C.CaseDoubleScript(l)},{test:a.CaseTensor.test,constr:l=>new a.CaseTensor(l)},{test:f.CaseMultiscripts.test,constr:l=>new f.CaseMultiscripts(l)},{test:d.CaseLine.test,constr:l=>new d.CaseLine(l)},{test:M.CaseBinomial.test,constr:l=>new M.CaseBinomial(l)},{test:c.CaseProof.test,constr:l=>new c.CaseProof(l)},{test:s.CaseTable.test,constr:l=>new s.CaseTable(l)},{test:o.CaseText.test,constr:l=>new o.CaseText(l)})},5452:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.printNodeList__=e.collapsePunctuated=e.formattedOutput_=e.formattedOutput=e.getInnerNode=e.setOperatorAttribute_=e.createInvisibleOperator_=e.rewriteMfenced=e.cloneContentNode=e.addCollapsedAttribute=e.parentNode_=e.isIgnorable_=e.unitChild_=e.descendNode_=e.ascendNewNode=e.validLca_=e.pathToRoot_=e.attachedElement_=e.prunePath_=e.mathmlLca_=e.lcaType=e.functionApplication_=e.isDescendant_=e.insertNewChild_=e.mergeChildren_=e.collectChildNodes_=e.collateChildNodes_=e.childrenSubset_=e.moveSemanticAttributes_=e.introduceLayerAboveLca=e.introduceNewLayer=e.walkTree=e.enrich=e.SETTINGS=void 0;const M=v(2057),C=v(5740),x=v(5897),y=v(3588),d=v(7516),f=v(5656),c=v(4795),s=v(2298),a=v(3532);function o(D){const V=(0,a.getCase)(D);let G;if(V)return G=V.getMathml(),P(G);if(D.mathml.length===1)return M.Debugger.getInstance().output("Walktree Case 0"),G=D.mathml[0],s.setAttributes(G,D),D.childNodes.length&&(M.Debugger.getInstance().output("Walktree Case 0.1"),D.childNodes.forEach(function(et){et.type==="empty"&&G.appendChild(o(et))})),P(G);const J=D.contentNodes.map(j);K(D,J);const $=D.childNodes.map(o),Y=f.SemanticSkeleton.combineContentChildren(D,J,$);if(G=D.mathmlTree,G===null)M.Debugger.getInstance().output("Walktree Case 1"),G=l(Y,D);else{const et=w(Y);M.Debugger.getInstance().output("Walktree Case 2"),et?(M.Debugger.getInstance().output("Walktree Case 2.1"),G=et.parentNode):(M.Debugger.getInstance().output("Walktree Case 2.2"),G=W(G))}return G=U(G),E(G,Y,D),s.setAttributes(G,D),P(G)}function l(D,V){const G=T(D);let J=G.node;const $=G.type;if($!==_.VALID||!c.hasEmptyTag(J)){if(M.Debugger.getInstance().output("Walktree Case 1.1"),J=C.createElement("mrow"),$===_.PRUNED)M.Debugger.getInstance().output("Walktree Case 1.1.0"),J=u(J,G.node,D);else if(D[0]){M.Debugger.getInstance().output("Walktree Case 1.1.1");const Y=w(D),et=h(Y.parentNode,D);C.replaceNode(Y,J),et.forEach(function(it){J.appendChild(it)})}}return V.mathmlTree||(V.mathmlTree=J),J}function u(D,V,G){let J=k(V);if(c.hasMathTag(J)){M.Debugger.getInstance().output("Walktree Case 1.1.0.0"),p(J,D),C.toArray(J.childNodes).forEach(function(et){D.appendChild(et)});const Y=D;D=J,J=Y}const $=G.indexOf(V);return G[$]=J,C.replaceNode(J,D),D.appendChild(J),G.forEach(function(Y){D.appendChild(Y)}),D}function p(D,V){for(const G of s.EnrichAttributes)D.hasAttribute(G)&&(V.setAttribute(G,D.getAttribute(G)),D.removeAttribute(G))}function h(D,V){const G=C.toArray(D.childNodes);let J=1/0,$=-1/0;return V.forEach(function(Y){const et=G.indexOf(Y);et!==-1&&(J=Math.min(J,et),$=Math.max($,et))}),G.slice(J,$+1)}function m(D,V,G){const J=[];let $=C.toArray(D.childNodes),Y=!1;for(;$.length;){const nt=$.shift();if(nt.hasAttribute(s.Attribute.TYPE)){J.push(nt);continue}const at=g(nt);at.length!==0&&(at.length!==1?(Y?nt.setAttribute("AuxiliaryImplicit",!0):Y=!0,$=at.concat($)):J.push(nt))}const et=[],it=G.childNodes.map(function(nt){return nt.mathmlTree});for(;it.length;){const nt=it.pop();if(nt){if(J.indexOf(nt)!==-1)break;V.indexOf(nt)!==-1&&et.unshift(nt)}}return J.concat(et)}function g(D){const V=[];let G=C.toArray(D.childNodes);for(;G.length;){const J=G.shift();J.nodeType===C.NodeType.ELEMENT_NODE&&(J.hasAttribute(s.Attribute.TYPE)?V.push(J):G=C.toArray(J.childNodes).concat(G))}return V}function E(D,V,G){const J=G.role==="implicit"&&d.flags.combine_juxtaposition?m(D,V,G):C.toArray(D.childNodes);if(!J.length)return void V.forEach(function(Y){D.appendChild(Y)});let $=0;for(;V.length;){const Y=V[0];J[$]===Y||A(J[$],Y)?(V.shift(),$++):J[$]&&V.indexOf(J[$])===-1?$++:(O(Y,D)||S(D,J[$],Y),V.shift())}}function S(D,V,G){if(!V)return void D.insertBefore(G,null);let J=V,$=H(J);for(;$&&$.firstChild===J&&!J.hasAttribute("AuxiliaryImplicit")&&$!==D;)J=$,$=H(J);$&&($.insertBefore(G,J),J.removeAttribute("AuxiliaryImplicit"))}function O(D,V){if(!D)return!1;do if((D=D.parentNode)===V)return!0;while(D);return!1}function A(D,V){const G=y.functionApplication();if(D&&V&&D.textContent&&V.textContent&&D.textContent===G&&V.textContent===G&&V.getAttribute(s.Attribute.ADDED)==="true"){for(let J,$=0;J=D.attributes[$];$++)V.hasAttribute(J.nodeName)||V.setAttribute(J.nodeName,J.nodeValue);return C.replaceNode(D,V),!0}return!1}var _;function T(D){const V=w(D);if(!V)return{type:_.INVALID,node:null};const G=w(D.slice().reverse());if(V===G)return{type:_.VALID,node:V};const J=L(V),$=N(J,D),Y=L(G,function(nt){return $.indexOf(nt)!==-1}),et=Y[0],it=$.indexOf(et);return it===-1?{type:_.INVALID,node:null}:{type:$.length!==J.length?_.PRUNED:I($[it+1],Y[1])?_.VALID:_.INVALID,node:et}}function N(D,V){let G=0;for(;D[G]&&V.indexOf(D[G])===-1;)G++;return D.slice(0,G+1)}function w(D){let V=0,G=null;for(;!G&&V<D.length;)D[V].parentNode&&(G=D[V]),V++;return G}function L(D,V){const G=V||($=>!1),J=[D];for(;!G(D)&&!c.hasMathTag(D)&&D.parentNode;)D=H(D),J.unshift(D);return J}function I(D,V){return!(!D||!V||D.previousSibling||V.nextSibling)}function P(D){for(;!c.hasMathTag(D)&&B(D);)D=H(D);return D}function k(D){const V=C.toArray(D.childNodes);if(!V)return D;const G=V.filter(function(J){return J.nodeType===C.NodeType.ELEMENT_NODE&&!c.hasIgnoreTag(J)});return G.length===1&&c.hasEmptyTag(G[0])&&!G[0].hasAttribute(s.Attribute.TYPE)?k(G[0]):D}function B(D){const V=H(D);return!(!V||!c.hasEmptyTag(V))&&C.toArray(V.childNodes).every(function(G){return G===D||F(G)})}function F(D){if(D.nodeType!==C.NodeType.ELEMENT_NODE||!D||c.hasIgnoreTag(D))return!0;const V=C.toArray(D.childNodes);return!(!c.hasEmptyTag(D)&&V.length||c.hasDisplayTag(D)||D.hasAttribute(s.Attribute.TYPE)||c.isOrphanedGlyph(D))&&C.toArray(D.childNodes).every(F)}function H(D){return D.parentNode}function j(D){if(D.mathml.length)return o(D);const V=e.SETTINGS.implicit?z(D):C.createElement("mrow");return D.mathml=[V],V}function U(D){if(C.tagName(D)!=="MFENCED")return D;const V=C.createElement("mrow");for(let G,J=0;G=D.attributes[J];J++)["open","close","separators"].indexOf(G.name)===-1&&V.setAttribute(G.name,G.value);return C.toArray(D.childNodes).forEach(function(G){V.appendChild(G)}),C.replaceNode(D,V),V}function z(D){const V=C.createElement("mo"),G=C.createTextNode(D.textContent);return V.appendChild(G),s.setAttributes(V,D),V.setAttribute(s.Attribute.ADDED,"true"),V}function K(D,V){const G=D.type+(D.textContent?","+D.textContent:"");V.forEach(function(J){W(J).setAttribute(s.Attribute.OPERATOR,G)})}function W(D){const V=C.toArray(D.childNodes);if(!V)return D;const G=V.filter(function($){return!F($)}),J=[];for(let $,Y=0;$=G[Y];Y++)if(c.hasEmptyTag($)){const et=W($);et&&et!==$&&J.push(et)}else J.push($);return J.length===1?J[0]:D}function q(D,V,G,J){const $=J||!1;X(D,"Original MathML",$),X(G,"Semantic Tree",$),X(V,"Semantically enriched MathML",$)}function X(D,V,G){const J=C.formatXml(D.toString());console.info(G?V+":\n```html\n"+s.removeAttributePrefix(J)+"\n```\n":J)}e.SETTINGS={collapsed:!0,implicit:!0},e.enrich=function(D,V){const G=C.cloneNode(D);return o(V.root),x.default.getInstance().structure&&D.setAttribute(s.Attribute.STRUCTURE,f.SemanticSkeleton.fromStructure(D,V).toString()),M.Debugger.getInstance().generateOutput(function(){return q(G,D,V,!0),[]}),D},e.walkTree=o,e.introduceNewLayer=l,e.introduceLayerAboveLca=u,e.moveSemanticAttributes_=p,e.childrenSubset_=h,e.collateChildNodes_=m,e.collectChildNodes_=g,e.mergeChildren_=E,e.insertNewChild_=S,e.isDescendant_=O,e.functionApplication_=A,function(D){D.VALID="valid",D.INVALID="invalid",D.PRUNED="pruned"}(_=e.lcaType||(e.lcaType={})),e.mathmlLca_=T,e.prunePath_=N,e.attachedElement_=w,e.pathToRoot_=L,e.validLca_=I,e.ascendNewNode=P,e.descendNode_=k,e.unitChild_=B,e.isIgnorable_=F,e.parentNode_=H,e.addCollapsedAttribute=function(D,V){const G=new f.SemanticSkeleton(V);D.setAttribute(s.Attribute.COLLAPSED,G.toString())},e.cloneContentNode=j,e.rewriteMfenced=U,e.createInvisibleOperator_=z,e.setOperatorAttribute_=K,e.getInnerNode=W,e.formattedOutput=q,e.formattedOutput_=X,e.collapsePunctuated=function(D,V){const G=!!V,J=V||[],$=D.parent,Y=D.contentNodes.map(function(it){return it.id});Y.unshift("c");const et=[D.id,Y];for(let it,nt=0;it=D.childNodes[nt];nt++){const at=o(it);J.push(at);const lt=W(at);$&&!G&&lt.setAttribute(s.Attribute.PARENT,$.id.toString()),et.push(it.id)}return et},e.printNodeList__=function(D,V){console.info(D),C.toArray(V).forEach(function(G){console.info(G.toString())}),console.info("<<<<<<<<<<<<<<<<<")}},5105:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractHighlighter=void 0;const M=v(5274),C=v(2298);class x{constructor(){this.color=null,this.mactionName="",this.currentHighlights=[]}highlight(d){this.currentHighlights.push(d.map(f=>{const c=this.highlightNode(f);return this.setHighlighted(f),c}))}highlightAll(d){const f=this.getMactionNodes(d);for(let c,s=0;c=f[s];s++)this.highlight([c])}unhighlight(){const d=this.currentHighlights.pop();d&&d.forEach(f=>{this.isHighlighted(f.node)&&(this.unhighlightNode(f),this.unsetHighlighted(f.node))})}unhighlightAll(){for(;this.currentHighlights.length>0;)this.unhighlight()}setColor(d){this.color=d}colorString(){return this.color.rgba()}addEvents(d,f){const c=this.getMactionNodes(d);for(let s,a=0;s=c[a];a++)for(const o in f)s.addEventListener(o,f[o])}getMactionNodes(d){return Array.from(d.getElementsByClassName(this.mactionName))}isMactionNode(d){const f=d.className||d.getAttribute("class");return!!f&&!!f.match(new RegExp(this.mactionName))}isHighlighted(d){return d.hasAttribute(x.ATTR)}setHighlighted(d){d.setAttribute(x.ATTR,"true")}unsetHighlighted(d){d.removeAttribute(x.ATTR)}colorizeAll(d){M.evalXPath(`.//*[@${C.Attribute.ID}]`,d).forEach(f=>this.colorize(f))}uncolorizeAll(d){M.evalXPath(`.//*[@${C.Attribute.ID}]`,d).forEach(f=>this.uncolorize(f))}colorize(d){const f=(0,C.addPrefix)("foreground");d.hasAttribute(f)&&(d.setAttribute(f+"-old",d.style.color),d.style.color=d.getAttribute(f))}uncolorize(d){const f=(0,C.addPrefix)("foreground")+"-old";d.hasAttribute(f)&&(d.style.color=d.getAttribute(f))}}e.AbstractHighlighter=x,x.ATTR="sre-highlight"},6937:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.ChtmlHighlighter=void 0;const M=v(933);class C extends M.CssHighlighter{constructor(){super()}isMactionNode(y){return y.tagName.toUpperCase()===this.mactionName.toUpperCase()}getMactionNodes(y){return Array.from(y.getElementsByTagName(this.mactionName))}}e.ChtmlHighlighter=C},8396:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ContrastPicker=e.ColorPicker=void 0;const v={red:{red:255,green:0,blue:0},green:{red:0,green:255,blue:0},blue:{red:0,green:0,blue:255},yellow:{red:255,green:255,blue:0},cyan:{red:0,green:255,blue:255},magenta:{red:255,green:0,blue:255},white:{red:255,green:255,blue:255},black:{red:0,green:0,blue:0}};function M(x,y){const d=x||{color:y};let f=Object.prototype.hasOwnProperty.call(d,"color")?v[d.color]:d;return f||(f=v[y]),f.alpha=Object.prototype.hasOwnProperty.call(d,"alpha")?d.alpha:1,function(c){const s=a=>(a=Math.max(a,0),a=Math.min(255,a),Math.round(a));return c.red=s(c.red),c.green=s(c.green),c.blue=s(c.blue),c.alpha=Math.max(c.alpha,0),c.alpha=Math.min(1,c.alpha),c}(f)}class C{constructor(y,d){this.foreground=M(d,C.DEFAULT_FOREGROUND_),this.background=M(y,C.DEFAULT_BACKGROUND_)}static toHex(y){const d=y.toString(16);return d.length===1?"0"+d:d}rgba(){const y=function(d){return"rgba("+d.red+","+d.green+","+d.blue+","+d.alpha+")"};return{background:y(this.background),foreground:y(this.foreground)}}rgb(){const y=function(d){return"rgb("+d.red+","+d.green+","+d.blue+")"};return{background:y(this.background),alphaback:this.background.alpha.toString(),foreground:y(this.foreground),alphafore:this.foreground.alpha.toString()}}hex(){const y=function(d){return"#"+C.toHex(d.red)+C.toHex(d.green)+C.toHex(d.blue)};return{background:y(this.background),alphaback:this.background.alpha.toString(),foreground:y(this.foreground),alphafore:this.foreground.alpha.toString()}}}e.ColorPicker=C,C.DEFAULT_BACKGROUND_="blue",C.DEFAULT_FOREGROUND_="black",e.ContrastPicker=class{constructor(){this.hue=10,this.sat=100,this.light=50,this.incr=50}generate(){return y=function(d,f,c){f=f>1?f/100:f,c=c>1?c/100:c;const s=(1-Math.abs(2*c-1))*f,a=s*(1-Math.abs(d/60%2-1)),o=c-s/2;let l=0,u=0,p=0;return 0<=d&&d<60?[l,u,p]=[s,a,0]:60<=d&&d<120?[l,u,p]=[a,s,0]:120<=d&&d<180?[l,u,p]=[0,s,a]:180<=d&&d<240?[l,u,p]=[0,a,s]:240<=d&&d<300?[l,u,p]=[a,0,s]:300<=d&&d<360&&([l,u,p]=[s,0,a]),{red:l+o,green:u+o,blue:p+o}}(this.hue,this.sat,this.light),"rgb("+(x={red:Math.round(255*y.red),green:Math.round(255*y.green),blue:Math.round(255*y.blue)}).red+","+x.green+","+x.blue+")";var x,y}increment(){this.hue=(this.hue+this.incr)%360}}},933:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.CssHighlighter=void 0;const M=v(5105);class C extends M.AbstractHighlighter{constructor(){super(),this.mactionName="mjx-maction"}highlightNode(y){const d={node:y,background:y.style.backgroundColor,foreground:y.style.color},f=this.colorString();return y.style.backgroundColor=f.background,y.style.color=f.foreground,d}unhighlightNode(y){y.node.style.backgroundColor=y.background,y.node.style.color=y.foreground}}e.CssHighlighter=C},3090:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.highlighterMapping_=e.addEvents=e.highlighter=void 0;const M=v(6937),C=v(8396),x=v(933),y=v(2598),d=v(4500),f=v(7071),c=v(4346),s=v(2222);e.highlighter=function(a,o,l){const u=new C.ColorPicker(a,o),p=l.renderer==="NativeMML"&&l.browser==="Safari"?"MML-CSS":l.renderer==="SVG"&&l.browser==="v3"?"SVG-V3":l.renderer,h=new(e.highlighterMapping_[p]||e.highlighterMapping_.NativeMML);return h.setColor(u),h},e.addEvents=function(a,o,l){const u=e.highlighterMapping_[l.renderer];u&&new u().addEvents(a,o)},e.highlighterMapping_={SVG:c.SvgHighlighter,"SVG-V3":s.SvgV3Highlighter,NativeMML:f.MmlHighlighter,"HTML-CSS":y.HtmlHighlighter,"MML-CSS":d.MmlCssHighlighter,CommonHTML:x.CssHighlighter,CHTML:M.ChtmlHighlighter}},2598:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlHighlighter=void 0;const M=v(5740),C=v(5105);class x extends C.AbstractHighlighter{constructor(){super(),this.mactionName="maction"}highlightNode(d){const f={node:d,foreground:d.style.color,position:d.style.position},c=this.color.rgb();d.style.color=c.foreground,d.style.position="relative";const s=d.bbox;if(s&&s.w){const l=M.createElement("span"),u=parseFloat(d.style.paddingLeft||"0");l.style.backgroundColor=c.background,l.style.opacity=c.alphaback.toString(),l.style.display="inline-block",l.style.height=s.h+s.d+.1+"em",l.style.verticalAlign=-s.d+"em",l.style.marginTop=l.style.marginBottom=-.05+"em",l.style.width=s.w+0+"em",l.style.marginLeft=u-0+"em",l.style.marginRight=-s.w-0-u+"em",d.parentNode.insertBefore(l,d),f.box=l}return f}unhighlightNode(d){const f=d.node;f.style.color=d.foreground,f.style.position=d.position,d.box&&d.box.parentNode.removeChild(d.box)}}e.HtmlHighlighter=x},4500:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.MmlCssHighlighter=void 0;const M=v(933);class C extends M.CssHighlighter{constructor(){super(),this.mactionName="maction"}getMactionNodes(y){return Array.from(y.getElementsByTagName(this.mactionName))}isMactionNode(y){return y.tagName===this.mactionName}}e.MmlCssHighlighter=C},7071:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.MmlHighlighter=void 0;const M=v(5105);class C extends M.AbstractHighlighter{constructor(){super(),this.mactionName="maction"}highlightNode(y){let d=y.getAttribute("style");return d+=";background-color: "+this.colorString().background,d+=";color: "+this.colorString().foreground,y.setAttribute("style",d),{node:y}}unhighlightNode(y){let d=y.node.getAttribute("style");d=d.replace(";background-color: "+this.colorString().background,""),d=d.replace(";color: "+this.colorString().foreground,""),y.node.setAttribute("style",d)}colorString(){return this.color.rgba()}getMactionNodes(y){return Array.from(y.getElementsByTagName(this.mactionName))}isMactionNode(y){return y.tagName===this.mactionName}}e.MmlHighlighter=C},4346:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SvgHighlighter=void 0;const M=v(5740),C=v(5105);class x extends C.AbstractHighlighter{constructor(){super(),this.mactionName="mjx-svg-maction"}highlightNode(d){let f;if(this.isHighlighted(d))return f={node:d.previousSibling||d,background:d.style.backgroundColor,foreground:d.style.color},f;if(d.tagName==="svg"){const o={node:d,background:d.style.backgroundColor,foreground:d.style.color};return d.style.backgroundColor=this.colorString().background,d.style.color=this.colorString().foreground,o}const c=M.createElementNS("http://www.w3.org/2000/svg","rect");let s;if(d.nodeName==="use"){const o=M.createElementNS("http://www.w3.org/2000/svg","g");d.parentNode.insertBefore(o,d),o.appendChild(d),s=o.getBBox(),o.parentNode.replaceChild(d,o)}else s=d.getBBox();c.setAttribute("x",(s.x-40).toString()),c.setAttribute("y",(s.y-40).toString()),c.setAttribute("width",(s.width+80).toString()),c.setAttribute("height",(s.height+80).toString());const a=d.getAttribute("transform");return a&&c.setAttribute("transform",a),c.setAttribute("fill",this.colorString().background),c.setAttribute(C.AbstractHighlighter.ATTR,"true"),d.parentNode.insertBefore(c,d),f={node:c,foreground:d.getAttribute("fill")},d.setAttribute("fill",this.colorString().foreground),f}setHighlighted(d){d.tagName==="svg"&&super.setHighlighted(d)}unhighlightNode(d){if("background"in d)return d.node.style.backgroundColor=d.background,void(d.node.style.color=d.foreground);d.foreground?d.node.nextSibling.setAttribute("fill",d.foreground):d.node.nextSibling.removeAttribute("fill"),d.node.parentNode.removeChild(d.node)}isMactionNode(d){let f=d.className||d.getAttribute("class");return f=f.baseVal!==void 0?f.baseVal:f,!!f&&!!f.match(new RegExp(this.mactionName))}}e.SvgHighlighter=x},2222:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SvgV3Highlighter=void 0;const M=v(5740),C=v(5274),x=v(5105),y=v(8396),d=v(4346);class f extends d.SvgHighlighter{constructor(){super(),this.mactionName="maction"}highlightNode(s){let a;if(this.isHighlighted(s))return a={node:s,background:this.colorString().background,foreground:this.colorString().foreground},a;if(s.tagName==="svg"||s.tagName==="MJX-CONTAINER")return a={node:s,background:s.style.backgroundColor,foreground:s.style.color},s.style.backgroundColor=this.colorString().background,s.style.color=this.colorString().foreground,a;const o=M.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("sre-highlighter-added","true");const l=s.getBBox();o.setAttribute("x",(l.x-40).toString()),o.setAttribute("y",(l.y-40).toString()),o.setAttribute("width",(l.width+80).toString()),o.setAttribute("height",(l.height+80).toString());const u=s.getAttribute("transform");if(u&&o.setAttribute("transform",u),o.setAttribute("fill",this.colorString().background),s.setAttribute(x.AbstractHighlighter.ATTR,"true"),s.parentNode.insertBefore(o,s),a={node:s,foreground:s.getAttribute("fill")},s.nodeName==="rect"){const p=new y.ColorPicker({alpha:0,color:"black"});s.setAttribute("fill",p.rgba().foreground)}else s.setAttribute("fill",this.colorString().foreground);return a}unhighlightNode(s){const a=s.node.previousSibling;if(a&&a.hasAttribute("sre-highlighter-added"))return s.foreground?s.node.setAttribute("fill",s.foreground):s.node.removeAttribute("fill"),void s.node.parentNode.removeChild(a);s.node.style.backgroundColor=s.background,s.node.style.color=s.foreground}isMactionNode(s){return s.getAttribute("data-mml-node")===this.mactionName}getMactionNodes(s){return Array.from(C.evalXPath(`.//*[@data-mml-node="${this.mactionName}"]`,s))}}e.SvgV3Highlighter=f},7222:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.StaticTrieNode=e.AbstractTrieNode=void 0;const M=v(2057),C=v(4391);class x{constructor(d,f){this.constraint=d,this.test=f,this.children_={},this.kind=C.TrieNodeKind.ROOT}getConstraint(){return this.constraint}getKind(){return this.kind}applyTest(d){return this.test(d)}addChild(d){const f=d.getConstraint(),c=this.children_[f];return this.children_[f]=d,c}getChild(d){return this.children_[d]}getChildren(){const d=[];for(const f in this.children_)d.push(this.children_[f]);return d}findChildren(d){const f=[];for(const c in this.children_){const s=this.children_[c];s.applyTest(d)&&f.push(s)}return f}removeChild(d){delete this.children_[d]}toString(){return this.constraint}}e.AbstractTrieNode=x,e.StaticTrieNode=class extends x{constructor(y,d){super(y,d),this.rule_=null,this.kind=C.TrieNodeKind.STATIC}getRule(){return this.rule_}setRule(y){this.rule_&&M.Debugger.getInstance().output("Replacing rule "+this.rule_+" with "+y),this.rule_=y}toString(){return this.getRule()?this.constraint+`
==> `+this.getRule().action:this.constraint}}},4508:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.Trie=void 0;const M=v(4391),C=v(9701);class x{constructor(){this.root=(0,C.getNode)(M.TrieNodeKind.ROOT,"",null)}static collectRules_(d){const f=[];let c=[d];for(;c.length;){const s=c.shift();if(s.getKind()===M.TrieNodeKind.QUERY||s.getKind()===M.TrieNodeKind.BOOLEAN){const a=s.getRule();a&&f.unshift(a)}c=c.concat(s.getChildren())}return f}static printWithDepth_(d,f,c){c+=new Array(f+2).join(f.toString())+": "+d.toString()+`
`;const s=d.getChildren();for(let a,o=0;a=s[o];o++)c=x.printWithDepth_(a,f+1,c);return c}static order_(d){const f=d.getChildren();if(!f.length)return 0;const c=Math.max.apply(null,f.map(x.order_));return Math.max(f.length,c)}addRule(d){let f=this.root;const c=d.context,s=d.dynamicCstr.getValues();for(let o=0,l=s.length;o<l;o++)f=this.addNode_(f,s[o],M.TrieNodeKind.DYNAMIC,c);f=this.addNode_(f,d.precondition.query,M.TrieNodeKind.QUERY,c);const a=d.precondition.constraints;for(let o=0,l=a.length;o<l;o++)f=this.addNode_(f,a[o],M.TrieNodeKind.BOOLEAN,c);f.setRule(d)}lookupRules(d,f){let c=[this.root];const s=[];for(;f.length;){const a=f.shift(),o=[];for(;c.length;)c.shift().getChildren().forEach(l=>{l.getKind()===M.TrieNodeKind.DYNAMIC&&a.indexOf(l.getConstraint())===-1||o.push(l)});c=o.slice()}for(;c.length;){const a=c.shift();if(a.getRule){const l=a.getRule();l&&s.push(l)}const o=a.findChildren(d);c=c.concat(o)}return s}hasSubtrie(d){let f=this.root;for(let c=0,s=d.length;c<s;c++){const a=d[c];if(f=f.getChild(a),!f)return!1}return!0}toString(){return x.printWithDepth_(this.root,0,"")}collectRules(){return x.collectRules_(this.root)}order(){return x.order_(this.root)}enumerate(d){return this.enumerate_(this.root,d)}byConstraint(d){let f=this.root;for(;d.length&&f;){const c=d.shift();f=f.getChild(c)}return f||null}enumerate_(d,f){f=f||{};const c=d.getChildren();for(let s,a=0;s=c[a];a++)s.kind===M.TrieNodeKind.DYNAMIC&&(f[s.getConstraint()]=this.enumerate_(s,f[s.getConstraint()]));return f}addNode_(d,f,c,s){let a=d.getChild(f);return a||(a=(0,C.getNode)(c,f,s),d.addChild(a)),a}}e.Trie=x},4391:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TrieNodeKind=void 0,function(v){v.ROOT="root",v.DYNAMIC="dynamic",v.QUERY="query",v.BOOLEAN="boolean",v.STATIC="static"}(e.TrieNodeKind||(e.TrieNodeKind={}))},9701:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.BooleanTrieNode=e.QueryTrieNode=e.constraintTest_=e.DynamicTrieNode=e.RootTrieNode=e.getNode=void 0;const M=v(5740),C=v(5274),x=v(2105),y=v(2780),d=v(7222),f=v(7222),c=v(4391);e.getNode=function(h,m,g){switch(h){case c.TrieNodeKind.ROOT:return new s;case c.TrieNodeKind.DYNAMIC:return new a(m);case c.TrieNodeKind.QUERY:return new u(m,g);case c.TrieNodeKind.BOOLEAN:return new p(m,g);default:return null}};class s extends d.AbstractTrieNode{constructor(){super("",()=>!0),this.kind=c.TrieNodeKind.ROOT}}e.RootTrieNode=s;class a extends d.AbstractTrieNode{constructor(m){super(m,g=>g===m),this.kind=c.TrieNodeKind.DYNAMIC}}e.DynamicTrieNode=a;const o={"=":(h,m)=>h===m,"!=":(h,m)=>h!==m,"<":(h,m)=>h<m,">":(h,m)=>h>m,"<=":(h,m)=>h<=m,">=":(h,m)=>h>=m};function l(h){if(h.match(/^self::\*$/))return m=>!0;if(h.match(/^self::\w+$/)){const m=h.slice(6).toUpperCase();return g=>g.tagName&&M.tagName(g)===m}if(h.match(/^self::\w+:\w+$/)){const m=h.split(":"),g=C.resolveNameSpace(m[2]);if(!g)return null;const E=m[3].toUpperCase();return S=>S.localName&&S.localName.toUpperCase()===E&&S.namespaceURI===g}if(h.match(/^@\w+$/)){const m=h.slice(1);return g=>g.hasAttribute&&g.hasAttribute(m)}if(h.match(/^@\w+="[\w\d ]+"$/)){const m=h.split("="),g=m[0].slice(1),E=m[1].slice(1,-1);return S=>S.hasAttribute&&S.hasAttribute(g)&&S.getAttribute(g)===E}if(h.match(/^@\w+!="[\w\d ]+"$/)){const m=h.split("!="),g=m[0].slice(1),E=m[1].slice(1,-1);return S=>!S.hasAttribute||!S.hasAttribute(g)||S.getAttribute(g)!==E}if(h.match(/^contains\(\s*@grammar\s*,\s*"[\w\d ]+"\s*\)$/)){const m=h.split('"')[1];return g=>!!x.Grammar.getInstance().getParameter(m)}if(h.match(/^not\(\s*contains\(\s*@grammar\s*,\s*"[\w\d ]+"\s*\)\s*\)$/)){const m=h.split('"')[1];return g=>!x.Grammar.getInstance().getParameter(m)}if(h.match(/^name\(\.\.\/\.\.\)="\w+"$/)){const m=h.split('"')[1].toUpperCase();return g=>{var E,S;return((S=(E=g.parentNode)===null||E===void 0?void 0:E.parentNode)===null||S===void 0?void 0:S.tagName)&&M.tagName(g.parentNode.parentNode)===m}}if(h.match(/^count\(preceding-sibling::\*\)=\d+$/)){const m=h.split("="),g=parseInt(m[1],10);return E=>{var S;return((S=E.parentNode)===null||S===void 0?void 0:S.childNodes[g])===E}}if(h.match(/^.+\[@category!?=".+"\]$/)){let[,m,g,E]=h.match(/^(.+)\[@category(!?=)"(.+)"\]$/);const S=E.match(/^unit:(.+)$/);let O="";return S&&(E=S[1],O=":unit"),A=>{const _=C.evalXPath(m,A)[0];if(_){const T=y.lookupCategory(_.textContent+O);return g==="="?T===E:T!==E}return!1}}if(h.match(/^string-length\(.+\)\W+\d+/)){const[,m,g,E]=h.match(/^string-length\((.+)\)(\W+)(\d+)/),S=o[g]||o["="],O=parseInt(E,10);return A=>{const _=C.evalXPath(m,A)[0];return!!_&&S(Array.from(_.textContent).length,O)}}return null}e.constraintTest_=l;class u extends f.StaticTrieNode{constructor(m,g){super(m,l(m)),this.context=g,this.kind=c.TrieNodeKind.QUERY}applyTest(m){return this.test?this.test(m):this.context.applyQuery(m,this.constraint)===m}}e.QueryTrieNode=u;class p extends f.StaticTrieNode{constructor(m,g){super(m,l(m)),this.context=g,this.kind=c.TrieNodeKind.BOOLEAN}applyTest(m){return this.test?this.test(m):this.context.applyConstraint(m,this.constraint)}}e.BooleanTrieNode=p},7491:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.completeLocale=e.getLocale=e.setLocale=e.locales=void 0;const M=v(5897),C=v(1377),x=v(2105),y=v(4249),d=v(8657),f=v(173),c=v(9393),s=v(7978),a=v(5540),o=v(5218),l=v(3887),u=v(8384),p=v(7206),h=v(7734),m=v(7264),g=v(4356);function E(){const S=C.Variables.ensureLocale(M.default.getInstance().locale,M.default.getInstance().defaultLocale);return M.default.getInstance().locale=S,e.locales[S]()}e.locales={ca:y.ca,da:d.da,de:f.de,en:c.en,es:s.es,fr:a.fr,hi:o.hi,it:l.it,nb:u.nb,nn:h.nn,sv:m.sv,nemeth:p.nemeth},e.setLocale=function(){const S=E();if(function(O){const A=M.default.getInstance().subiso;O.SUBISO.all.indexOf(A)===-1&&(M.default.getInstance().subiso=O.SUBISO.default),O.SUBISO.current=M.default.getInstance().subiso}(S),S){for(const O of Object.getOwnPropertyNames(S))g.LOCALE[O]=S[O];for(const[O,A]of Object.entries(S.CORRECTIONS))x.Grammar.getInstance().setCorrection(O,A)}},e.getLocale=E,e.completeLocale=function(S){const O=e.locales[S.locale];if(!O)return void console.error("Locale "+S.locale+" does not exist!");const A=S.kind.toUpperCase(),_=S.messages;if(!_)return;const T=O();for(const[N,w]of Object.entries(_))T[A][N]=w}},4356:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.createLocale=e.LOCALE=void 0;const M=v(7549);function C(){return{FUNCTIONS:(0,M.FUNCTIONS)(),MESSAGES:(0,M.MESSAGES)(),ALPHABETS:(0,M.ALPHABETS)(),NUMBERS:(0,M.NUMBERS)(),COMBINERS:{},CORRECTIONS:{},SUBISO:(0,M.SUBISO)()}}e.LOCALE=C(),e.createLocale=C},2536:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.localeFontCombiner=e.extractString=e.localEnclose=e.localRole=e.localFont=e.combinePostfixIndex=e.nestingToString=void 0;const M=v(4356),C=v(4977);function x(y,d){return y===void 0?d:typeof y=="string"?y:y[0]}e.nestingToString=function(y){switch(y){case 1:return M.LOCALE.MESSAGES.MS.ONCE||"";case 2:return M.LOCALE.MESSAGES.MS.TWICE;default:return y.toString()}},e.combinePostfixIndex=function(y,d){return y===M.LOCALE.MESSAGES.MS.ROOTINDEX||y===M.LOCALE.MESSAGES.MS.INDEX?y:y+" "+d},e.localFont=function(y){return x(M.LOCALE.MESSAGES.font[y],y)},e.localRole=function(y){return x(M.LOCALE.MESSAGES.role[y],y)},e.localEnclose=function(y){return x(M.LOCALE.MESSAGES.enclose[y],y)},e.extractString=x,e.localeFontCombiner=function(y){return typeof y=="string"?{font:y,combiner:M.LOCALE.ALPHABETS.combiner}:{font:y[0],combiner:M.LOCALE.COMBINERS[y[1]]||C.Combiners[y[1]]||M.LOCALE.ALPHABETS.combiner}}},4249:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.ca=void 0;const M=v(4356),C=v(2536),x=v(614),y=v(4977),d=function(c,s,a){return c="sans serif "+(a?a+" "+c:c),s?c+" "+s:c};let f=null;e.ca=function(){return f||(f=function(){const c=(0,M.createLocale)();return c.NUMBERS=x.default,c.COMBINERS.sansserif=d,c.FUNCTIONS.fracNestDepth=s=>!1,c.FUNCTIONS.combineRootIndex=C.combinePostfixIndex,c.FUNCTIONS.combineNestedRadical=(s,a,o)=>s+o,c.FUNCTIONS.fontRegexp=s=>RegExp("^"+s+" "),c.FUNCTIONS.plural=s=>/.*os$/.test(s)?s+"sos":/.*s$/.test(s)?s+"os":/.*ga$/.test(s)?s.slice(0,-2)+"gues":/.*\xe7a$/.test(s)?s.slice(0,-2)+"ces":/.*ca$/.test(s)?s.slice(0,-2)+"ques":/.*ja$/.test(s)?s.slice(0,-2)+"ges":/.*qua$/.test(s)?s.slice(0,-3)+"qes":/.*a$/.test(s)?s.slice(0,-1)+"es":/.*(e|i)$/.test(s)?s+"ns":/.*\xed$/.test(s)?s.slice(0,-1)+"ins":s+"s",c.FUNCTIONS.si=(s,a)=>(a.match(/^metre/)&&(s=s.replace(/a$/,"").replace(/o$/,"").replace(/i$/,"")),s+a),c.ALPHABETS.combiner=y.Combiners.prefixCombiner,c}()),f}},8657:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.da=void 0;const M=v(4356),C=v(2536),x=v(3866),y=v(4977);let d=null;e.da=function(){return d||(d=function(){const f=(0,M.createLocale)();return f.NUMBERS=x.default,f.FUNCTIONS.radicalNestDepth=C.nestingToString,f.FUNCTIONS.fontRegexp=c=>c===f.ALPHABETS.capPrefix.default?RegExp("^"+c+" "):RegExp(" "+c+"$"),f.ALPHABETS.combiner=y.Combiners.postfixCombiner,f.ALPHABETS.digitTrans.default=x.default.numberToWords,f}()),d}},173:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.de=void 0;const M=v(2105),C=v(2536),x=v(4356),y=v(1435),d=function(s,a,o){return o==="s"&&(a=a.split(" ").map(function(l){return l.replace(/s$/,"")}).join(" "),o=""),s=o?o+" "+s:s,a?a+" "+s:s},f=function(s,a,o){return s=o&&o!=="s"?o+" "+s:s,a?s+" "+a:s};let c=null;e.de=function(){return c||(c=function(){const s=(0,x.createLocale)();return s.NUMBERS=y.default,s.COMBINERS.germanPostfix=f,s.ALPHABETS.combiner=d,s.FUNCTIONS.radicalNestDepth=a=>a>1?s.NUMBERS.numberToWords(a)+"fach":"",s.FUNCTIONS.combineRootIndex=(a,o)=>{const l=o?o+"wurzel":"";return a.replace("Wurzel",l)},s.FUNCTIONS.combineNestedRadical=(a,o,l)=>{const u=(o?o+" ":"")+(a=l.match(/exponent$/)?a+"r":a);return l.match(/ /)?l.replace(/ /," "+u+" "):u+" "+l},s.FUNCTIONS.fontRegexp=function(a){return a=a.split(" ").map(function(o){return o.replace(/s$/,"(|s)")}).join(" "),new RegExp("((^"+a+" )|( "+a+"$))")},s.CORRECTIONS.correctOne=a=>a.replace(/^eins$/,"ein"),s.CORRECTIONS.localFontNumber=a=>(0,C.localFont)(a).split(" ").map(function(o){return o.replace(/s$/,"")}).join(" "),s.CORRECTIONS.lowercase=a=>a.toLowerCase(),s.CORRECTIONS.article=a=>{const o=M.Grammar.getInstance().getParameter("case"),l=M.Grammar.getInstance().getParameter("plural");return o==="dative"?{der:"dem",die:l?"den":"der",das:"dem"}[a]:a},s.CORRECTIONS.masculine=a=>M.Grammar.getInstance().getParameter("case")==="dative"?a+"n":a,s}()),c}},9393:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.en=void 0;const M=v(2105),C=v(4356),x=v(2536),y=v(310),d=v(4977);let f=null;e.en=function(){return f||(f=function(){const c=(0,C.createLocale)();return c.NUMBERS=y.default,c.FUNCTIONS.radicalNestDepth=x.nestingToString,c.FUNCTIONS.plural=s=>/.*s$/.test(s)?s:s+"s",c.ALPHABETS.combiner=d.Combiners.prefixCombiner,c.ALPHABETS.digitTrans.default=y.default.numberToWords,c.CORRECTIONS.article=s=>M.Grammar.getInstance().getParameter("noArticle")?"":s,c}()),f}},7978:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.es=void 0;const M=v(4356),C=v(2536),x=v(4634),y=v(4977),d=function(c,s,a){return c="sans serif "+(a?a+" "+c:c),s?c+" "+s:c};let f=null;e.es=function(){return f||(f=function(){const c=(0,M.createLocale)();return c.NUMBERS=x.default,c.COMBINERS.sansserif=d,c.FUNCTIONS.fracNestDepth=s=>!1,c.FUNCTIONS.combineRootIndex=C.combinePostfixIndex,c.FUNCTIONS.combineNestedRadical=(s,a,o)=>s+o,c.FUNCTIONS.fontRegexp=s=>RegExp("^"+s+" "),c.FUNCTIONS.plural=s=>/.*(a|e|i|o|u)$/.test(s)?s+"s":/.*z$/.test(s)?s.slice(0,-1)+"ces":/.*c$/.test(s)?s.slice(0,-1)+"ques":/.*g$/.test(s)?s+"ues":/.*\u00f3n$/.test(s)?s.slice(0,-2)+"ones":s+"es",c.FUNCTIONS.si=(s,a)=>(a.match(/^metro/)&&(s=s.replace(/a$/,"").replace(/o$/,"").replace(/i$/,"")),s+a),c.ALPHABETS.combiner=y.Combiners.prefixCombiner,c}()),f}},5540:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.fr=void 0;const M=v(2105),C=v(4356),x=v(2536),y=v(2350),d=v(4977);let f=null;e.fr=function(){return f||(f=function(){const c=(0,C.createLocale)();return c.NUMBERS=y.default,c.FUNCTIONS.radicalNestDepth=x.nestingToString,c.FUNCTIONS.combineRootIndex=x.combinePostfixIndex,c.FUNCTIONS.combineNestedFraction=(s,a,o)=>o.replace(/ $/g,"")+a+s,c.FUNCTIONS.combineNestedRadical=(s,a,o)=>o+" "+s,c.FUNCTIONS.fontRegexp=s=>RegExp(" (en |)"+s+"$"),c.FUNCTIONS.plural=s=>/.*s$/.test(s)?s:s+"s",c.CORRECTIONS.article=s=>M.Grammar.getInstance().getParameter("noArticle")?"":s,c.ALPHABETS.combiner=d.Combiners.romanceCombiner,c.SUBISO={default:"fr",current:"fr",all:["fr","be","ch"]},c}()),f}},5218:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.hi=void 0;const M=v(4356),C=v(4438),x=v(4977),y=v(2536);let d=null;e.hi=function(){return d||(d=function(){const f=(0,M.createLocale)();return f.NUMBERS=C.default,f.ALPHABETS.combiner=x.Combiners.prefixCombiner,f.FUNCTIONS.radicalNestDepth=y.nestingToString,f}()),d}},3887:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.it=void 0;const M=v(2536),C=v(4356),x=v(8825),y=v(4977),d=function(c,s,a){return c.match(/^[a-zA-Z]$/)&&(s=s.replace("cerchiato","cerchiata")),c=a?c+" "+a:c,s?c+" "+s:c};let f=null;e.it=function(){return f||(f=function(){const c=(0,C.createLocale)();return c.NUMBERS=x.default,c.COMBINERS.italianPostfix=d,c.FUNCTIONS.radicalNestDepth=M.nestingToString,c.FUNCTIONS.combineRootIndex=M.combinePostfixIndex,c.FUNCTIONS.combineNestedFraction=(s,a,o)=>o.replace(/ $/g,"")+a+s,c.FUNCTIONS.combineNestedRadical=(s,a,o)=>o+" "+s,c.FUNCTIONS.fontRegexp=s=>RegExp(" (en |)"+s+"$"),c.ALPHABETS.combiner=y.Combiners.romanceCombiner,c}()),f}},8384:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.nb=void 0;const M=v(4356),C=v(2536),x=v(8274),y=v(4977);let d=null;e.nb=function(){return d||(d=function(){const f=(0,M.createLocale)();return f.NUMBERS=x.default,f.ALPHABETS.combiner=y.Combiners.prefixCombiner,f.ALPHABETS.digitTrans.default=x.default.numberToWords,f.FUNCTIONS.radicalNestDepth=C.nestingToString,f}()),d}},7206:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.nemeth=void 0;const M=v(4356),C=v(3720),x=v(4977),y=function(l){return l.match(RegExp("^"+o.ALPHABETS.languagePrefix.english))?l.slice(1):l},d=function(l,u,p){return l=y(l),u?l+u:l},f=function(l,u,p){return u+y(l)},c=function(l,u,p){return u+(p||"")+(l=y(l))+""},s=function(l,u,p){return u+(p||"")+(l=y(l))+""},a=function(l,u,p){return u+(l=y(l))+""};let o=null;e.nemeth=function(){return o||(o=function(){const l=(0,M.createLocale)();return l.NUMBERS=C.default,l.COMBINERS={postfixCombiner:d,germanCombiner:f,embellishCombiner:c,doubleEmbellishCombiner:s,parensCombiner:a},l.FUNCTIONS.fracNestDepth=u=>!1,l.FUNCTIONS.fontRegexp=u=>RegExp("^"+u),l.FUNCTIONS.si=x.identityTransformer,l.ALPHABETS.combiner=(u,p,h)=>p?p+h+u:y(u),l.ALPHABETS.digitTrans={default:C.default.numberToWords},l}()),o}},7734:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.nn=void 0;const M=v(4356),C=v(2536),x=v(8274),y=v(4977);let d=null;e.nn=function(){return d||(d=function(){const f=(0,M.createLocale)();return f.NUMBERS=x.default,f.ALPHABETS.combiner=y.Combiners.prefixCombiner,f.ALPHABETS.digitTrans.default=x.default.numberToWords,f.FUNCTIONS.radicalNestDepth=C.nestingToString,f.SUBISO={default:"",current:"",all:["","alt"]},f}()),d}},7264:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.sv=void 0;const M=v(4356),C=v(2536),x=v(3898),y=v(4977);let d=null;e.sv=function(){return d||(d=function(){const f=(0,M.createLocale)();return f.NUMBERS=x.default,f.FUNCTIONS.radicalNestDepth=C.nestingToString,f.FUNCTIONS.fontRegexp=function(c){return new RegExp("((^"+c+" )|( "+c+"$))")},f.ALPHABETS.combiner=y.Combiners.prefixCombiner,f.ALPHABETS.digitTrans.default=x.default.numberToWords,f.CORRECTIONS.correctOne=c=>c.replace(/^ett$/,"en"),f}()),d}},7549:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SUBISO=e.FUNCTIONS=e.ALPHABETS=e.NUMBERS=e.MESSAGES=void 0;const M=v(4977);e.MESSAGES=function(){return{MS:{},MSroots:{},font:{},embellish:{},role:{},enclose:{},navigate:{},regexp:{},unitTimes:""}},e.NUMBERS=function(){return{zero:"zero",ones:[],tens:[],large:[],special:{},wordOrdinal:M.identityTransformer,numericOrdinal:M.identityTransformer,numberToWords:M.identityTransformer,numberToOrdinal:M.pluralCase,vulgarSep:" ",numSep:" "}},e.ALPHABETS=function(){return{latinSmall:[],latinCap:[],greekSmall:[],greekCap:[],capPrefix:{default:""},smallPrefix:{default:""},digitPrefix:{default:""},languagePrefix:{},digitTrans:{default:M.identityTransformer,mathspeak:M.identityTransformer,clearspeak:M.identityTransformer},letterTrans:{default:M.identityTransformer},combiner:(C,x,y)=>C}},e.FUNCTIONS=function(){return{fracNestDepth:C=>M.vulgarFractionSmall(C,10,100),radicalNestDepth:C=>"",combineRootIndex:function(C,x){return C},combineNestedFraction:M.Combiners.identityCombiner,combineNestedRadical:M.Combiners.identityCombiner,fontRegexp:function(C){return new RegExp("^"+C.split(/ |-/).join("( |-)")+"( |-)")},si:M.siCombiner,plural:M.identityTransformer}},e.SUBISO=function(){return{default:"",current:"",all:[]}}},614:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(2105);function C(f){const c=f%1e3,s=Math.floor(c/100),a=s?s===1?"cent":d.ones[s]+"-cents":"",o=function(l){const u=l%100;if(u<20)return d.ones[u];const p=Math.floor(u/10),h=d.tens[p],m=d.ones[u%10];return h&&m?h+(p===2?"-i-":"-")+m:h||m}(c%100);return a&&o?a+d.numSep+o:a||o}function x(f){if(f===0)return d.zero;if(f>=Math.pow(10,36))return f.toString();let c=0,s="";for(;f>0;){const a=f%(c>1?1e6:1e3);if(a){let o=d.large[c];if(c)if(c===1)s=(a===1?"":C(a)+d.numSep)+o+(s?d.numSep+s:"");else{const l=x(a);o=a===1?o:o.replace(/\u00f3$/,"ons"),s=l+d.numSep+o+(s?d.numSep+s:"")}else s=C(a)}f=Math.floor(f/(c>1?1e6:1e3)),c++}return s}function y(f){const c=M.Grammar.getInstance().getParameter("gender");return f.toString()+(c==="f"?"a":"n")}const d=(0,v(7549).NUMBERS)();d.numericOrdinal=y,d.numberToWords=x,d.numberToOrdinal=function(f,c){if(f>1999)return y(f);if(f<=10)return d.special.onesOrdinals[f-1];const s=x(f);return s.match(/mil$/)?s.replace(/mil$/,"millsima"):s.match(/u$/)?s.replace(/u$/,"vena"):s.match(/a$/)?s.replace(/a$/,"ena"):s+(s.match(/e$/)?"na":"ena")},e.default=d},3866:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});function M(f,c=!1){return f===d.ones[1]?c?"et":"en":f}function C(f,c=!1){let s=f%1e3,a="",o=d.ones[Math.floor(s/100)];if(a+=o?M(o,!0)+" hundrede":"",s%=100,s)if(a+=a?" og ":"",o=c?d.special.smallOrdinals[s]:d.ones[s],o)a+=o;else{const l=c?d.special.tensOrdinals[Math.floor(s/10)]:d.tens[Math.floor(s/10)];o=d.ones[s%10],a+=o?M(o)+"og"+l:l}return a}function x(f,c=!1){if(f===0)return d.zero;if(f>=Math.pow(10,36))return f.toString();let s=0,a="";for(;f>0;){const o=f%1e3;if(o){const l=C(o,c&&!s);if(s){const u=d.large[s],p=o>1?"er":"";a=M(l,s<=1)+" "+u+p+(a?" og ":"")+a}else a=M(l)+a}f=Math.floor(f/1e3),s++}return a}function y(f){if(f%100)return x(f,!0);const c=x(f);return c.match(/e$/)?c:c+"e"}const d=(0,v(7549).NUMBERS)();d.wordOrdinal=y,d.numericOrdinal=function(f){return f.toString()+"."},d.numberToWords=x,d.numberToOrdinal=function(f,c){return f===1?c?"hel":"hele":f===2?c?"halv":"halve":y(f)+(c?"dele":"del")},e.default=d},1435:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});function M(f,c=!1){return f===d.ones[1]?c?"eine":"ein":f}function C(f){let c=f%1e3,s="",a=d.ones[Math.floor(c/100)];if(s+=a?M(a)+"hundert":"",c%=100,c)if(s+=s?d.numSep:"",a=d.ones[c],a)s+=a;else{const o=d.tens[Math.floor(c/10)];a=d.ones[c%10],s+=a?M(a)+"und"+o:o}return s}function x(f){if(f===0)return d.zero;if(f>=Math.pow(10,36))return f.toString();let c=0,s="";for(;f>0;){const a=f%1e3;if(a){const o=C(f%1e3);if(c){const l=d.large[c],u=c>1&&a>1?l.match(/e$/)?"n":"en":"";s=M(o,c>1)+l+u+s}else s=M(o,c>1)+s}f=Math.floor(f/1e3),c++}return s.replace(/ein$/,"eins")}function y(f){return f===1?"erste":f===3?"dritte":f===7?"siebte":f===8?"achte":x(f)+(f<19?"te":"ste")}const d=(0,v(7549).NUMBERS)();d.wordOrdinal=y,d.numericOrdinal=function(f){return f.toString()+"."},d.numberToWords=x,d.numberToOrdinal=function(f,c){return f===1?"eintel":f===2?c?"halbe":"halb":y(f)+"l"},e.default=d},310:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});function M(d){let f=d%1e3,c="";return c+=y.ones[Math.floor(f/100)]?y.ones[Math.floor(f/100)]+y.numSep+"hundred":"",f%=100,f&&(c+=c?y.numSep:"",c+=y.ones[f]||y.tens[Math.floor(f/10)]+(f%10?y.numSep+y.ones[f%10]:"")),c}function C(d){if(d===0)return y.zero;if(d>=Math.pow(10,36))return d.toString();let f=0,c="";for(;d>0;)d%1e3&&(c=M(d%1e3)+(f?"-"+y.large[f]+"-":"")+c),d=Math.floor(d/1e3),f++;return c.replace(/-$/,"")}function x(d){let f=C(d);return f.match(/one$/)?f=f.slice(0,-3)+"first":f.match(/two$/)?f=f.slice(0,-3)+"second":f.match(/three$/)?f=f.slice(0,-5)+"third":f.match(/five$/)?f=f.slice(0,-4)+"fifth":f.match(/eight$/)?f=f.slice(0,-5)+"eighth":f.match(/nine$/)?f=f.slice(0,-4)+"ninth":f.match(/twelve$/)?f=f.slice(0,-6)+"twelfth":f.match(/ty$/)?f=f.slice(0,-2)+"tieth":f+="th",f}const y=(0,v(7549).NUMBERS)();y.wordOrdinal=x,y.numericOrdinal=function(d){const f=d%100,c=d.toString();if(f>10&&f<20)return c+"th";switch(d%10){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd";default:return c+"th"}},y.numberToWords=C,y.numberToOrdinal=function(d,f){if(d===1)return f?"oneths":"oneth";if(d===2)return f?"halves":"half";const c=x(d);return f?c+"s":c},e.default=y},4634:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(2105);function C(y){const d=y%1e3,f=Math.floor(d/100),c=x.special.hundreds[f],s=function(a){const o=a%100;if(o<30)return x.ones[o];const l=x.tens[Math.floor(o/10)],u=x.ones[o%10];return l&&u?l+" y "+u:l||u}(d%100);return f===1?s?c+"to "+s:c:c&&s?c+" "+s:c||s}const x=(0,v(7549).NUMBERS)();x.numericOrdinal=function(y){const d=M.Grammar.getInstance().getParameter("gender");return y.toString()+(d==="f"?"a":"o")},x.numberToWords=function(y){if(y===0)return x.zero;if(y>=Math.pow(10,36))return y.toString();let d=0,f="";for(;y>0;){const c=y%1e3;if(c){let s=x.large[d];const a=C(c);d?c===1?(s=s.match("/^mil( |$)/")?s:"un "+s,f=s+(f?" "+f:"")):(s=s.replace(/\u00f3n$/,"ones"),f=C(c)+" "+s+(f?" "+f:"")):f=a}y=Math.floor(y/1e3),d++}return f},x.numberToOrdinal=function(y,d){if(y>1999)return y.toString()+"a";if(y<=12)return x.special.onesOrdinals[y-1];const f=[];if(y>=1e3&&(y-=1e3,f.push("milsima")),!y)return f.join(" ");let c=0;return c=Math.floor(y/100),c>0&&(f.push(x.special.hundredsOrdinals[c-1]),y%=100),y<=12?f.push(x.special.onesOrdinals[y-1]):(c=Math.floor(y/10),c>0&&(f.push(x.special.tensOrdinals[c-1]),y%=10),y>0&&f.push(x.special.onesOrdinals[y-1])),f.join(" ")},e.default=x},2350:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(5897),C=v(2105),x=v(7549);function y(a){let o=a%1e3,l="";if(l+=s.ones[Math.floor(o/100)]?s.ones[Math.floor(o/100)]+"-cent":"",o%=100,o){l+=l?"-":"";let p=s.ones[o];if(p)l+=p;else{const h=s.tens[Math.floor(o/10)];h.match(/-dix$/)?(p=s.ones[o%10+10],l+=h.replace(/-dix$/,"")+"-"+p):l+=h+(o%10?"-"+s.ones[o%10]:"")}}const u=l.match(/s-\w+$/);return u?l.replace(/s-\w+$/,u[0].slice(1)):l.replace(/-un$/,"-et-un")}function d(a){if(a===0)return s.zero;if(a>=Math.pow(10,36))return a.toString();s.special["tens-"+M.default.getInstance().subiso]&&(s.tens=s.special["tens-"+M.default.getInstance().subiso]);let o=0,l="";for(;a>0;){const u=a%1e3;if(u){let p=s.large[o];const h=y(u);if(p&&p.match(/^mille /)){const m=p.replace(/^mille /,"");l=l.match(RegExp(m))?h+(o?"-mille-":"")+l:l.match(RegExp(m.replace(/s$/,"")))?h+(o?"-mille-":"")+l.replace(m.replace(/s$/,""),m):h+(o?"-"+p+"-":"")+l}else p=u===1&&p?p.replace(/s$/,""):p,l=h+(o?"-"+p+"-":"")+l}a=Math.floor(a/1e3),o++}return l.replace(/-$/,"")}const f={1:"unime",2:"demi",3:"tiers",4:"quart"};function c(a){if(a===1)return"premire";let o=d(a);return o.match(/^neuf$/)?o=o.slice(0,-1)+"v":o.match(/cinq$/)?o+="u":o.match(/trois$/)?o+="":(o.match(/e$/)||o.match(/s$/))&&(o=o.slice(0,-1)),o+="ime",o}const s=(0,x.NUMBERS)();s.wordOrdinal=c,s.numericOrdinal=function(a){const o=C.Grammar.getInstance().getParameter("gender");return a===1?a.toString()+(o==="m"?"er":"re"):a.toString()+"e"},s.numberToWords=d,s.numberToOrdinal=function(a,o){const l=f[a]||c(a);return a===3?l:o?l+"s":l},e.default=s},4438:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(2105);function C(d){if(d===0)return y.zero;if(d>=Math.pow(10,32))return d.toString();let f=0,c="";const s=function(a){let o=a%1e3,l="";return l+=y.ones[Math.floor(o/100)]?y.ones[Math.floor(o/100)]+y.numSep+y.special.hundred:"",o%=100,o&&(l+=l?y.numSep:"",l+=y.ones[o]),l}(d%1e3);if(!(d=Math.floor(d/1e3)))return s;for(;d>0;){const a=d%100;a&&(c=y.ones[a]+y.numSep+y.large[f]+(c?y.numSep+c:"")),d=Math.floor(d/100),f++}return s?c+y.numSep+s:c}function x(d){const f=M.Grammar.getInstance().getParameter("gender");return d<=0?d.toString():d<10?f==="f"?y.special.ordinalsFeminine[d]:y.special.ordinalsMasculine[d]:C(d)+(f==="f"?"":"")}const y=(0,v(7549).NUMBERS)();y.wordOrdinal=x,y.numericOrdinal=function(d){const f=M.Grammar.getInstance().getParameter("gender");return d>0&&d<10?f==="f"?y.special.simpleSmallOrdinalsFeminine[d]:y.special.simpleSmallOrdinalsMasculine[d]:d.toString().split("").map(function(c){const s=parseInt(c,10);return isNaN(s)?"":y.special.simpleNumbers[s]}).join("")+(f==="f"?"":"")},y.numberToWords=C,y.numberToOrdinal=function(d,f){return d<=10?y.special.smallDenominators[d]:x(d)+" "},e.default=y},8825:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(2105);function C(f){let c=f%1e3,s="";if(s+=d.ones[Math.floor(c/100)]?d.ones[Math.floor(c/100)]+d.numSep+"cento":"",c%=100,c){s+=s?d.numSep:"";const a=d.ones[c];if(a)s+=a;else{let o=d.tens[Math.floor(c/10)];const l=c%10;l!==1&&l!==8||(o=o.slice(0,-1)),s+=o,s+=l?d.numSep+d.ones[c%10]:""}}return s}function x(f){if(f===0)return d.zero;if(f>=Math.pow(10,36))return f.toString();if(f===1&&M.Grammar.getInstance().getParameter("fraction"))return"un";let c=0,s="";for(;f>0;)f%1e3&&(s=C(f%1e3)+(c?"-"+d.large[c]+"-":"")+s),f=Math.floor(f/1e3),c++;return s.replace(/-$/,"")}function y(f){const c=M.Grammar.getInstance().getParameter("gender")==="m"?"o":"a";let s=d.special.onesOrdinals[f];return s?s.slice(0,-1)+c:(s=x(f),s.slice(0,-1)+"esim"+c)}const d=(0,v(7549).NUMBERS)();d.wordOrdinal=y,d.numericOrdinal=function(f){const c=M.Grammar.getInstance().getParameter("gender");return f.toString()+(c==="m"?"o":"a")},d.numberToWords=x,d.numberToOrdinal=function(f,c){if(f===2)return c?"mezzi":"mezzo";const s=y(f);if(!c)return s;const a=s.match(/o$/)?"i":"e";return s.slice(0,-1)+a},e.default=d},3720:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});function M(x){return x.toString().split("").map(function(y){return C.ones[parseInt(y,10)]}).join("")}const C=(0,v(7549).NUMBERS)();C.numberToWords=M,C.numberToOrdinal=M,e.default=C},8274:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(5897);function C(a,o=!1){let l=a%1e3,u="";const p=Math.floor(l/100),h=d.ones[p];if(u+=h?(p===1?"":h)+"hundre":"",l%=100,l){if(u+=u?"og":"",o){const m=d.special.smallOrdinals[l];if(m)return u+m;if(l%10)return u+d.tens[Math.floor(l/10)]+d.special.smallOrdinals[l%10]}u+=d.ones[l]||d.tens[Math.floor(l/10)]+(l%10?d.ones[l%10]:"")}return o?x(u):u}function x(a){const o=d.special.endOrdinal[0];return o==="a"&&a.match(/en$/)?a.slice(0,-2)+d.special.endOrdinal:a.match(/(d|n)$/)||a.match(/hundre$/)?a+"de":a.match(/i$/)?a+d.special.endOrdinal:o==="a"&&a.match(/e$/)?a.slice(0,-1)+d.special.endOrdinal:(a.match(/e$/),a+"nde")}function y(a){return s(a,!0)}const d=(0,v(7549).NUMBERS)();function f(a,o=!1){return a===d.ones[1]?a==="ein"?"eitt ":o?"et":"ett":a}function c(a,o=!1){let l=a%1e3,u="",p=d.ones[Math.floor(l/100)];if(u+=p?f(p)+"hundre":"",l%=100,l){if(u+=u?"og":"",o){const h=d.special.smallOrdinals[l];if(h)return u+h}if(p=d.ones[l],p)u+=p;else{const h=d.tens[Math.floor(l/10)];p=d.ones[l%10],u+=p?p+"og"+h:h}}return o?x(u):u}function s(a,o=!1){return M.default.getInstance().subiso==="alt"?function(u,p=!1){if(u===0)return p?d.special.smallOrdinals[0]:d.zero;if(u>=Math.pow(10,36))return u.toString();let h=0,m="";for(;u>0;){const g=u%1e3;if(g){const E=c(u%1e3,!h&&p);!h&&p&&(p=!p),m=(h===1?f(E,!0):E)+(h>1?d.numSep:"")+(h?d.large[h]+(h>1&&g>1?"er":""):"")+(h>1&&m?d.numSep:"")+m}u=Math.floor(u/1e3),h++}return p?m+(m.match(/tusen$/)?"de":"te"):m}(a,o):function(u,p=!1){if(u===0)return p?d.special.smallOrdinals[0]:d.zero;if(u>=Math.pow(10,36))return u.toString();let h=0,m="";for(;u>0;){const g=u%1e3;if(g){const E=C(u%1e3,!h&&p);!h&&p&&(p=!p),m=E+(h?" "+d.large[h]+(h>1&&g>1?"er":"")+(m?" ":""):"")+m}u=Math.floor(u/1e3),h++}return p?m+(m.match(/tusen$/)?"de":"te"):m}(a,o)}d.wordOrdinal=y,d.numericOrdinal=function(a){return a.toString()+"."},d.numberToWords=s,d.numberToOrdinal=function(a,o){return y(a)},e.default=d},3898:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});function M(d){let f=d%1e3,c="";const s=Math.floor(f/100);return c+=y.ones[s]?(s===1?"":y.ones[s]+y.numSep)+"hundra":"",f%=100,f&&(c+=c?y.numSep:"",c+=y.ones[f]||y.tens[Math.floor(f/10)]+(f%10?y.numSep+y.ones[f%10]:"")),c}function C(d,f=!1){if(d===0)return y.zero;if(d>=Math.pow(10,36))return d.toString();let c=0,s="";for(;d>0;){const a=d%1e3;if(a){const o=y.large[c],l=a>1&&c>1&&!f?"er":"";s=(c===1&&a===1?"":(c>1&&a===1?"en":M(d%1e3))+(c>1?" ":""))+(c?o+l+(c>1?" ":""):"")+s}d=Math.floor(d/1e3),c++}return s.replace(/ $/,"")}function x(d){let f=C(d,!0);return f.match(/^noll$/)?f="nollte":f.match(/ett$/)?f=f.replace(/ett$/,"frsta"):f.match(/tv\xe5$/)?f=f.replace(/tv\xe5$/,"andra"):f.match(/tre$/)?f=f.replace(/tre$/,"tredje"):f.match(/fyra$/)?f=f.replace(/fyra$/,"fjrde"):f.match(/fem$/)?f=f.replace(/fem$/,"femte"):f.match(/sex$/)?f=f.replace(/sex$/,"sjtte"):f.match(/sju$/)?f=f.replace(/sju$/,"sjunde"):f.match(/\xe5tta$/)?f=f.replace(/\xe5tta$/,"ttonde"):f.match(/nio$/)?f=f.replace(/nio$/,"nionde"):f.match(/tio$/)?f=f.replace(/tio$/,"tionde"):f.match(/elva$/)?f=f.replace(/elva$/,"elfte"):f.match(/tolv$/)?f=f.replace(/tolv$/,"tolfte"):f.match(/tusen$/)?f=f.replace(/tusen$/,"tusonde"):f.match(/jard$/)||f.match(/jon$/)?f+="te":f+="de",f}const y=(0,v(7549).NUMBERS)();y.wordOrdinal=x,y.numericOrdinal=function(d){const f=d.toString();return f.match(/11$|12$/)?f+":e":f+(f.match(/1$|2$/)?":a":":e")},y.numberToWords=C,y.numberToOrdinal=function(d,f){if(d===1)return"hel";if(d===2)return f?"halva":"halv";let c=x(d);return c=c.match(/de$/)?c.replace(/de$/,""):c,c+(f?"delar":"del")},e.default=y},4977:function(R,e){function v(M,C=""){if(!M.childNodes||!M.childNodes[0]||!M.childNodes[0].childNodes||M.childNodes[0].childNodes.length<2||M.childNodes[0].childNodes[0].tagName!=="number"||M.childNodes[0].childNodes[0].getAttribute("role")!=="integer"||M.childNodes[0].childNodes[1].tagName!=="number"||M.childNodes[0].childNodes[1].getAttribute("role")!=="integer")return{convertible:!1,content:M.textContent};const x=M.childNodes[0].childNodes[1].textContent,y=M.childNodes[0].childNodes[0].textContent,d=Number(x),f=Number(y);return isNaN(d)||isNaN(f)?{convertible:!1,content:`${y} ${C} ${x}`}:{convertible:!0,enumerator:f,denominator:d}}Object.defineProperty(e,"__esModule",{value:!0}),e.vulgarFractionSmall=e.convertVulgarFraction=e.Combiners=e.siCombiner=e.identityTransformer=e.pluralCase=void 0,e.pluralCase=function(M,C){return M.toString()},e.identityTransformer=function(M){return M.toString()},e.siCombiner=function(M,C){return M+C.toLowerCase()},e.Combiners={},e.Combiners.identityCombiner=function(M,C,x){return M+C+x},e.Combiners.prefixCombiner=function(M,C,x){return M=x?x+" "+M:M,C?C+" "+M:M},e.Combiners.postfixCombiner=function(M,C,x){return M=x?x+" "+M:M,C?M+" "+C:M},e.Combiners.romanceCombiner=function(M,C,x){return M=x?M+" "+x:M,C?M+" "+C:M},e.convertVulgarFraction=v,e.vulgarFractionSmall=function(M,C,x){const y=v(M);if(y.convertible){const d=y.enumerator,f=y.denominator;return d>0&&d<C&&f>0&&f<x}return!1}},4504:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.Condition=e.BaseRuleStore=void 0;const M=v(7052),C=v(1676),x=v(4650),y=v(4106);class d{constructor(){this.context=new y.SpeechRuleContext,this.parseOrder=C.DynamicCstr.DEFAULT_ORDER,this.parser=new C.DynamicCstrParser(this.parseOrder),this.locale=C.DynamicCstr.DEFAULT_VALUES[C.Axis.LOCALE],this.modality=C.DynamicCstr.DEFAULT_VALUES[C.Axis.MODALITY],this.domain="",this.initialized=!1,this.inherits=null,this.kind="standard",this.customTranscriptions={},this.preconditions=new Map,this.speechRules_=[],this.rank=0,this.parseMethods={Rule:this.defineRule,Generator:this.generateRules,Action:this.defineAction,Precondition:this.definePrecondition,Ignore:this.ignoreRules}}static compareStaticConstraints_(s,a){if(s.length!==a.length)return!1;for(let o,l=0;o=s[l];l++)if(a.indexOf(o)===-1)return!1;return!0}static comparePreconditions_(s,a){const o=s.precondition,l=a.precondition;return o.query===l.query&&d.compareStaticConstraints_(o.constraints,l.constraints)}defineRule(s,a,o,l,...u){const p=this.parseAction(o),h=this.parsePrecondition(l,u),m=this.parseCstr(a);if(!(p&&h&&m))return console.error(`Rule Error: ${l}, (${a}): ${o}`),null;const g=new x.SpeechRule(s,m,h,p);return g.precondition.rank=this.rank++,this.addRule(g),g}addRule(s){s.context=this.context,this.speechRules_.unshift(s)}deleteRule(s){const a=this.speechRules_.indexOf(s);a!==-1&&this.speechRules_.splice(a,1)}findRule(s){for(let a,o=0;a=this.speechRules_[o];o++)if(s(a))return a;return null}findAllRules(s){return this.speechRules_.filter(s)}evaluateDefault(s){const a=s.textContent.slice(0);return a.match(/^\s+$/)?this.evaluateWhitespace(a):this.evaluateString(a)}evaluateWhitespace(s){return[]}evaluateCustom(s){const a=this.customTranscriptions[s];return a!==void 0?M.AuditoryDescription.create({text:a},{adjust:!0,translate:!1}):null}evaluateCharacter(s){return this.evaluateCustom(s)||M.AuditoryDescription.create({text:s},{adjust:!0,translate:!0})}removeDuplicates(s){for(let a,o=this.speechRules_.length-1;a=this.speechRules_[o];o--)a!==s&&s.dynamicCstr.equal(a.dynamicCstr)&&d.comparePreconditions_(a,s)&&this.speechRules_.splice(o,1)}getSpeechRules(){return this.speechRules_}setSpeechRules(s){this.speechRules_=s}getPreconditions(){return this.preconditions}parseCstr(s){try{return this.parser.parse(this.locale+"."+this.modality+(this.domain?"."+this.domain:"")+"."+s)}catch(a){if(a.name==="RuleError")return console.error("Rule Error ",`Illegal Dynamic Constraint: ${s}.`,a.message),null;throw a}}parsePrecondition(s,a){try{const o=this.parsePrecondition_(s);s=o[0];let l=o.slice(1);for(const u of a)l=l.concat(this.parsePrecondition_(u));return new x.Precondition(s,...l)}catch(o){if(o.name==="RuleError")return console.error("Rule Error ",`Illegal preconditions: ${s}, ${a}.`,o.message),null;throw o}}parseAction(s){try{return x.Action.fromString(s)}catch(a){if(a.name==="RuleError")return console.error("Rule Error ",`Illegal action: ${s}.`,a.message),null;throw a}}parse(s){this.modality=s.modality||this.modality,this.locale=s.locale||this.locale,this.domain=s.domain||this.domain,this.context.parse(s.functions||[]),s.kind!=="actions"&&(this.kind=s.kind||this.kind,this.inheritRules()),this.parseRules(s.rules||[])}parseRules(s){for(let a,o=0;a=s[o];o++){const l=a[0],u=this.parseMethods[l];l&&u&&u.apply(this,a.slice(1))}}generateRules(s){const a=this.context.customGenerators.lookup(s);a&&a(this)}defineAction(s,a){let o;try{o=x.Action.fromString(a)}catch(p){if(p.name==="RuleError")return void console.error("Action Error ",a,p.message);throw p}const l=this.getFullPreconditions(s);if(!l)return void console.error(`Action Error: No precondition for action ${s}`);this.ignoreRules(s);const u=new RegExp("^\\w+\\.\\w+\\."+(this.domain?"\\w+\\.":""));l.conditions.forEach(([p,h])=>{const m=this.parseCstr(p.toString().replace(u,""));this.addRule(new x.SpeechRule(s,m,h,o))})}getFullPreconditions(s){const a=this.preconditions.get(s);return a||!this.inherits?a:this.inherits.getFullPreconditions(s)}definePrecondition(s,a,o,...l){const u=this.parsePrecondition(o,l),p=this.parseCstr(a);u&&p?(u.rank=this.rank++,this.preconditions.set(s,new f(p,u))):console.error(`Precondition Error: ${o}, (${a})`)}inheritRules(){if(!this.inherits||!this.inherits.getSpeechRules().length)return;const s=new RegExp("^\\w+\\.\\w+\\."+(this.domain?"\\w+\\.":""));this.inherits.getSpeechRules().forEach(a=>{const o=this.parseCstr(a.dynamicCstr.toString().replace(s,""));this.addRule(new x.SpeechRule(a.name,o,a.precondition,a.action))})}ignoreRules(s,...a){let o=this.findAllRules(u=>u.name===s);if(!a.length)return void o.forEach(this.deleteRule.bind(this));let l=[];for(const u of a){const p=this.parseCstr(u);for(const h of o)p.equal(h.dynamicCstr)?this.deleteRule(h):l.push(h);o=l,l=[]}}parsePrecondition_(s){const a=this.context.customGenerators.lookup(s);return a?a():[s]}}e.BaseRuleStore=d;class f{constructor(s,a){this.base=s,this._conditions=[],this.constraints=[],this.allCstr={},this.constraints.push(s),this.addCondition(s,a)}get conditions(){return this._conditions}addConstraint(s){if(this.constraints.filter(o=>o.equal(s)).length)return;this.constraints.push(s);const a=[];for(const[o,l]of this.conditions)this.base.equal(o)&&a.push([s,l]);this._conditions=this._conditions.concat(a)}addBaseCondition(s){this.addCondition(this.base,s)}addFullCondition(s){this.constraints.forEach(a=>this.addCondition(a,s))}addCondition(s,a){const o=s.toString()+" "+a.toString();this.allCstr.condStr||(this.allCstr[o]=!0,this._conditions.push([s,a]))}}e.Condition=f},2469:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.BrailleStore=void 0;const M=v(7630),C=v(9935);class x extends C.MathStore{constructor(){super(...arguments),this.modality="braille",this.customTranscriptions={"":""}}evaluateString(d){const f=[],c=Array.from(d);for(let s=0;s<c.length;s++)f.push(this.evaluateCharacter(c[s]));return f}annotations(){for(let d,f=0;d=this.annotators[f];f++)(0,M.activate)(this.locale,d)}}e.BrailleStore=x},1676:function(R,e){var v;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultComparator=e.DynamicCstrParser=e.DynamicCstr=e.DynamicProperties=e.Axis=void 0,function(x){x.DOMAIN="domain",x.STYLE="style",x.LOCALE="locale",x.TOPIC="topic",x.MODALITY="modality"}(v=e.Axis||(e.Axis={}));class M{constructor(y,d=Object.keys(y)){this.properties=y,this.order=d}static createProp(...y){const d=C.DEFAULT_ORDER,f={};for(let c=0,s=y.length,a=d.length;c<s&&c<a;c++)f[d[c]]=y[c];return new M(f)}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(y){return this.properties[y]}updateProperties(y){this.properties=y}allProperties(){const y=[];return this.order.forEach(d=>y.push(this.getProperty(d).slice())),y}toString(){const y=[];return this.order.forEach(d=>y.push(d+": "+this.getProperty(d).toString())),y.join(`
`)}}e.DynamicProperties=M;class C extends M{constructor(y,d){const f={};for(const[c,s]of Object.entries(y))f[c]=[s];super(f,d),this.components=y}static createCstr(...y){const d=C.DEFAULT_ORDER,f={};for(let c=0,s=y.length,a=d.length;c<s&&c<a;c++)f[d[c]]=y[c];return new C(f)}static defaultCstr(){return C.createCstr.apply(null,C.DEFAULT_ORDER.map(function(y){return C.DEFAULT_VALUES[y]}))}static validOrder(y){const d=C.DEFAULT_ORDER.slice();return y.every(f=>{const c=d.indexOf(f);return c!==-1&&d.splice(c,1)})}getComponents(){return this.components}getValue(y){return this.components[y]}getValues(){return this.order.map(y=>this.getValue(y))}allProperties(){const y=super.allProperties();for(let d,f,c=0;d=y[c],f=this.order[c];c++){const s=this.getValue(f);d.indexOf(s)===-1&&d.unshift(s)}return y}toString(){return this.getValues().join(".")}equal(y){const d=y.getAxes();if(this.order.length!==d.length)return!1;for(let f,c=0;f=d[c];c++){const s=this.getValue(f);if(!s||y.getValue(f)!==s)return!1}return!0}}e.DynamicCstr=C,C.DEFAULT_ORDER=[v.LOCALE,v.MODALITY,v.DOMAIN,v.STYLE,v.TOPIC],C.BASE_LOCALE="base",C.DEFAULT_VALUE="default",C.DEFAULT_VALUES={[v.LOCALE]:"en",[v.DOMAIN]:C.DEFAULT_VALUE,[v.STYLE]:C.DEFAULT_VALUE,[v.TOPIC]:C.DEFAULT_VALUE,[v.MODALITY]:"speech"},e.DynamicCstrParser=class{constructor(x){this.order=x}parse(x){const y=x.split("."),d={};if(y.length>this.order.length)throw new Error("Invalid dynamic constraint: "+d);let f=0;for(let c,s=0;c=this.order[s],y.length;s++,f++){const a=y.shift();d[c]=a}return new C(d,this.order.slice(0,f))}},e.DefaultComparator=class{constructor(x,y=new M(x.getProperties(),x.getOrder())){this.reference=x,this.fallback=y,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(x,y){this.reference=x,this.fallback=y||new M(x.getProperties(),x.getOrder()),this.order=this.reference.getOrder()}match(x){const y=x.getAxes();return y.length===this.reference.getAxes().length&&y.every(d=>{const f=x.getValue(d);return f===this.reference.getValue(d)||this.fallback.getProperty(d).indexOf(f)!==-1})}compare(x,y){let d=!1;for(let f,c=0;f=this.order[c];c++){const s=x.getValue(f),a=y.getValue(f);if(!d){const p=this.reference.getValue(f);if(p===s&&p!==a)return-1;if(p===a&&p!==s)return 1;if(p===s&&p===a)continue;p!==s&&p!==a&&(d=!0)}const o=this.fallback.getProperty(f),l=o.indexOf(s),u=o.indexOf(a);if(l<u)return-1;if(u<l)return 1}return 0}toString(){return this.reference.toString()+`
`+this.fallback.toString()}}},2105:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.numbersToAlpha=e.Grammar=e.ATTRIBUTE=void 0;const M=v(5740),C=v(5897),x=v(2536),y=v(4356);e.ATTRIBUTE="grammar";class d{constructor(){this.currentFlags={},this.parameters_={},this.corrections_={},this.preprocessors_={},this.stateStack_=[]}static getInstance(){return d.instance=d.instance||new d,d.instance}static parseInput(a){const o={},l=a.split(":");for(let u=0,p=l.length;u<p;u++){const h=l[u].split("="),m=h[0].trim();h[1]?o[m]=h[1].trim():m.match(/^!/)?o[m.slice(1)]=!1:o[m]=!0}return o}static parseState(a){const o={},l=a.split(" ");for(let u=0,p=l.length;u<p;u++){const h=l[u].split(":"),m=h[0],g=h[1];o[m]=g||!0}return o}static translateString_(a){if(a.match(/:unit$/))return d.translateUnit_(a);const o=C.default.getInstance();let l=o.evaluator(a,o.dynamicCstr);return l=l===null?a:l,d.getInstance().getParameter("plural")&&(l=y.LOCALE.FUNCTIONS.plural(l)),l}static translateUnit_(a){a=d.prepareUnit_(a);const o=C.default.getInstance(),l=d.getInstance().getParameter("plural"),u=o.strict,p=`${o.locale}.${o.modality}.default`;let h,m;return o.strict=!0,l&&(h=o.defaultParser.parse(p+".plural"),m=o.evaluator(a,h)),m?(o.strict=u,m):(h=o.defaultParser.parse(p+".default"),m=o.evaluator(a,h),o.strict=u,m?(l&&(m=y.LOCALE.FUNCTIONS.plural(m)),m):d.cleanUnit_(a))}static prepareUnit_(a){const o=a.match(/:unit$/);return o?a.slice(0,o.index).replace(/\s+/g," ")+a.slice(o.index):a}static cleanUnit_(a){return a.match(/:unit$/)?a.replace(/:unit$/,""):a}clear(){this.parameters_={},this.stateStack_=[]}setParameter(a,o){const l=this.parameters_[a];return o?this.parameters_[a]=o:delete this.parameters_[a],l}getParameter(a){return this.parameters_[a]}setCorrection(a,o){this.corrections_[a]=o}setPreprocessor(a,o){this.preprocessors_[a]=o}getCorrection(a){return this.corrections_[a]}getState(){const a=[];for(const o in this.parameters_){const l=this.parameters_[o];a.push(typeof l=="string"?o+":"+l:o)}return a.join(" ")}pushState(a){for(const o in a)a[o]=this.setParameter(o,a[o]);this.stateStack_.push(a)}popState(){const a=this.stateStack_.pop();for(const o in a)this.setParameter(o,a[o])}setAttribute(a){if(a&&a.nodeType===M.NodeType.ELEMENT_NODE){const o=this.getState();o&&a.setAttribute(e.ATTRIBUTE,o)}}preprocess(a){return this.runProcessors_(a,this.preprocessors_)}correct(a){return this.runProcessors_(a,this.corrections_)}apply(a,o){return this.currentFlags=o||{},a=this.currentFlags.adjust||this.currentFlags.preprocess?d.getInstance().preprocess(a):a,(this.parameters_.translate||this.currentFlags.translate)&&(a=d.translateString_(a)),a=this.currentFlags.adjust||this.currentFlags.correct?d.getInstance().correct(a):a,this.currentFlags={},a}runProcessors_(a,o){for(const l in this.parameters_){const u=o[l];if(!u)continue;const p=this.parameters_[l];a=p===!0?u(a):u(a,p)}return a}}function f(s,a){if(!a||!s)return s;const o=y.LOCALE.FUNCTIONS.fontRegexp(x.localFont(a));return s.replace(o,"")}function c(s){return s.match(/\d+/)?y.LOCALE.NUMBERS.numberToWords(parseInt(s,10)):s}e.Grammar=d,e.numbersToAlpha=c,d.getInstance().setCorrection("localFont",x.localFont),d.getInstance().setCorrection("localRole",x.localRole),d.getInstance().setCorrection("localEnclose",x.localEnclose),d.getInstance().setCorrection("ignoreFont",f),d.getInstance().setPreprocessor("annotation",function(s,a){return s+":"+a}),d.getInstance().setPreprocessor("noTranslateText",function(s){return s.match(new RegExp("^["+y.LOCALE.MESSAGES.regexp.TEXT+"]+$"))&&(d.getInstance().currentFlags.translate=!1),s}),d.getInstance().setCorrection("ignoreCaps",function(s){let a=y.LOCALE.ALPHABETS.capPrefix[C.default.getInstance().domain];return a===void 0&&(a=y.LOCALE.ALPHABETS.capPrefix.default),f(s,a)}),d.getInstance().setPreprocessor("numbers2alpha",c)},2780:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.enumerate=e.lookupString=e.lookupCategory=e.lookupRule=e.addSiUnitRules=e.addUnitRules=e.addFunctionRules=e.addSymbolRules=e.defineRule=e.defineRules=e.setSiPrefixes=void 0;const M=v(2057),C=v(5897),x=v(7491),y=v(4658),d=v(1676);let f=d.DynamicCstr.DEFAULT_VALUES[d.Axis.LOCALE],c=d.DynamicCstr.DEFAULT_VALUES[d.Axis.MODALITY],s={};e.setSiPrefixes=function(A){s=A};const a={};function o(A,_,T,N){const w=S(_);O(w,T),w.defineRulesFromMappings(A,f,c,_,N)}function l(A){if(E(A))return;const _=A.names,T=A.mappings,N=A.category;for(let w,L=0;w=_[L];L++)o(w,w,N,T)}function u(A){for(const _ of Object.keys(s)){const T=Object.assign({},A);T.mappings={};const N=s[_];T.key=_+T.key,T.names=T.names.map(function(w){return _+w});for(const w of Object.keys(A.mappings)){T.mappings[w]={};for(const L of Object.keys(A.mappings[w]))T.mappings[w][L]=x.locales[f]().FUNCTIONS.si(N,A.mappings[w][L])}g(T)}g(A)}function p(A,_){const T=a[A];return T?T.lookupRule(null,_):null}function h(A,_){const T=p(A,_);return T?T.action:null}function m(A,_){return _=_||{},A.length&&(_[A[0]]=m(A.slice(1),_[A[0]])),_}function g(A){const _=A.names;_&&(A.names=_.map(function(T){return T+":unit"})),l(A)}function E(A){return!(!A.locale&&!A.modality)&&(f=A.locale||f,c=A.modality||c,!0)}function S(A){let _=a[A];return _?(M.Debugger.getInstance().output("Store exists! "+A),_):(_=new y.MathSimpleStore,a[A]=_,_)}function O(A,_){_&&(A.category=_)}e.defineRules=o,e.defineRule=function(A,_,T,N,w,L){const I=S(w);O(I,N),I.defineRuleFromStrings(A,f,c,_,T,w,L)},e.addSymbolRules=function(A){if(E(A))return;const _=y.MathSimpleStore.parseUnicode(A.key);o(A.key,_,A.category,A.mappings)},e.addFunctionRules=l,e.addUnitRules=function(A){E(A)||(A.si?u(A):g(A))},e.addSiUnitRules=u,e.lookupRule=p,e.lookupCategory=function(A){const _=a[A];return _?_.category:""},e.lookupString=h,C.default.getInstance().evaluator=h,e.enumerate=function(A={}){for(const _ of Object.values(a))for(const[,T]of _.rules.entries())for(const{cstr:N}of T)A=m(N.getValues(),A);return A}},4658:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.MathSimpleStore=void 0;const M=v(5897),C=v(1676);class x{constructor(){this.category="",this.rules=new Map}static parseUnicode(d){const f=parseInt(d,16);return String.fromCodePoint(f)}static testDynamicConstraints_(d,f){return M.default.getInstance().strict?f.cstr.equal(d):M.default.getInstance().comparator.match(f.cstr)}defineRulesFromMappings(d,f,c,s,a){for(const o in a)for(const l in a[o]){const u=a[o][l];this.defineRuleFromStrings(d,f,c,o,l,s,u)}}getRules(d){let f=this.rules.get(d);return f||(f=[],this.rules.set(d,f)),f}defineRuleFromStrings(d,f,c,s,a,o,l){let u=this.getRules(f);const p=M.default.getInstance().parsers[s]||M.default.getInstance().defaultParser,h=M.default.getInstance().comparators[s],m=`${f}.${c}.${s}.${a}`,g=p.parse(m),E=h?h():M.default.getInstance().comparator,S=E.getReference();E.setReference(g);const O={cstr:g,action:l};u=u.filter(A=>!g.equal(A.cstr)),u.push(O),this.rules.set(f,u),E.setReference(S)}lookupRule(d,f){let c=this.getRules(f.getValue(C.Axis.LOCALE));return c=c.filter(function(s){return x.testDynamicConstraints_(f,s)}),c.length===1?c[0]:c.length?c.sort((s,a)=>M.default.getInstance().comparator.compare(s.cstr,a.cstr))[0]:null}}e.MathSimpleStore=x},9935:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.MathStore=void 0;const M=v(707),C=v(4356),x=v(7630),y=v(4504),d=v(4650);class f extends y.BaseRuleStore{constructor(){super(),this.annotators=[],this.parseMethods.Alias=this.defineAlias,this.parseMethods.SpecializedRule=this.defineSpecializedRule,this.parseMethods.Specialized=this.defineSpecialized}initialize(){this.initialized||(this.annotations(),this.initialized=!0)}annotations(){for(let s,a=0;s=this.annotators[a];a++)(0,x.activate)(this.domain,s)}defineAlias(s,a,...o){const l=this.parsePrecondition(a,o);if(!l)return void console.error(`Precondition Error: ${a} ${o}`);const u=this.preconditions.get(s);u?u.addFullCondition(l):console.error(`Alias Error: No precondition by the name of ${s}`)}defineRulesAlias(s,a,...o){const l=this.findAllRules(function(p){return p.name===s});if(l.length===0)throw new d.OutputError("Rule with name "+s+" does not exist.");const u=[];l.forEach(p=>{(h=>{const m=h.dynamicCstr.toString(),g=h.action.toString();for(let E,S=0;E=u[S];S++)if(E.action===g&&E.cstr===m)return!1;return u.push({cstr:m,action:g}),!0})(p)&&this.addAlias_(p,a,o)})}defineSpecializedRule(s,a,o,l){const u=this.parseCstr(a),p=this.findRule(E=>E.name===s&&u.equal(E.dynamicCstr)),h=this.parseCstr(o);if(!p&&l)throw new d.OutputError("Rule named "+s+" with style "+a+" does not exist.");const m=l?d.Action.fromString(l):p.action,g=new d.SpeechRule(p.name,h,p.precondition,m);this.addRule(g)}defineSpecialized(s,a,o){const l=this.parseCstr(o);if(!l)return void console.error(`Dynamic Constraint Error: ${o}`);const u=this.preconditions.get(s);u?u.addConstraint(l):console.error(`Alias Error: No precondition by the name of ${s}`)}evaluateString(s){const a=[];if(s.match(/^\s+$/))return a;let o=this.matchNumber_(s);if(o&&o.length===s.length)return a.push(this.evaluateCharacter(o.number)),a;const l=M.removeEmpty(s.replace(/\s/g," ").split(" "));for(let u,p=0;u=l[p];p++)if(u.length===1)a.push(this.evaluateCharacter(u));else if(u.match(new RegExp("^["+C.LOCALE.MESSAGES.regexp.TEXT+"]+$")))a.push(this.evaluateCharacter(u));else{let h=u;for(;h;){o=this.matchNumber_(h);const m=h.match(new RegExp("^["+C.LOCALE.MESSAGES.regexp.TEXT+"]+"));if(o)a.push(this.evaluateCharacter(o.number)),h=h.substring(o.length);else if(m)a.push(this.evaluateCharacter(m[0])),h=h.substring(m[0].length);else{const g=Array.from(h),E=g[0];a.push(this.evaluateCharacter(E)),h=g.slice(1).join("")}}}return a}parse(s){super.parse(s),this.annotators=s.annotators||[]}addAlias_(s,a,o){const l=this.parsePrecondition(a,o),u=new d.SpeechRule(s.name,s.dynamicCstr,l,s.action);u.name=s.name,this.addRule(u)}matchNumber_(s){const a=s.match(new RegExp("^"+C.LOCALE.MESSAGES.regexp.NUMBER)),o=s.match(new RegExp("^"+f.regexp.NUMBER));if(!a&&!o)return null;const l=o&&o[0]===s;return a&&a[0]===s||!l?a?{number:a[0],length:a[0].length}:null:{number:o[0].replace(new RegExp(f.regexp.DIGIT_GROUP,"g"),"X").replace(new RegExp(f.regexp.DECIMAL_MARK,"g"),C.LOCALE.MESSAGES.regexp.DECIMAL_MARK).replace(/X/g,C.LOCALE.MESSAGES.regexp.DIGIT_GROUP.replace(/\\/g,"")),length:o[0].length}}}e.MathStore=f,f.regexp={NUMBER:"((\\d{1,3})(?=(,| ))((,| )\\d{3})*(\\.\\d+)?)|^\\d*\\.\\d+|^\\d+",DECIMAL_MARK:"\\.",DIGIT_GROUP:","}},4650:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.OutputError=e.Precondition=e.Action=e.Component=e.ActionType=e.SpeechRule=void 0;const M=v(5897),C=v(2105);var x;function y(o){switch(o){case"[n]":return x.NODE;case"[m]":return x.MULTI;case"[t]":return x.TEXT;case"[p]":return x.PERSONALITY;default:throw"Parse error: "+o}}e.SpeechRule=class{constructor(o,l,u,p){this.name=o,this.dynamicCstr=l,this.precondition=u,this.action=p,this.context=null}toString(){return this.name+" | "+this.dynamicCstr.toString()+" | "+this.precondition.toString()+" ==> "+this.action.toString()}},function(o){o.NODE="NODE",o.MULTI="MULTI",o.TEXT="TEXT",o.PERSONALITY="PERSONALITY"}(x=e.ActionType||(e.ActionType={}));class d{constructor({type:l,content:u,attributes:p,grammar:h}){this.type=l,this.content=u,this.attributes=p,this.grammar=h}static grammarFromString(l){return C.Grammar.parseInput(l)}static fromString(l){const u={type:y(l.substring(0,3))};let p=l.slice(3).trim();if(!p)throw new s("Missing content.");switch(u.type){case x.TEXT:if(p[0]==='"'){const h=a(p,"\\(")[0].trim();if(h.slice(-1)!=='"')throw new s("Invalid string syntax.");u.content=h,p=p.slice(h.length).trim(),p.indexOf("(")===-1&&(p="");break}case x.NODE:case x.MULTI:{const h=p.indexOf(" (");if(h===-1){u.content=p.trim(),p="";break}u.content=p.substring(0,h).trim(),p=p.slice(h).trim()}}if(p){const h=d.attributesFromString(p);h.grammar&&(u.grammar=h.grammar,delete h.grammar),Object.keys(h).length&&(u.attributes=h)}return new d(u)}static attributesFromString(l){if(l[0]!=="("||l.slice(-1)!==")")throw new s("Invalid attribute expression: "+l);const u={},p=a(l.slice(1,-1),",");for(let h=0,m=p.length;h<m;h++){const g=p[h],E=g.indexOf(":");if(E===-1)u[g.trim()]="true";else{const S=g.substring(0,E).trim(),O=g.slice(E+1).trim();u[S]=S===C.ATTRIBUTE?d.grammarFromString(O):O}}return u}toString(){let l="";l+=function(p){switch(p){case x.NODE:return"[n]";case x.MULTI:return"[m]";case x.TEXT:return"[t]";case x.PERSONALITY:return"[p]";default:throw"Unknown type error: "+p}}(this.type),l+=this.content?" "+this.content:"";const u=this.attributesToString();return l+=u?" "+u:"",l}grammarToString(){return this.getGrammar().join(":")}getGrammar(){const l=[];for(const u in this.grammar)this.grammar[u]===!0?l.push(u):this.grammar[u]===!1?l.push("!"+u):l.push(u+"="+this.grammar[u]);return l}attributesToString(){const l=this.getAttributes(),u=this.grammarToString();return u&&l.push("grammar:"+u),l.length>0?"("+l.join(", ")+")":""}getAttributes(){const l=[];for(const u in this.attributes){const p=this.attributes[u];p==="true"?l.push(u):l.push(u+":"+p)}return l}}e.Component=d;class f{constructor(l){this.components=l}static fromString(l){const u=a(l,";").filter(function(h){return h.match(/\S/)}).map(function(h){return h.trim()}),p=[];for(let h=0,m=u.length;h<m;h++){const g=d.fromString(u[h]);g&&p.push(g)}return new f(p)}toString(){return this.components.map(function(l){return l.toString()}).join("; ")}}e.Action=f;class c{constructor(l,...u){this.query=l,this.constraints=u;const[p,h]=this.presetPriority();this.priority=p?h:this.calculatePriority()}static constraintValue(l,u){for(let p,h=0;p=u[h];h++)if(l.match(p))return++h;return 0}toString(){const l=this.constraints.join(", ");return`${this.query}, ${l} (${this.priority}, ${this.rank})`}calculatePriority(){const l=c.constraintValue(this.query,c.queryPriorities);if(!l)return 0;const u=this.query.match(/^self::.+\[(.+)\]/)[1];return 100*l+10*c.constraintValue(u,c.attributePriorities)}presetPriority(){if(!this.constraints.length)return[!1,0];const l=this.constraints[this.constraints.length-1].match(/^priority=(.*$)/);if(!l)return[!1,0];this.constraints.pop();const u=parseFloat(l[1]);return[!0,isNaN(u)?0:u]}}e.Precondition=c,c.queryPriorities=[/^self::\*\[.+\]$/,/^self::[\w-]+\[.+\]$/],c.attributePriorities=[/^@[\w-]+$/,/^@[\w-]+!=".+"$/,/^not\(contains\(@[\w-]+,\s*".+"\)\)$/,/^contains\(@[\w-]+,".+"\)$/,/^@[\w-]+=".+"$/];class s extends M.SREError{constructor(l){super(l),this.name="RuleError"}}function a(o,l){const u=[];let p="";for(;o!=="";){const h=o.search(l);if(h===-1){if((o.match(/"/g)||[]).length%2!=0)throw new s("Invalid string in expression: "+o);u.push(p+o),p="",o=""}else if((o.substring(0,h).match(/"/g)||[]).length%2==0)u.push(p+o.substring(0,h)),p="",o=o.substring(h+1);else{const m=o.substring(h).search('"');if(m===-1)throw new s("Invalid string in expression: "+o);p+=o.substring(0,h+m+1),o=o.substring(h+m+1)}}return p&&u.push(p),u}e.OutputError=s},4106:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechRuleContext=void 0;const M=v(5274),C=v(5662);e.SpeechRuleContext=class{constructor(){this.customQueries=new C.CustomQueries,this.customStrings=new C.CustomStrings,this.contextFunctions=new C.ContextFunctions,this.customGenerators=new C.CustomGenerators}applyCustomQuery(x,y){const d=this.customQueries.lookup(y);return d?d(x):null}applySelector(x,y){return this.applyCustomQuery(x,y)||M.evalXPath(y,x)}applyQuery(x,y){const d=this.applySelector(x,y);return d.length>0?d[0]:null}applyConstraint(x,y){return!!this.applyQuery(x,y)||M.evaluateBoolean(y,x)}constructString(x,y){if(!y)return"";if(y.charAt(0)==='"')return y.slice(1,-1);const d=this.customStrings.lookup(y);return d?d(x):M.evaluateString(y,x)}parse(x){const y=Array.isArray(x)?x:Object.entries(x);for(let d,f=0;d=y[f];f++)switch(d[0].slice(0,3)){case"CQF":this.customQueries.add(d[0],d[1]);break;case"CSF":this.customStrings.add(d[0],d[1]);break;case"CTF":this.contextFunctions.add(d[0],d[1]);break;case"CGF":this.customGenerators.add(d[0],d[1]);break;default:console.error("FunctionError: Invalid function name "+d[0])}}}},2362:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.storeFactory=e.SpeechRuleEngine=void 0;const M=v(7052),C=v(2057),x=v(5740),y=v(5897),d=v(4440),f=v(5274),c=v(7283),s=v(7599),a=v(2469),o=v(1676),l=v(2105),u=v(9935),p=v(4650),h=v(4508);class m{constructor(){this.trie=null,this.evaluators_={},this.trie=new h.Trie}static getInstance(){return m.instance=m.instance||new m,m.instance}static debugSpeechRule(O,A){const _=O.precondition,T=O.context.applyQuery(A,_.query);C.Debugger.getInstance().output(_.query,T&&T.toString()),_.constraints.forEach(N=>C.Debugger.getInstance().output(N,O.context.applyConstraint(A,N)))}static debugNamedSpeechRule(O,A){const _=m.getInstance().trie.collectRules().filter(T=>T.name==O);for(let T,N=0;T=_[N];N++)C.Debugger.getInstance().output("Rule",O,"DynamicCstr:",T.dynamicCstr.toString(),"number",N),m.debugSpeechRule(T,A)}evaluateNode(O){(0,f.updateEvaluator)(O);const A=new Date().getTime();let _=[];try{_=this.evaluateNode_(O)}catch(N){console.error("Something went wrong computing speech."),C.Debugger.getInstance().output(N)}const T=new Date().getTime();return C.Debugger.getInstance().output("Time:",T-A),_}toString(){return this.trie.collectRules().map(O=>O.toString()).join(`
`)}runInSetting(O,A){const _=y.default.getInstance(),T={};for(const w in O)T[w]=_[w],_[w]=O[w];_.setDynamicCstr();const N=A();for(const w in T)_[w]=T[w];return _.setDynamicCstr(),N}addStore(O){const A=E(O);A.kind!=="abstract"&&A.getSpeechRules().forEach(_=>this.trie.addRule(_)),this.addEvaluator(A)}processGrammar(O,A,_){const T={};for(const N in _){const w=_[N];T[N]=typeof w=="string"?O.constructString(A,w):w}l.Grammar.getInstance().pushState(T)}addEvaluator(O){const A=O.evaluateDefault.bind(O),_=this.evaluators_[O.locale];if(_)return void(_[O.modality]=A);const T={};T[O.modality]=A,this.evaluators_[O.locale]=T}getEvaluator(O,A){const _=this.evaluators_[O]||this.evaluators_[o.DynamicCstr.DEFAULT_VALUES[o.Axis.LOCALE]];return _[A]||_[o.DynamicCstr.DEFAULT_VALUES[o.Axis.MODALITY]]}enumerate(O){return this.trie.enumerate(O)}evaluateNode_(O){return O?(this.updateConstraint_(),this.evaluateTree_(O)):[]}evaluateTree_(O){const A=y.default.getInstance();let _;C.Debugger.getInstance().output(A.mode!==d.Mode.HTTP?O.toString():O),l.Grammar.getInstance().setAttribute(O);const T=this.lookupRule(O,A.dynamicCstr);if(!T)return A.strict?[]:(_=this.getEvaluator(A.locale,A.modality)(O),O.attributes&&this.addPersonality_(_,{},!1,O),_);C.Debugger.getInstance().generateOutput(()=>["Apply Rule:",T.name,T.dynamicCstr.toString(),(A.mode,d.Mode.HTTP,O).toString()]);const N=T.context,w=T.action.components;_=[];for(let L,I=0;L=w[I];I++){let P=[];const k=L.content||"",B=L.attributes||{};let F=!1;L.grammar&&this.processGrammar(N,O,L.grammar);let H=null;if(B.engine){H=y.default.getInstance().dynamicCstr.getComponents();const j=l.Grammar.parseInput(B.engine);y.default.getInstance().setDynamicCstr(j)}switch(L.type){case p.ActionType.NODE:{const j=N.applyQuery(O,k);j&&(P=this.evaluateTree_(j))}break;case p.ActionType.MULTI:{F=!0;const j=N.applySelector(O,k);j.length>0&&(P=this.evaluateNodeList_(N,j,B.sepFunc,N.constructString(O,B.separator),B.ctxtFunc,N.constructString(O,B.context)))}break;case p.ActionType.TEXT:{const j=B.span,U={};if(j){const K=(0,f.evalXPath)(j,O);K.length&&(U.extid=K[0].getAttribute("extid"))}const z=N.constructString(O,k);(z||z==="")&&(P=Array.isArray(z)?z.map(function(K){return M.AuditoryDescription.create({text:K.speech,attributes:K.attributes},{adjust:!0})}):[M.AuditoryDescription.create({text:z,attributes:U},{adjust:!0})])}break;case p.ActionType.PERSONALITY:default:P=[M.AuditoryDescription.create({text:k})]}P[0]&&!F&&(B.context&&(P[0].context=N.constructString(O,B.context)+(P[0].context||"")),B.annotation&&(P[0].annotation=B.annotation)),this.addLayout(P,B,F),L.grammar&&l.Grammar.getInstance().popState(),_=_.concat(this.addPersonality_(P,B,F,O)),H&&y.default.getInstance().setDynamicCstr(H)}return _}evaluateNodeList_(O,A,_,T,N,w){if(!A.length)return[];const L=T||"",I=w||"",P=O.contextFunctions.lookup(N),k=P?P(A,I):function(){return I},B=O.contextFunctions.lookup(_),F=B?B(A,L):function(){return[M.AuditoryDescription.create({text:L},{translate:!0})]};let H=[];for(let j,U=0;j=A[U];U++){const z=this.evaluateTree_(j);if(z.length>0&&(z[0].context=k()+(z[0].context||""),H=H.concat(z),U<A.length-1)){const K=F();H=H.concat(K)}}return H}addLayout(O,A,_){const T=A.layout;T&&(T.match(/^begin/)?O.unshift(new M.AuditoryDescription({text:"",layout:T})):T.match(/^end/)?O.push(new M.AuditoryDescription({text:"",layout:T})):(O.unshift(new M.AuditoryDescription({text:"",layout:`begin${T}`})),O.push(new M.AuditoryDescription({text:"",layout:`end${T}`}))))}addPersonality_(O,A,_,T){const N={};let w=null;for(const L of d.personalityPropList){const I=A[L];if(I===void 0)continue;const P=parseFloat(I),k=isNaN(P)?I.charAt(0)==='"'?I.slice(1,-1):I:P;L===d.personalityProps.PAUSE?w=k:N[L]=k}for(let L,I=0;L=O[I];I++)this.addRelativePersonality_(L,N),this.addExternalAttributes_(L,T);if(_&&O.length&&delete O[O.length-1].personality[d.personalityProps.JOIN],w&&O.length){const L=O[O.length-1];L.text||Object.keys(L.personality).length?O.push(M.AuditoryDescription.create({text:"",personality:{pause:w}})):L.personality[d.personalityProps.PAUSE]=w}return O}addExternalAttributes_(O,A){if(A.hasAttributes()){const _=A.attributes;for(let T=_.length-1;T>=0;T--){const N=_[T].name;!O.attributes[N]&&N.match(/^ext/)&&(O.attributes[N]=_[T].value)}}}addRelativePersonality_(O,A){if(!O.personality)return O.personality=A,O;const _=O.personality;for(const T in A)_[T]&&typeof _[T]=="number"&&typeof A[T]=="number"?_[T]=_[T]+A[T]:_[T]||(_[T]=A[T]);return O}updateConstraint_(){const O=y.default.getInstance().dynamicCstr,A=y.default.getInstance().strict,_=this.trie,T={};let N=O.getValue(o.Axis.LOCALE),w=O.getValue(o.Axis.MODALITY),L=O.getValue(o.Axis.DOMAIN);_.hasSubtrie([N,w,L])||(L=o.DynamicCstr.DEFAULT_VALUES[o.Axis.DOMAIN],_.hasSubtrie([N,w,L])||(w=o.DynamicCstr.DEFAULT_VALUES[o.Axis.MODALITY],_.hasSubtrie([N,w,L])||(N=o.DynamicCstr.DEFAULT_VALUES[o.Axis.LOCALE]))),T[o.Axis.LOCALE]=[N],T[o.Axis.MODALITY]=[w!=="summary"?w:o.DynamicCstr.DEFAULT_VALUES[o.Axis.MODALITY]],T[o.Axis.DOMAIN]=[w!=="speech"?o.DynamicCstr.DEFAULT_VALUES[o.Axis.DOMAIN]:L];const I=O.getOrder();for(let P,k=0;P=I[k];k++)if(!T[P]){const B=O.getValue(P),F=this.makeSet_(B,O.preference),H=o.DynamicCstr.DEFAULT_VALUES[P];A||B===H||F.push(H),T[P]=F}O.updateProperties(T)}makeSet_(O,A){return A&&Object.keys(A).length?O.split(":"):[O]}lookupRule(O,A){if(!O||O.nodeType!==x.NodeType.ELEMENT_NODE&&O.nodeType!==x.NodeType.TEXT_NODE)return null;const _=this.lookupRules(O,A);return _.length>0?this.pickMostConstraint_(A,_):null}lookupRules(O,A){return this.trie.lookupRules(O,A.allProperties())}pickMostConstraint_(O,A){const _=y.default.getInstance().comparator;return A.sort(function(T,N){return _.compare(T.dynamicCstr,N.dynamicCstr)||N.precondition.priority-T.precondition.priority||N.precondition.constraints.length-T.precondition.constraints.length||N.precondition.rank-T.precondition.rank}),C.Debugger.getInstance().generateOutput((()=>A.map(T=>T.name+"("+T.dynamicCstr.toString()+")")).bind(this)),A[0]}}e.SpeechRuleEngine=m;const g=new Map;function E(S){const O=`${S.locale}.${S.modality}.${S.domain}`;if(S.kind==="actions"){const _=g.get(O);return _.parse(S),_}s.init(),S&&!S.functions&&(S.functions=c.getStore(S.locale,S.modality,S.domain));const A=S.modality==="braille"?new a.BrailleStore:new u.MathStore;return g.set(O,A),S.inherits&&(A.inherits=g.get(`${S.inherits}.${S.modality}.${S.domain}`)),A.parse(S),A.initialize(),A}e.storeFactory=E,y.default.nodeEvaluator=m.getInstance().evaluateNode.bind(m.getInstance())},5662:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CustomGenerators=e.ContextFunctions=e.CustomStrings=e.CustomQueries=void 0;class v{constructor(C,x){this.prefix=C,this.store=x}add(C,x){this.checkCustomFunctionSyntax_(C)&&(this.store[C]=x)}addStore(C){const x=Object.keys(C.store);for(let y,d=0;y=x[d];d++)this.add(y,C.store[y])}lookup(C){return this.store[C]}checkCustomFunctionSyntax_(C){const x=new RegExp("^"+this.prefix);return!!C.match(x)||(console.error("FunctionError: Invalid function name. Expected prefix "+this.prefix),!1)}}e.CustomQueries=class extends v{constructor(){super("CQF",{})}},e.CustomStrings=class extends v{constructor(){super("CSF",{})}},e.ContextFunctions=class extends v{constructor(){super("CTF",{})}},e.CustomGenerators=class extends v{constructor(){super("CGF",{})}}},365:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.contentIterator=e.pauseSeparator=e.nodeCounter=void 0;const M=v(7052),C=v(5274),x=v(5897);e.nodeCounter=function(y,d){const f=y.length;let c=0,s=d;return d||(s=""),function(){return c<f&&(c+=1),s+" "+c}},e.pauseSeparator=function(y,d){const f=parseFloat(d),c=isNaN(f)?d:f;return function(){return[M.AuditoryDescription.create({text:"",personality:{pause:c}})]}},e.contentIterator=function(y,d){let f;return f=y.length>0?C.evalXPath("../../content/*",y[0]):[],function(){const c=f.shift(),s=d?[M.AuditoryDescription.create({text:d},{translate:!0})]:[];if(!c)return s;const a=x.default.evaluateNode(c);return s.concat(a)}}},1414:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.getTreeFromString=e.getTree=e.xmlTree=void 0;const M=v(5740),C=v(7075);function x(y){return new C.SemanticTree(y)}e.xmlTree=function(y){return x(y).xml()},e.getTree=x,e.getTreeFromString=function(y){return x(M.parseInput(y))}},7630:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.annotate=e.activate=e.register=e.visitors=e.annotators=void 0;const M=v(9265);e.annotators=new Map,e.visitors=new Map,e.register=function(C){const x=C.domain+":"+C.name;C instanceof M.SemanticAnnotator?e.annotators.set(x,C):e.visitors.set(x,C)},e.activate=function(C,x){const y=C+":"+x,d=e.annotators.get(y)||e.visitors.get(y);d&&(d.active=!0)},e.annotate=function(C){for(const x of e.annotators.values())x.active&&x.annotate(C);for(const x of e.visitors.values())x.active&&x.visit(C,Object.assign({},x.def))}},9265:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticVisitor=e.SemanticAnnotator=void 0,e.SemanticAnnotator=class{constructor(v,M,C){this.domain=v,this.name=M,this.func=C,this.active=!1}annotate(v){v.childNodes.forEach(this.annotate.bind(this)),v.addAnnotation(this.domain,this.func(v))}},e.SemanticVisitor=class{constructor(v,M,C,x={}){this.domain=v,this.name=M,this.func=C,this.def=x,this.active=!1}visit(v,M){let C=this.func(v,M);v.addAnnotation(this.domain,C[0]);for(let x,y=0;x=v.childNodes[y];y++)C=this.visit(x,C[1]);return C}}},3588:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.lookupSecondary=e.isEmbellishedType=e.isMatchingFence=e.functionApplication=e.invisibleComma=e.invisiblePlus=e.invisibleTimes=e.lookupMeaning=e.lookupRole=e.lookupType=e.equal=e.allLettersRegExp=void 0;const v=String.fromCodePoint(8291),M=["","",",",v],C=["","","","","","","-","","","","","","","","","","_"],x=["~","","","","","","",""],y={"(":")","[":"]","{":"}","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},d={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},f=Object.keys(y),c=Object.values(y);c.push("");const s=Object.keys(d),a=Object.values(d),o=["|","","","","","","","","","",""],l=["","","",""],u=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],p=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","",""],h=["","","","","","","","","","","","","","","","","","","","","","","","","",""],m=["","","","","","","","","","","","","","","","","","","","","","","","","",""],g=["","","","","","","","","","","","","","","","","","","","","","","","","",""],E=["","","","","","","","","","","","","","","","","","","","","","","","","",""],S=["","","","","","","","","","","","","","","","","","","","","","","","","",""],O=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=["","","","","","","","","","","","","","","","","","","","","","","","","",""],_=["","","","","","","","","","","","","","","","","","","","","","","","","",""],T=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=["","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=["","","","","","","","","","","","","","","","","","","","","","","","","",""],L=["","","","","","","","","","","","","","","","","","","","","","","","","",""],I=["","","","","","","","","","","","","","","","","","","","","","","","","",""],P=["","","","","","","","","","","","","","","","","","","","","","","","","",""],k=["","","","","","","","","","","","","","","","","","","","","","","","","",""],B=["","","","","","","","","","","","","","","","","","","","","","","","","",""],F=["","","","","","","","","","","","","","","","","","","","","","","","","",""],H=["","","","","","","","","","","","","","","","","","","","","","","","","",""],j=["","","","","","","","","","","","","","","","","","","","","","","","","",""],U=["","","","","","","","","","","","","","","","","","","","","","","","","",""],z=["","","","","","","","","","","","","","","","","","","","","","","","","",""],K=["","","","","","","","","","","","","","","","","","","","","","","","","",""],W=["","","","","","","","","","","","","","","","","","","","","","","","","",""],q=["","","","","","","","","","","","","","","","","","","","","","","","","",""],X=["","","","","","","","","","","","","","","","","","","","","","","","","",""],D=["","","","","","","","","","","","","","","","","","","","","","","","","",""],V=["","","","","","","","","","","","","","","","","","","","","","","","","",""],G=["","","","","","","","","","","","","","","","","","","","","","","","","",""],J=["","","","",""],$=["","","","","","","","","","","","","","","","","","","","","","","",""],Y=["","","","","","","","","","","","","","","","","","","","","","","","",""],et=["","","","","","","","","","","","","","","","","","","","","","","",""],it=["","","","","","","","","","","","","","","","","","","","","","","","",""],nt=["","","","","","","","","","","","","","","","","","","","","","","",""],at=["","","","","","","","","","","","","","","","","","","","","","","","",""],lt=["","","","","","","","","","","","","","","","","","","","","","","",""],ht=["","","","","","","","","","","","","","","","","","","","","","","","",""],dt=["","","","","","","","","","","","","","","","","","","","","","","",""],mt=["","","","","","","","","","","","","","","","","","","","","","","","",""],yt=["","","","","","","","","","","","","","","","","","","","","","","",""],gt=["","","","","","","","","","","","","","","","","","","","","","","","",""],bt=["","","",""],vt=["","","","","","","","","",""],St=["","","","","",""],Mt=["","","","","",""],Ot=["","","","","",""],_t=["","","",""],Lt=u.concat(p,h,m,g,E,S,A,_,O,T,N,w,L,I,P,k,B,F,H,j,U,z,K,W,q,X,D,V,G,J,$,Y,et,it,nt,at,lt,ht,dt,mt,bt,vt,yt,gt,St,Mt,Ot,_t);e.allLettersRegExp=new RegExp(Lt.join("|"));const xt=["+","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Et=String.fromCodePoint(8292);xt.push(Et);const At=["","","","","","","","","","","","","","","","","","","","","","*","",""],Ct=String.fromCodePoint(8290);At.push(Ct);const Tt=String.fromCodePoint(8289),It=["","","","","","","","","","","","","","","","","","","",""],Pt=["","","","","","","","","",""].concat(["","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),Rt=["cos","cot","csc","sec","sin","tan","arccos","arccot","arccsc","arcsec","arcsin","arctan","arc cos","arc cot","arc csc","arc sec","arc sin","arc tan"].concat(["cosh","coth","csch","sech","sinh","tanh","arcosh","arcoth","arcsch","arsech","arsinh","artanh","arccosh","arccoth","arccsch","arcsech","arcsinh","arctanh"],["deg","det","dim","hom","ker","Tr","tr"],["log","ln","lg","exp","expt","gcd","gcd","arg","im","re","Pr"]),kt=[{set:["!",'"',"#","%","&",";","?","@","\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],type:"punctuation",role:"unknown"},{set:["",":","",""],type:"punctuation",role:"colon"},{set:M,type:"punctuation",role:"comma"},{set:["","","","","",""],type:"punctuation",role:"ellipsis"},{set:[".","",""],type:"punctuation",role:"fullstop"},{set:C,type:"operator",role:"dash"},{set:x,type:"operator",role:"tilde"},{set:["'","","","","","","","","",""],type:"punctuation",role:"prime"},{set:[""],type:"punctuation",role:"degree"},{set:f,type:"fence",role:"open"},{set:c,type:"fence",role:"close"},{set:s,type:"fence",role:"top"},{set:a,type:"fence",role:"bottom"},{set:o,type:"fence",role:"neutral"},{set:l,type:"fence",role:"metric"},{set:p,type:"identifier",role:"latinletter",font:"normal"},{set:u,type:"identifier",role:"latinletter",font:"normal"},{set:m,type:"identifier",role:"latinletter",font:"normal"},{set:h,type:"identifier",role:"latinletter",font:"normal"},{set:E,type:"identifier",role:"latinletter",font:"bold"},{set:g,type:"identifier",role:"latinletter",font:"bold"},{set:O,type:"identifier",role:"latinletter",font:"italic"},{set:S,type:"identifier",role:"latinletter",font:"italic"},{set:_,type:"identifier",role:"latinletter",font:"bold-italic"},{set:A,type:"identifier",role:"latinletter",font:"bold-italic"},{set:N,type:"identifier",role:"latinletter",font:"script"},{set:T,type:"identifier",role:"latinletter",font:"script"},{set:L,type:"identifier",role:"latinletter",font:"bold-script"},{set:w,type:"identifier",role:"latinletter",font:"bold-script"},{set:P,type:"identifier",role:"latinletter",font:"fraktur"},{set:I,type:"identifier",role:"latinletter",font:"fraktur"},{set:B,type:"identifier",role:"latinletter",font:"double-struck"},{set:k,type:"identifier",role:"latinletter",font:"double-struck"},{set:H,type:"identifier",role:"latinletter",font:"bold-fraktur"},{set:F,type:"identifier",role:"latinletter",font:"bold-fraktur"},{set:U,type:"identifier",role:"latinletter",font:"sans-serif"},{set:j,type:"identifier",role:"latinletter",font:"sans-serif"},{set:K,type:"identifier",role:"latinletter",font:"sans-serif-bold"},{set:z,type:"identifier",role:"latinletter",font:"sans-serif-bold"},{set:q,type:"identifier",role:"latinletter",font:"sans-serif-italic"},{set:W,type:"identifier",role:"latinletter",font:"sans-serif-italic"},{set:D,type:"identifier",role:"latinletter",font:"sans-serif-bold-italic"},{set:X,type:"identifier",role:"latinletter",font:"sans-serif-bold-italic"},{set:G,type:"identifier",role:"latinletter",font:"monospace"},{set:V,type:"identifier",role:"latinletter",font:"monospace"},{set:J,type:"identifier",role:"latinletter",font:"double-struck-italic"},{set:Y,type:"identifier",role:"greekletter",font:"normal"},{set:$,type:"identifier",role:"greekletter",font:"normal"},{set:it,type:"identifier",role:"greekletter",font:"bold"},{set:et,type:"identifier",role:"greekletter",font:"bold"},{set:at,type:"identifier",role:"greekletter",font:"italic"},{set:nt,type:"identifier",role:"greekletter",font:"italic"},{set:ht,type:"identifier",role:"greekletter",font:"bold-italic"},{set:lt,type:"identifier",role:"greekletter",font:"bold-italic"},{set:mt,type:"identifier",role:"greekletter",font:"sans-serif-bold"},{set:dt,type:"identifier",role:"greekletter",font:"sans-serif-bold"},{set:yt,type:"identifier",role:"greekletter",font:"sans-serif-bold-italic"},{set:gt,type:"identifier",role:"greekletter",font:"sans-serif-bold-italic"},{set:bt,type:"identifier",role:"greekletter",font:"double-struck"},{set:vt,type:"identifier",role:"greekletter",font:"normal"},{set:St,type:"identifier",role:"greekletter",font:"bold"},{set:Mt,type:"identifier",role:"greekletter",font:"italic"},{set:Ot,type:"identifier",role:"greekletter",font:"sans-serif-bold"},{set:_t,type:"identifier",role:"otherletter",font:"normal"},{set:["0","1","2","3","4","5","6","7","8","9"],type:"number",role:"integer",font:"normal"},{set:["","","","","","","","","",""],type:"number",role:"integer",font:"normal"},{set:["","","","","","","","","",""],type:"number",role:"integer",font:"bold"},{set:["","","","","","","","","",""],type:"number",role:"integer",font:"double-struck"},{set:["","","","","","","","","",""],type:"number",role:"integer",font:"sans-serif"},{set:["","","","","","","","","",""],type:"number",role:"integer",font:"sans-serif-bold"},{set:["","","","","","","","","",""],type:"number",role:"integer",font:"monospace"},{set:It,type:"number",role:"float"},{set:Pt,type:"number",role:"othernumber"},{set:xt,type:"operator",role:"addition"},{set:At,type:"operator",role:"multiplication"},{set:["","-","","","","","","","","","","","","","","","","","","","",""],type:"operator",role:"subtraction"},{set:["/","","","","","","",""],type:"operator",role:"division"},{set:["","","","","","",""],type:"operator",role:"prefix operator"},{set:["","","",""],type:"operator",role:"prefix operator",font:"bold"},{set:["",""],type:"operator",role:"prefix operator",font:"italic"},{set:["",""],type:"operator",role:"prefix operator",font:"sans-serif-bold"},{set:["=","~","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],type:"relation",role:"equality"},{set:["<",">","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],type:"relation",role:"inequality"},{set:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],type:"relation",role:"set"},{set:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],type:"relation",role:"unknown"},{set:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],type:"relation",role:"arrow"},{set:["","","","","","","","","","",""],type:"operator",role:"element"},{set:[""],type:"operator",role:"nonelement"},{set:["","","","","","",""],type:"operator",role:"reelement"},{set:[""],type:"operator",role:"renonelement"},{set:["","","","","","","","","","","","","","","","","","","","","",""],type:"largeop",role:"sum"},{set:["","","","","","","","","","","","","","","","","","","","","","","","","",""],type:"largeop",role:"integral"},{set:["","","","","","","","","",""],type:"operator",role:"geometry"},{set:["inf","lim","liminf","limsup","max","min","sup","injlim","projlim","inj lim","proj lim"],type:"function",role:"limit function"},{set:Rt,type:"function",role:"prefix function"},{set:["mod","rem"],type:"operator",role:"prefix function"}],ut=function(){const Q={};for(let rt,ct=0;rt=kt[ct];ct++)rt.set.forEach(function(pt){Q[pt]={role:rt.role||"unknown",type:rt.type||"unknown",font:rt.font||"unknown"}});return Q}();e.equal=function(Q,rt){return Q.type===rt.type&&Q.role===rt.role&&Q.font===rt.font},e.lookupType=function(Q){var rt;return((rt=ut[Q])===null||rt===void 0?void 0:rt.type)||"unknown"},e.lookupRole=function(Q){var rt;return((rt=ut[Q])===null||rt===void 0?void 0:rt.role)||"unknown"},e.lookupMeaning=function(Q){return ut[Q]||{role:"unknown",type:"unknown",font:"unknown"}},e.invisibleTimes=function(){return Ct},e.invisiblePlus=function(){return Et},e.invisibleComma=function(){return v},e.functionApplication=function(){return Tt},e.isMatchingFence=function(Q,rt){return o.indexOf(Q)!==-1||l.indexOf(Q)!==-1?Q===rt:y[Q]===rt||d[Q]===rt},e.isEmbellishedType=function(Q){return Q==="operator"||Q==="relation"||Q==="fence"||Q==="punctuation"};const Nt=new Map;function wt(Q,rt){return`${Q} ${rt}`}function ft(Q,rt,ct=""){for(const pt of rt)Nt.set(wt(Q,pt),ct||Q)}ft("d",["d","","","","","","","","","","","","",""]),ft("bar",C),ft("tilde",x),e.lookupSecondary=function(Q,rt){return Nt.get(wt(Q,rt))}},8158:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticMeaningCollator=e.SemanticNodeCollator=e.SemanticDefault=void 0;const M=v(3588),C=v(3882);class x{constructor(){this.map={}}static key(s,a){return a?s+":"+a:s}add(s,a){this.map[x.key(s,a.font)]=a}addNode(s){this.add(s.textContent,s.meaning())}retrieve(s,a){return this.map[x.key(s,a)]}retrieveNode(s){return this.retrieve(s.textContent,s.font)}size(){return Object.keys(this.map).length}}e.SemanticDefault=x;class y{constructor(){this.map={}}add(s,a){const o=this.map[s];o?o.push(a):this.map[s]=[a]}retrieve(s,a){return this.map[x.key(s,a)]}retrieveNode(s){return this.retrieve(s.textContent,s.font)}copy(){const s=this.copyCollator();for(const a in this.map)s.map[a]=this.map[a];return s}minimize(){for(const s in this.map)this.map[s].length===1&&delete this.map[s]}minimalCollator(){const s=this.copy();for(const a in s.map)s.map[a].length===1&&delete s.map[a];return s}isMultiValued(){for(const s in this.map)if(this.map[s].length>1)return!0;return!1}isEmpty(){return!Object.keys(this.map).length}}class d extends y{copyCollator(){return new d}add(s,a){const o=x.key(s,a.font);super.add(o,a)}addNode(s){this.add(s.textContent,s)}toString(){const s=[];for(const a in this.map){const o=Array(a.length+3).join(" "),l=this.map[a],u=[];for(let p,h=0;p=l[h];h++)u.push(p.toString());s.push(a+": "+u.join(`
`+o))}return s.join(`
`)}collateMeaning(){const s=new f;for(const a in this.map)s.map[a]=this.map[a].map(function(o){return o.meaning()});return s}}e.SemanticNodeCollator=d;class f extends y{copyCollator(){return new f}add(s,a){const o=this.retrieve(s,a.font);if(!o||!o.find(function(l){return M.equal(l,a)})){const l=x.key(s,a.font);super.add(l,a)}}addNode(s){this.add(s.textContent,s.meaning())}toString(){const s=[];for(const a in this.map){const o=Array(a.length+3).join(" "),l=this.map[a],u=[];for(let p,h=0;p=l[h];h++)u.push("{type: "+p.type+", role: "+p.role+", font: "+p.font+"}");s.push(a+": "+u.join(`
`+o))}return s.join(`
`)}reduce(){for(const s in this.map)this.map[s].length!==1&&(this.map[s]=(0,C.reduce)(this.map[s]))}default(){const s=new x;for(const a in this.map)this.map[a].length===1&&(s.map[a]=this.map[a][0]);return s}newDefault(){const s=this.default();this.reduce();const a=this.default();return s.size()!==a.size()?a:null}}e.SemanticMeaningCollator=f},9911:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticMultiHeuristic=e.SemanticTreeHeuristic=e.SemanticAbstractHeuristic=void 0;class v{constructor(C,x,y=d=>!1){this.name=C,this.apply=x,this.applicable=y}}e.SemanticAbstractHeuristic=v,e.SemanticTreeHeuristic=class extends v{},e.SemanticMultiHeuristic=class extends v{}},7516:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.lookup=e.run=e.add=e.blacklist=e.flags=e.updateFactory=e.factory=void 0,e.factory=null,e.updateFactory=function(C){e.factory=C};const v=new Map;function M(C){return v.get(C)}e.flags={combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},e.blacklist={},e.add=function(C){const x=C.name;v.set(x,C),e.flags[x]||(e.flags[x]=!1)},e.run=function(C,x,y){const d=M(C);return d&&!e.blacklist[C]&&(e.flags[C]||d.applicable(x))?d.apply(x):y?y(x):x},e.lookup=M},94:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(2057),C=v(5897),x=v(3588),y=v(7516),d=v(9911),f=v(5609),c=v(3308),s=v(4795);function a(l,u,p){let h=null;if(!l.length)return h;const m=p[p.length-1],g=m&&m.length,E=u&&u.length,S=c.default.getInstance();if(g&&E){if(u[0].type==="infixop"&&u[0].role==="implicit")return h=l.pop(),m.push(S.postfixNode_(m.pop(),l)),h;h=l.shift();const O=S.prefixNode_(u.shift(),l);return u.unshift(O),h}return g?(m.push(S.postfixNode_(m.pop(),l)),h):(E&&u.unshift(S.prefixNode_(u.shift(),l)),h)}function o(l,u,p){if(!u.length)return l;const h=l.pop(),m=u.shift(),g=p.shift();if(f.isImplicitOp(m)){M.Debugger.getInstance().output("Juxta Heuristic Case 2");const O=(h?[h,m]:[m]).concat(g);return o(l.concat(O),u,p)}if(!h)return M.Debugger.getInstance().output("Juxta Heuristic Case 3"),o([m].concat(g),u,p);const E=g.shift();if(!E){M.Debugger.getInstance().output("Juxta Heuristic Case 9");const O=y.factory.makeBranchNode("infixop",[h,u.shift()],[m],m.textContent);return O.role="implicit",y.run("combine_juxtaposition",O),u.unshift(O),o(l,u,p)}if(f.isOperator(h)||f.isOperator(E))return M.Debugger.getInstance().output("Juxta Heuristic Case 4"),o(l.concat([h,m,E]).concat(g),u,p);let S=null;return f.isImplicitOp(h)&&f.isImplicitOp(E)?(M.Debugger.getInstance().output("Juxta Heuristic Case 5"),h.contentNodes.push(m),h.contentNodes=h.contentNodes.concat(E.contentNodes),h.childNodes.push(E),h.childNodes=h.childNodes.concat(E.childNodes),E.childNodes.forEach(O=>O.parent=h),m.parent=h,h.addMathmlNodes(m.mathml),h.addMathmlNodes(E.mathml),S=h):f.isImplicitOp(h)?(M.Debugger.getInstance().output("Juxta Heuristic Case 6"),h.contentNodes.push(m),h.childNodes.push(E),E.parent=h,m.parent=h,h.addMathmlNodes(m.mathml),h.addMathmlNodes(E.mathml),S=h):f.isImplicitOp(E)?(M.Debugger.getInstance().output("Juxta Heuristic Case 7"),E.contentNodes.unshift(m),E.childNodes.unshift(h),h.parent=E,m.parent=E,E.addMathmlNodes(m.mathml),E.addMathmlNodes(h.mathml),S=E):(M.Debugger.getInstance().output("Juxta Heuristic Case 8"),S=y.factory.makeBranchNode("infixop",[h,E],[m],m.textContent),S.role="implicit"),l.push(S),o(l.concat(g),u,p)}y.add(new d.SemanticTreeHeuristic("combine_juxtaposition",function(l){for(let u,p=l.childNodes.length-1;u=l.childNodes[p];p--)f.isImplicitOp(u)&&!u.nobreaking&&(l.childNodes.splice(p,1,...u.childNodes),l.contentNodes.splice(p,0,...u.contentNodes),u.childNodes.concat(u.contentNodes).forEach(function(h){h.parent=l}),l.addMathmlNodes(u.mathml));return l})),y.add(new d.SemanticTreeHeuristic("propagateSimpleFunction",l=>(l.type!=="infixop"&&l.type!=="fraction"||!l.childNodes.every(f.isSimpleFunction)||(l.role="composed function"),l),l=>C.default.getInstance().domain==="clearspeak")),y.add(new d.SemanticTreeHeuristic("simpleNamedFunction",l=>(l.role!=="unit"&&["f","g","h","F","G","H"].indexOf(l.textContent)!==-1&&(l.role="simple function"),l),l=>C.default.getInstance().domain==="clearspeak")),y.add(new d.SemanticTreeHeuristic("propagateComposedFunction",l=>(l.type==="fenced"&&l.childNodes[0].role==="composed function"&&(l.role="composed function"),l),l=>C.default.getInstance().domain==="clearspeak")),y.add(new d.SemanticTreeHeuristic("multioperator",l=>{if(l.role!=="unknown"||l.textContent.length<=1)return;const u=[...l.textContent].map(x.lookupMeaning).reduce(function(p,h){return p&&h.role&&h.role!=="unknown"&&h.role!==p?p==="unknown"?h.role:null:p},"unknown");u&&(l.role=u)})),y.add(new d.SemanticMultiHeuristic("convert_juxtaposition",l=>{let u=s.partitionNodes(l,function(p){return p.textContent===x.invisibleTimes()&&p.type==="operator"});u=u.rel.length?function(p){const h=[],m=[];let g=p.comp.shift(),E=null,S=[];for(;p.comp.length;)if(S=[],g.length)E&&h.push(E),m.push(g),E=p.rel.shift(),g=p.comp.shift();else{for(E&&S.push(E);!g.length&&p.comp.length;)g=p.comp.shift(),S.push(p.rel.shift());E=a(S,g,m)}return S.length||g.length?(h.push(E),m.push(g)):(S.push(E),a(S,g,m)),{rel:h,comp:m}}(u):u,l=u.comp[0];for(let p,h,m=1;p=u.comp[m],h=u.rel[m-1];m++)l.push(h),l=l.concat(p);return u=s.partitionNodes(l,function(p){return p.textContent===x.invisibleTimes()&&(p.type==="operator"||p.type==="infixop")}),u.rel.length?o(u.comp.shift(),u.rel,u.comp):l})),y.add(new d.SemanticTreeHeuristic("simple2prefix",l=>(l.textContent.length>1&&!l.textContent[0].match(/[A-Z]/)&&(l.role="prefix function"),l),l=>C.default.getInstance().modality==="braille"&&l.type==="identifier")),y.add(new d.SemanticTreeHeuristic("detect_cycle",l=>{l.type="matrix",l.role="cycle";const u=l.childNodes[0];return u.type="row",u.role="cycle",u.textContent="",u.contentNodes=[],l},l=>l.type==="fenced"&&l.childNodes[0].type==="infixop"&&l.childNodes[0].role==="implicit"&&l.childNodes[0].childNodes.every(function(u){return u.type==="number"})&&l.childNodes[0].contentNodes.every(function(u){return u.role==="space"})))},7228:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticMathml=void 0;const M=v(5740),C=v(5250),x=v(5609),y=v(3308),d=v(4795);class f extends C.SemanticAbstractParser{constructor(){super("MathML"),this.parseMap_={SEMANTICS:this.semantics_.bind(this),MATH:this.rows_.bind(this),MROW:this.rows_.bind(this),MPADDED:this.rows_.bind(this),MSTYLE:this.rows_.bind(this),MFRAC:this.fraction_.bind(this),MSUB:this.limits_.bind(this),MSUP:this.limits_.bind(this),MSUBSUP:this.limits_.bind(this),MOVER:this.limits_.bind(this),MUNDER:this.limits_.bind(this),MUNDEROVER:this.limits_.bind(this),MROOT:this.root_.bind(this),MSQRT:this.sqrt_.bind(this),MTABLE:this.table_.bind(this),MLABELEDTR:this.tableLabeledRow_.bind(this),MTR:this.tableRow_.bind(this),MTD:this.tableCell_.bind(this),MS:this.text_.bind(this),MTEXT:this.text_.bind(this),MSPACE:this.space_.bind(this),"ANNOTATION-XML":this.text_.bind(this),MI:this.identifier_.bind(this),MN:this.number_.bind(this),MO:this.operator_.bind(this),MFENCED:this.fenced_.bind(this),MENCLOSE:this.enclosed_.bind(this),MMULTISCRIPTS:this.multiscripts_.bind(this),ANNOTATION:this.empty_.bind(this),NONE:this.empty_.bind(this),MACTION:this.action_.bind(this)};const s={type:"identifier",role:"numbersetletter",font:"double-struck"};["C","H","N","P","Q","R","Z","","","","","","",""].forEach((a=>this.getFactory().defaultMap.add(a,s)).bind(this))}static getAttribute_(s,a,o){if(!s.hasAttribute(a))return o;const l=s.getAttribute(a);return l.match(/^\s*$/)?null:l}parse(s){y.default.getInstance().setNodeFactory(this.getFactory());const a=M.toArray(s.childNodes),o=M.tagName(s),l=this.parseMap_[o],u=(l||this.dummy_.bind(this))(s,a);return d.addAttributes(u,s),["MATH","MROW","MPADDED","MSTYLE","SEMANTICS"].indexOf(o)!==-1||(u.mathml.unshift(s),u.mathmlTree=s),u}semantics_(s,a){return a.length?this.parse(a[0]):this.getFactory().makeEmptyNode()}rows_(s,a){const o=s.getAttribute("semantics");if(o&&o.match("bspr_"))return y.default.proof(s,o,this.parseList.bind(this));let l;return(a=d.purgeNodes(a)).length===1?(l=this.parse(a[0]),l.type!=="empty"||l.mathmlTree||(l.mathmlTree=s)):l=y.default.getInstance().row(this.parseList(a)),l.mathml.unshift(s),l}fraction_(s,a){if(!a.length)return this.getFactory().makeEmptyNode();const o=this.parse(a[0]),l=a[1]?this.parse(a[1]):this.getFactory().makeEmptyNode();return y.default.getInstance().fractionLikeNode(o,l,s.getAttribute("linethickness"),s.getAttribute("bevelled")==="true")}limits_(s,a){return y.default.getInstance().limitNode(M.tagName(s),this.parseList(a))}root_(s,a){return a[1]?this.getFactory().makeBranchNode("root",[this.parse(a[1]),this.parse(a[0])],[]):this.sqrt_(s,a)}sqrt_(s,a){const o=this.parseList(d.purgeNodes(a));return this.getFactory().makeBranchNode("sqrt",[y.default.getInstance().row(o)],[])}table_(s,a){const o=s.getAttribute("semantics");if(o&&o.match("bspr_"))return y.default.proof(s,o,this.parseList.bind(this));const l=this.getFactory().makeBranchNode("table",this.parseList(a),[]);return l.mathmlTree=s,y.default.tableToMultiline(l),l}tableRow_(s,a){const o=this.getFactory().makeBranchNode("row",this.parseList(a),[]);return o.role="table",o}tableLabeledRow_(s,a){if(!a.length)return this.tableRow_(s,a);const o=this.parse(a[0]);o.role="label";const l=this.getFactory().makeBranchNode("row",this.parseList(a.slice(1)),[o]);return l.role="table",l}tableCell_(s,a){const o=this.parseList(d.purgeNodes(a));let l;l=o.length?o.length===1&&x.isType(o[0],"empty")?o:[y.default.getInstance().row(o)]:[];const u=this.getFactory().makeBranchNode("cell",l,[]);return u.role="table",u}space_(s,a){const o=s.getAttribute("width"),l=o&&o.match(/[a-z]*$/);if(!l)return this.empty_(s,a);const u=l[0],p=parseFloat(o.slice(0,l.index)),h={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[u];if(!h||isNaN(p)||p<h)return this.empty_(s,a);const m=this.getFactory().makeUnprocessed(s);return y.default.getInstance().text(m,M.tagName(s))}text_(s,a){const o=this.leaf_(s,a);return s.textContent?(o.updateContent(s.textContent,!0),y.default.getInstance().text(o,M.tagName(s))):o}identifier_(s,a){const o=this.leaf_(s,a);return y.default.getInstance().identifierNode(o,y.default.getInstance().font(s.getAttribute("mathvariant")),s.getAttribute("class"))}number_(s,a){const o=this.leaf_(s,a);return y.default.number(o),o}operator_(s,a){const o=this.leaf_(s,a);return y.default.getInstance().operatorNode(o),o}fenced_(s,a){const o=this.parseList(d.purgeNodes(a)),l=f.getAttribute_(s,"separators",","),u=f.getAttribute_(s,"open","("),p=f.getAttribute_(s,"close",")"),h=y.default.getInstance().mfenced(u,p,l,o);return y.default.getInstance().tablesInRow([h])[0]}enclosed_(s,a){const o=this.parseList(d.purgeNodes(a)),l=this.getFactory().makeBranchNode("enclose",[y.default.getInstance().row(o)],[]);return l.role=s.getAttribute("notation")||"unknown",l}multiscripts_(s,a){if(!a.length)return this.getFactory().makeEmptyNode();const o=this.parse(a.shift());if(!a.length)return o;const l=[],u=[],p=[],h=[];let m=!1,g=0;for(let E,S=0;E=a[S];S++)M.tagName(E)!=="MPRESCRIPTS"?(m?1&g?l.push(E):u.push(E):1&g?p.push(E):h.push(E),g++):(m=!0,g=0);return d.purgeNodes(l).length||d.purgeNodes(u).length?y.default.getInstance().tensor(o,this.parseList(u),this.parseList(l),this.parseList(h),this.parseList(p)):y.default.getInstance().pseudoTensor(o,this.parseList(h),this.parseList(p))}empty_(s,a){return this.getFactory().makeEmptyNode()}action_(s,a){return a.length>1?this.parse(a[1]):this.getFactory().makeUnprocessed(s)}dummy_(s,a){const o=this.getFactory().makeUnprocessed(s);return o.role=s.tagName,o.textContent=s.textContent,o}leaf_(s,a){if(a.length===1&&a[0].nodeType!==M.NodeType.TEXT_NODE){const o=this.getFactory().makeUnprocessed(s);return o.role=a[0].tagName,d.addAttributes(o,a[0]),o}return this.getFactory().makeLeafNode(s.textContent,y.default.getInstance().font(s.getAttribute("mathvariant")))}}e.SemanticMathml=f},5952:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticNode=void 0;const M=v(5740),C=v(3588),x=v(4795);class y{constructor(f){this.id=f,this.mathml=[],this.parent=null,this.type="unknown",this.role="unknown",this.font="unknown",this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}static fromXml(f){const c=parseInt(f.getAttribute("id"),10),s=new y(c);return s.type=f.tagName,y.setAttribute(s,f,"role"),y.setAttribute(s,f,"font"),y.setAttribute(s,f,"embellished"),y.setAttribute(s,f,"fencepointer","fencePointer"),f.getAttribute("annotation")&&s.parseAnnotation(f.getAttribute("annotation")),x.addAttributes(s,f),y.processChildren(s,f),s}static setAttribute(f,c,s,a){a=a||s;const o=c.getAttribute(s);o&&(f[a]=o)}static processChildren(f,c){for(const s of M.toArray(c.childNodes)){if(s.nodeType===M.NodeType.TEXT_NODE){f.textContent=s.textContent;continue}const a=M.toArray(s.childNodes).map(y.fromXml);a.forEach(o=>o.parent=f),M.tagName(s)==="CONTENT"?f.contentNodes=a:f.childNodes=a}}querySelectorAll(f){let c=[];for(let s,a=0;s=this.childNodes[a];a++)c=c.concat(s.querySelectorAll(f));for(let s,a=0;s=this.contentNodes[a];a++)c=c.concat(s.querySelectorAll(f));return f(this)&&c.unshift(this),c}xml(f,c){const s=function(o,l){const u=l.map(function(h){return h.xml(f,c)}),p=f.createElementNS("",o);for(let h,m=0;h=u[m];m++)p.appendChild(h);return p},a=f.createElementNS("",this.type);return c||this.xmlAttributes(a),a.textContent=this.textContent,this.contentNodes.length>0&&a.appendChild(s("content",this.contentNodes)),this.childNodes.length>0&&a.appendChild(s("children",this.childNodes)),a}toString(f=!1){const c=M.parseInput("<snode/>");return M.serializeXml(this.xml(c,f))}allAttributes(){const f=[];return f.push(["role",this.role]),this.font!=="unknown"&&f.push(["font",this.font]),Object.keys(this.annotation).length&&f.push(["annotation",this.xmlAnnotation()]),this.embellished&&f.push(["embellished",this.embellished]),this.fencePointer&&f.push(["fencepointer",this.fencePointer]),f.push(["id",this.id.toString()]),f}xmlAnnotation(){const f=[];for(const c in this.annotation)this.annotation[c].forEach(function(s){f.push(c+":"+s)});return f.join(";")}toJson(){const f={};f.type=this.type;const c=this.allAttributes();for(let s,a=0;s=c[a];a++)f[s[0]]=s[1].toString();return this.textContent&&(f.$t=this.textContent),this.childNodes.length&&(f.children=this.childNodes.map(function(s){return s.toJson()})),this.contentNodes.length&&(f.content=this.contentNodes.map(function(s){return s.toJson()})),f}updateContent(f,c){const s=c?f.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):f.trim();if(f=f&&!s?f:s,this.textContent===f)return;const a=(0,C.lookupMeaning)(f);this.textContent=f,this.role=a.role,this.type=a.type,this.font=a.font}addMathmlNodes(f){for(let c,s=0;c=f[s];s++)this.mathml.indexOf(c)===-1&&this.mathml.push(c)}appendChild(f){this.childNodes.push(f),this.addMathmlNodes(f.mathml),f.parent=this}replaceChild(f,c){const s=this.childNodes.indexOf(f);if(s===-1)return;f.parent=null,c.parent=this,this.childNodes[s]=c;const a=f.mathml.filter(function(l){return c.mathml.indexOf(l)===-1}),o=c.mathml.filter(function(l){return f.mathml.indexOf(l)===-1});this.removeMathmlNodes(a),this.addMathmlNodes(o)}appendContentNode(f){f&&(this.contentNodes.push(f),this.addMathmlNodes(f.mathml),f.parent=this)}removeContentNode(f){if(f){const c=this.contentNodes.indexOf(f);c!==-1&&this.contentNodes.slice(c,1)}}equals(f){if(!f||this.type!==f.type||this.role!==f.role||this.textContent!==f.textContent||this.childNodes.length!==f.childNodes.length||this.contentNodes.length!==f.contentNodes.length)return!1;for(let c,s,a=0;c=this.childNodes[a],s=f.childNodes[a];a++)if(!c.equals(s))return!1;for(let c,s,a=0;c=this.contentNodes[a],s=f.contentNodes[a];a++)if(!c.equals(s))return!1;return!0}displayTree(){console.info(this.displayTree_(0))}addAnnotation(f,c){c&&this.addAnnotation_(f,c)}getAnnotation(f){return this.annotation[f]||[]}hasAnnotation(f,c){const s=this.annotation[f];return!!s&&s.indexOf(c)!==-1}parseAnnotation(f){const c=f.split(";");for(let s=0,a=c.length;s<a;s++){const o=c[s].split(":");this.addAnnotation(o[0],o[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(f){const c=this.allAttributes();for(let s,a=0;s=c[a];a++)f.setAttribute(s[0],s[1]);this.addExternalAttributes(f)}addExternalAttributes(f){for(const c in this.attributes)f.setAttribute(c,this.attributes[c])}removeMathmlNodes(f){const c=this.mathml;for(let s,a=0;s=f[a];a++){const o=c.indexOf(s);o!==-1&&c.splice(o,1)}this.mathml=c}displayTree_(f){f++;const c=Array(f).join("  ");let s="";s+=`
`+c+this.toString(),s+=`
`+c+"MathmlTree:",s+=`
`+c+this.mathmlTreeString(),s+=`
`+c+"MathML:";for(let a,o=0;a=this.mathml[o];o++)s+=`
`+c+a.toString();return s+=`
`+c+"Begin Content",this.contentNodes.forEach(function(a){s+=a.displayTree_(f)}),s+=`
`+c+"End Content",s+=`
`+c+"Begin Children",this.childNodes.forEach(function(a){s+=a.displayTree_(f)}),s+=`
`+c+"End Children",s}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"}addAnnotation_(f,c){const s=this.annotation[f];s?s.push(c):this.annotation[f]=[c]}}e.SemanticNode=y},6537:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticNodeFactory=void 0;const M=v(8158),C=v(8158),x=v(5952);e.SemanticNodeFactory=class{constructor(){this.leafMap=new C.SemanticNodeCollator,this.defaultMap=new M.SemanticDefault,this.idCounter_=-1}makeNode(y){return this.createNode_(y)}makeUnprocessed(y){const d=this.createNode_();return d.mathml=[y],d.mathmlTree=y,d}makeEmptyNode(){const y=this.createNode_();return y.type="empty",y}makeContentNode(y){const d=this.createNode_();return d.updateContent(y),d}makeMultipleContentNodes(y,d){const f=[];for(let c=0;c<y;c++)f.push(this.makeContentNode(d));return f}makeLeafNode(y,d){if(!y)return this.makeEmptyNode();const f=this.makeContentNode(y);f.font=d||f.font;const c=this.defaultMap.retrieveNode(f);return c&&(f.type=c.type,f.role=c.role,f.font=c.font),this.leafMap.addNode(f),f}makeBranchNode(y,d,f,c){const s=this.createNode_();return c&&s.updateContent(c),s.type=y,s.childNodes=d,s.contentNodes=f,d.concat(f).forEach(function(a){a.parent=s,s.addMathmlNodes(a.mathml)}),s}createNode_(y){return y!==void 0?this.idCounter_=Math.max(this.idCounter_,y):y=++this.idCounter_,new x.SemanticNode(y)}}},3882:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticComparator=e.reduce=e.sort=e.apply=e.add=void 0;const v=[];function M(d){v.push(d)}function C(d,f){for(let c,s=0;c=v[s];s++){const a=c.compare(d,f);if(a!==0)return a}return 0}function x(d){d.sort(C)}e.add=M,e.apply=C,e.sort=x,e.reduce=function(d){if(d.length<=1)return d;const f=d.slice();x(f);const c=[];let s;do s=f.pop(),c.push(s);while(s&&f.length&&C(f[f.length-1],s)===0);return c};class y{constructor(f,c=null){this.comparator=f,this.type=c,M(this)}compare(f,c){return this.type&&this.type===f.type&&this.type===c.type?this.comparator(f,c):0}}e.SemanticComparator=y,new y(function(d,f){return d.role==="simple function"?1:f.role==="simple function"?-1:0},"identifier")},5250:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticAbstractParser=void 0;const M=v(6537);e.SemanticAbstractParser=class{constructor(C){this.type=C,this.factory_=new M.SemanticNodeFactory}getFactory(){return this.factory_}setFactory(C){this.factory_=C}getType(){return this.type}parseList(C){const x=[];for(let y,d=0;y=C[d];d++)x.push(this.parse(y));return x}}},5609:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.isMembership=e.elligibleRightNeutral=e.elligibleLeftNeutral=e.compareNeutralFences=e.isNeutralFence=e.isImplicitOp=e.isImplicit=e.isPureUnit=e.isUnitCounter=e.isNumber=e.isSingletonSetContent=e.scriptedElement_=e.illegalSingleton_=e.isSetNode=e.isRightBrace=e.isLeftBrace=e.isSimpleFunction=e.singlePunctAtPosition=e.isSimpleFunctionHead=e.isLimitBase=e.isBinomial=e.lineIsLabelled=e.tableIsMultiline=e.tableIsCases=e.isFencedElement=e.tableIsMatrixOrVector=e.isTableOrMultiline=e.isElligibleEmbellishedFence=e.isFence=e.isPunctuation=e.isRelation=e.isOperator=e.isEmbellished=e.isGeneralFunctionBoundary=e.isIntegralDxBoundarySingle=e.isIntegralDxBoundary=e.isBigOpBoundary=e.isPrefixFunctionBoundary=e.isSimpleFunctionScope=e.isAccent=e.isRole=e.embellishedType=e.isType=void 0;const M=v(3588),C=v(4795);function x(S,O){return S.type===O}function y(S,O){return S.embellished===O}function d(S,O){return S.role===O}function f(S){return s(S)||a(S)}function c(S){return x(S,"operator")||y(S,"operator")}function s(S){return x(S,"relation")||y(S,"relation")}function a(S){return x(S,"punctuation")||y(S,"punctuation")}function o(S){return x(S,"fence")||y(S,"fence")}function l(S){return!S.embellished||!function(O){return x(O,"tensor")&&(!x(O.childNodes[1],"empty")||!x(O.childNodes[2],"empty"))&&(!x(O.childNodes[3],"empty")||!x(O.childNodes[4],"empty"))}(S)&&(!d(S,"close")||!x(S,"tensor"))&&(!d(S,"open")||!x(S,"subscript")&&!x(S,"superscript"))&&l(S.childNodes[0])}function u(S){return!!S&&(x(S,"table")||x(S,"multiline"))}function p(S){return!!S&&x(S,"fenced")&&(d(S,"leftright")||E(S))&&S.childNodes.length===1}function h(S){return!!S&&["{","",""].indexOf(S.textContent)!==-1}function m(S){return!!S&&["}","",""].indexOf(S.textContent)!==-1}function g(S){return S.type==="number"&&(S.role==="integer"||S.role==="float")}function E(S){return S.role==="neutral"||S.role==="metric"}e.isType=x,e.embellishedType=y,e.isRole=d,e.isAccent=function(S){const O=new RegExp("|");return x(S,"fence")||x(S,"punctuation")||x(S,"operator")&&!S.textContent.match(O)||x(S,"relation")||x(S,"identifier")&&d(S,"unknown")&&!S.textContent.match(M.allLettersRegExp)&&!S.textContent.match(O)},e.isSimpleFunctionScope=function(S){const O=S.childNodes;if(O.length===0)return!0;if(O.length>1)return!1;const A=O[0];return!(A.type==="infixop"&&(A.role!=="implicit"||A.childNodes.some(_=>x(_,"infixop"))))},e.isPrefixFunctionBoundary=function(S){return c(S)&&!d(S,"division")||x(S,"appl")||f(S)},e.isBigOpBoundary=function(S){return c(S)||f(S)},e.isIntegralDxBoundary=function(S,O){return!!O&&x(O,"identifier")&&M.lookupSecondary("d",S.textContent)},e.isIntegralDxBoundarySingle=function(S){if(x(S,"identifier")){const O=S.textContent[0];return O&&S.textContent[1]&&M.lookupSecondary("d",O)}return!1},e.isGeneralFunctionBoundary=f,e.isEmbellished=function(S){return S.embellished?S.embellished:M.isEmbellishedType(S.type)?S.type:null},e.isOperator=c,e.isRelation=s,e.isPunctuation=a,e.isFence=o,e.isElligibleEmbellishedFence=function(S){return!(!S||!o(S))&&(!S.embellished||l(S))},e.isTableOrMultiline=u,e.tableIsMatrixOrVector=function(S){return!!S&&p(S)&&u(S.childNodes[0])},e.isFencedElement=p,e.tableIsCases=function(S,O){return O.length>0&&d(O[O.length-1],"openfence")},e.tableIsMultiline=function(S){return S.childNodes.every(function(O){return O.childNodes.length<=1})},e.lineIsLabelled=function(S){return x(S,"line")&&S.contentNodes.length&&d(S.contentNodes[0],"label")},e.isBinomial=function(S){return S.childNodes.length===2},e.isLimitBase=function S(O){return x(O,"largeop")||x(O,"limboth")||x(O,"limlower")||x(O,"limupper")||x(O,"function")&&d(O,"limit function")||(x(O,"overscore")||x(O,"underscore"))&&S(O.childNodes[0])},e.isSimpleFunctionHead=function(S){return S.type==="identifier"||S.role==="latinletter"||S.role==="greekletter"||S.role==="otherletter"},e.singlePunctAtPosition=function(S,O,A){return O.length===1&&(S[A].type==="punctuation"||S[A].embellished==="punctuation")&&S[A]===O[0]},e.isSimpleFunction=function(S){return x(S,"identifier")&&d(S,"simple function")},e.isLeftBrace=h,e.isRightBrace=m,e.isSetNode=function(S){return h(S.contentNodes[0])&&m(S.contentNodes[1])},e.illegalSingleton_=["punctuation","punctuated","relseq","multirel","table","multiline","cases","inference"],e.scriptedElement_=["limupper","limlower","limboth","subscript","superscript","underscore","overscore","tensor"],e.isSingletonSetContent=function S(O){const A=O.type;return e.illegalSingleton_.indexOf(A)===-1&&(A!=="infixop"||O.role==="implicit")&&(A==="fenced"?O.role!=="leftright"||S(O.childNodes[0]):e.scriptedElement_.indexOf(A)===-1||S(O.childNodes[0]))},e.isNumber=g,e.isUnitCounter=function(S){return g(S)||S.role==="vulgar"||S.role==="mixed"},e.isPureUnit=function(S){const O=S.childNodes;return S.role==="unit"&&(!O.length||O[0].role==="unit")},e.isImplicit=function(S){return S.role==="implicit"||S.role==="unit"&&!!S.contentNodes.length&&S.contentNodes[0].textContent===M.invisibleTimes()},e.isImplicitOp=function(S){return S.type==="infixop"&&S.role==="implicit"},e.isNeutralFence=E,e.compareNeutralFences=function(S,O){return E(S)&&E(O)&&(0,C.getEmbellishedInner)(S).textContent===(0,C.getEmbellishedInner)(O).textContent},e.elligibleLeftNeutral=function(S){return!!E(S)&&(!S.embellished||S.type!=="superscript"&&S.type!=="subscript"&&(S.type!=="tensor"||S.childNodes[3].type==="empty"&&S.childNodes[4].type==="empty"))},e.elligibleRightNeutral=function(S){return!!E(S)&&(!S.embellished||S.type!=="tensor"||S.childNodes[1].type==="empty"&&S.childNodes[2].type==="empty")},e.isMembership=function(S){return["element","nonelement","reelement","renonelement"].includes(S.role)}},3308:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0});const M=v(5740),C=v(3588),x=v(7516),y=v(6537),d=v(5609),f=v(4795);class c{constructor(){this.funcAppls={},this.factory_=new y.SemanticNodeFactory,x.updateFactory(this.factory_)}static getInstance(){return c.instance=c.instance||new c,c.instance}static tableToMultiline(a){if(d.tableIsMultiline(a)){a.type="multiline";for(let o,l=0;o=a.childNodes[l];l++)c.rowToLine_(o,"multiline");a.childNodes.length===1&&!d.lineIsLabelled(a.childNodes[0])&&d.isFencedElement(a.childNodes[0].childNodes[0])&&c.tableToMatrixOrVector_(c.rewriteFencedLine_(a)),c.binomialForm_(a),c.classifyMultiline(a)}else c.classifyTable(a)}static number(a){a.type!=="unknown"&&a.type!=="identifier"||(a.type="number"),c.numberRole_(a),c.exprFont_(a)}static classifyMultiline(a){let o=0;const l=a.childNodes.length;let u;for(;o<l&&(!(u=a.childNodes[o])||!u.childNodes.length);)o++;if(o>=l)return;const p=u.childNodes[0].role;p!=="unknown"&&a.childNodes.every(function(h){const m=h.childNodes[0];return!m||m.role===p&&(d.isType(m,"relation")||d.isType(m,"relseq"))})&&(a.role=p)}static classifyTable(a){const o=c.computeColumns_(a);c.classifyByColumns_(a,o,"equality")||c.classifyByColumns_(a,o,"inequality",["equality"])||c.classifyByColumns_(a,o,"arrow")||c.detectCaleyTable(a)}static detectCaleyTable(a){if(!a.mathmlTree)return!1;const o=a.mathmlTree,l=o.getAttribute("columnlines"),u=o.getAttribute("rowlines");return!(!l||!u)&&!(!c.cayleySpacing(l)||!c.cayleySpacing(u))&&(a.role="cayley",!0)}static cayleySpacing(a){const o=a.split(" ");return(o[0]==="solid"||o[0]==="dashed")&&o.slice(1).every(l=>l==="none")}static proof(a,o,l){const u=c.separateSemantics(o);return c.getInstance().proof(a,u,l)}static findSemantics(a,o,l){const u=l??null,p=c.getSemantics(a);return!!p&&!!p[o]&&(u==null||p[o]===u)}static getSemantics(a){const o=a.getAttribute("semantics");return o?c.separateSemantics(o):null}static removePrefix(a){const[,...o]=a.split("_");return o.join("_")}static separateSemantics(a){const o={};return a.split(";").forEach(function(l){const[u,p]=l.split(":");o[c.removePrefix(u)]=p}),o}static matchSpaces_(a,o){for(let l,u=0;l=o[u];u++){const p=a[u].mathmlTree,h=a[u+1].mathmlTree;if(!p||!h)continue;const m=p.nextSibling;if(!m||m===h)continue;const g=c.getSpacer_(m);g&&(l.mathml.push(g),l.mathmlTree=g,l.role="space")}}static getSpacer_(a){if(M.tagName(a)==="MSPACE")return a;for(;f.hasEmptyTag(a)&&a.childNodes.length===1;)if(a=a.childNodes[0],M.tagName(a)==="MSPACE")return a;return null}static fenceToPunct_(a){const o=c.FENCE_TO_PUNCT_[a.role];if(o){for(;a.embellished;)a.embellished="punctuation",d.isRole(a,"subsup")||d.isRole(a,"underover")||(a.role=o),a=a.childNodes[0];a.type="punctuation",a.role=o}}static classifyFunction_(a,o){if(a.type==="appl"||a.type==="bigop"||a.type==="integral")return"";if(o[0]&&o[0].textContent===C.functionApplication()){c.getInstance().funcAppls[a.id]=o.shift();let u="simple function";return x.run("simple2prefix",a),a.role!=="prefix function"&&a.role!=="limit function"||(u=a.role),c.propagateFunctionRole_(a,u),"prefix"}return c.CLASSIFY_FUNCTION_[a.role]||(d.isSimpleFunctionHead(a)?"simple":"")}static propagateFunctionRole_(a,o){if(a){if(a.type==="infixop")return;d.isRole(a,"subsup")||d.isRole(a,"underover")||(a.role=o),c.propagateFunctionRole_(a.childNodes[0],o)}}static getFunctionOp_(a,o){if(o(a))return a;for(let l,u=0;l=a.childNodes[u];u++){const p=c.getFunctionOp_(l,o);if(p)return p}return null}static tableToMatrixOrVector_(a){const o=a.childNodes[0];d.isType(o,"multiline")?c.tableToVector_(a):c.tableToMatrix_(a),a.contentNodes.forEach(o.appendContentNode.bind(o));for(let l,u=0;l=o.childNodes[u];u++)c.assignRoleToRow_(l,c.getComponentRoles_(o));return o.parent=null,o}static tableToVector_(a){const o=a.childNodes[0];o.type="vector",o.childNodes.length!==1?c.binomialForm_(o):c.tableToSquare_(a)}static binomialForm_(a){d.isBinomial(a)&&(a.role="binomial",a.childNodes[0].role="binomial",a.childNodes[1].role="binomial")}static tableToMatrix_(a){const o=a.childNodes[0];o.type="matrix",o.childNodes&&o.childNodes.length>0&&o.childNodes[0].childNodes&&o.childNodes.length===o.childNodes[0].childNodes.length?c.tableToSquare_(a):o.childNodes&&o.childNodes.length===1&&(o.role="rowvector")}static tableToSquare_(a){const o=a.childNodes[0];d.isNeutralFence(a)?o.role="determinant":o.role="squarematrix"}static getComponentRoles_(a){const o=a.role;return o&&o!=="unknown"?o:a.type.toLowerCase()||"unknown"}static tableToCases_(a,o){for(let l,u=0;l=a.childNodes[u];u++)c.assignRoleToRow_(l,"cases");return a.type="cases",a.appendContentNode(o),d.tableIsMultiline(a)&&c.binomialForm_(a),a}static rewriteFencedLine_(a){const o=a.childNodes[0],l=a.childNodes[0].childNodes[0],u=a.childNodes[0].childNodes[0].childNodes[0];return l.parent=a.parent,a.parent=l,u.parent=o,l.childNodes=[a],o.childNodes=[u],l}static rowToLine_(a,o){const l=o||"unknown";d.isType(a,"row")&&(a.type="line",a.role=l,a.childNodes.length===1&&d.isType(a.childNodes[0],"cell")&&(a.childNodes=a.childNodes[0].childNodes,a.childNodes.forEach(function(u){u.parent=a})))}static assignRoleToRow_(a,o){d.isType(a,"line")?a.role=o:d.isType(a,"row")&&(a.role=o,a.childNodes.forEach(function(l){d.isType(l,"cell")&&(l.role=o)}))}static nextSeparatorFunction_(a){let o;if(a){if(a.match(/^\s+$/))return null;o=a.replace(/\s/g,"").split("").filter(function(l){return l})}else o=[","];return function(){return o.length>1?o.shift():o[0]}}static numberRole_(a){if(a.role!=="unknown")return;const o=[...a.textContent].filter(u=>u.match(/[^\s]/)),l=o.map(C.lookupMeaning);if(l.every(function(u){return u.type==="number"&&u.role==="integer"||u.type==="punctuation"&&u.role==="comma"}))return a.role="integer",void(o[0]==="0"&&a.addAnnotation("general","basenumber"));l.every(function(u){return u.type==="number"&&u.role==="integer"||u.type==="punctuation"})?a.role="float":a.role="othernumber"}static exprFont_(a){if(a.font!=="unknown")return;const o=[...a.textContent].map(C.lookupMeaning).reduce(function(l,u){return l&&u.font&&u.font!=="unknown"&&u.font!==l?l==="unknown"?u.font:null:l},"unknown");o&&(a.font=o)}static purgeFences_(a){const o=a.rel,l=a.comp,u=[],p=[];for(;o.length>0;){const h=o.shift();let m=l.shift();d.isElligibleEmbellishedFence(h)?(u.push(h),p.push(m)):(c.fenceToPunct_(h),m.push(h),m=m.concat(l.shift()),l.unshift(m))}return p.push(l.shift()),{rel:u,comp:p}}static rewriteFencedNode_(a){const o=a.contentNodes[0],l=a.contentNodes[1];let u=c.rewriteFence_(a,o);return a.contentNodes[0]=u.fence,u=c.rewriteFence_(u.node,l),a.contentNodes[1]=u.fence,a.contentNodes[0].parent=a,a.contentNodes[1].parent=a,u.node.parent=null,u.node}static rewriteFence_(a,o){if(!o.embellished)return{node:a,fence:o};const l=o.childNodes[0],u=c.rewriteFence_(a,l);return d.isType(o,"superscript")||d.isType(o,"subscript")||d.isType(o,"tensor")?(d.isRole(o,"subsup")||(o.role=a.role),l!==u.node&&(o.replaceChild(l,u.node),l.parent=a),c.propagateFencePointer_(o,l),{node:o,fence:u.fence}):(o.replaceChild(l,u.fence),o.mathmlTree&&o.mathml.indexOf(o.mathmlTree)===-1&&o.mathml.push(o.mathmlTree),{node:u.node,fence:o})}static propagateFencePointer_(a,o){a.fencePointer=o.fencePointer||o.id.toString(),a.embellished=null}static classifyByColumns_(a,o,l,u){return!!(o.length===3&&c.testColumns_(o,1,p=>c.isPureRelation_(p,l))||o.length===2&&(c.testColumns_(o,1,p=>c.isEndRelation_(p,l)||c.isPureRelation_(p,l))||c.testColumns_(o,0,p=>c.isEndRelation_(p,l,!0)||c.isPureRelation_(p,l))))&&(a.role=l,!0)}static isEndRelation_(a,o,l){const u=l?a.childNodes.length-1:0;return d.isType(a,"relseq")&&d.isRole(a,o)&&d.isType(a.childNodes[u],"empty")}static isPureRelation_(a,o){return d.isType(a,"relation")&&d.isRole(a,o)}static computeColumns_(a){const o=[];for(let l,u=0;l=a.childNodes[u];u++)for(let p,h=0;p=l.childNodes[h];h++)o[h]?o[h].push(p):o[h]=[p];return o}static testColumns_(a,o,l){const u=a[o];return!!u&&u.some(function(p){return p.childNodes.length&&l(p.childNodes[0])})&&u.every(function(p){return!p.childNodes.length||l(p.childNodes[0])})}setNodeFactory(a){c.getInstance().factory_=a,x.updateFactory(c.getInstance().factory_)}getNodeFactory(){return c.getInstance().factory_}identifierNode(a,o,l){if(l==="MathML-Unit")a.type="identifier",a.role="unit";else if(!o&&a.textContent.length===1&&(a.role==="integer"||a.role==="latinletter"||a.role==="greekletter")&&a.font==="normal")return a.font="italic",x.run("simpleNamedFunction",a);return a.type==="unknown"&&(a.type="identifier"),c.exprFont_(a),x.run("simpleNamedFunction",a)}implicitNode(a){if(a=c.getInstance().getMixedNumbers_(a),(a=c.getInstance().combineUnits_(a)).length===1)return a[0];const o=c.getInstance().implicitNode_(a);return x.run("combine_juxtaposition",o)}text(a,o){return c.exprFont_(a),a.type="text",o==="MS"?(a.role="string",a):((o==="MSPACE"||a.textContent.match(/^\s*$/))&&(a.role="space"),a)}row(a){return(a=a.filter(function(o){return!d.isType(o,"empty")})).length===0?c.getInstance().factory_.makeEmptyNode():(a=c.getInstance().getFencesInRow_(a),a=c.getInstance().tablesInRow(a),a=c.getInstance().getPunctuationInRow_(a),a=c.getInstance().getTextInRow_(a),a=c.getInstance().getFunctionsInRow_(a),c.getInstance().relationsInRow_(a))}limitNode(a,o){if(!o.length)return c.getInstance().factory_.makeEmptyNode();let l,u=o[0],p="unknown";if(!o[1])return u;if(d.isLimitBase(u)){l=c.MML_TO_LIMIT_[a];const h=l.length;if(p=l.type,o=o.slice(0,l.length+1),h===1&&d.isAccent(o[1])||h===2&&d.isAccent(o[1])&&d.isAccent(o[2]))return l=c.MML_TO_BOUNDS_[a],c.getInstance().accentNode_(u,o,l.type,l.length,l.accent);if(h===2){if(d.isAccent(o[1]))return u=c.getInstance().accentNode_(u,[u,o[1]],{MSUBSUP:"subscript",MUNDEROVER:"underscore"}[a],1,!0),o[2]?c.getInstance().makeLimitNode_(u,[u,o[2]],null,"limupper"):u;if(o[2]&&d.isAccent(o[2]))return u=c.getInstance().accentNode_(u,[u,o[2]],{MSUBSUP:"superscript",MUNDEROVER:"overscore"}[a],1,!0),c.getInstance().makeLimitNode_(u,[u,o[1]],null,"limlower");o[h]||(p="limlower")}return c.getInstance().makeLimitNode_(u,o,null,p)}return l=c.MML_TO_BOUNDS_[a],c.getInstance().accentNode_(u,o,l.type,l.length,l.accent)}tablesInRow(a){let o=f.partitionNodes(a,d.tableIsMatrixOrVector),l=[];for(let u,p=0;u=o.rel[p];p++)l=l.concat(o.comp.shift()),l.push(c.tableToMatrixOrVector_(u));l=l.concat(o.comp.shift()),o=f.partitionNodes(l,d.isTableOrMultiline),l=[];for(let u,p=0;u=o.rel[p];p++){const h=o.comp.shift();d.tableIsCases(u,h)&&c.tableToCases_(u,h.pop()),l=l.concat(h),l.push(u)}return l.concat(o.comp.shift())}mfenced(a,o,l,u){if(l&&u.length>0){const p=c.nextSeparatorFunction_(l),h=[u.shift()];u.forEach(m=>{h.push(c.getInstance().factory_.makeContentNode(p())),h.push(m)}),u=h}return a&&o?c.getInstance().horizontalFencedNode_(c.getInstance().factory_.makeContentNode(a),c.getInstance().factory_.makeContentNode(o),u):(a&&u.unshift(c.getInstance().factory_.makeContentNode(a)),o&&u.push(c.getInstance().factory_.makeContentNode(o)),c.getInstance().row(u))}fractionLikeNode(a,o,l,u){let p;if(!u&&f.isZeroLength(l)){const h=c.getInstance().factory_.makeBranchNode("line",[a],[]),m=c.getInstance().factory_.makeBranchNode("line",[o],[]);return p=c.getInstance().factory_.makeBranchNode("multiline",[h,m],[]),c.binomialForm_(p),c.classifyMultiline(p),p}return p=c.getInstance().fractionNode_(a,o),u&&p.addAnnotation("general","bevelled"),p}tensor(a,o,l,u,p){const h=c.getInstance().factory_.makeBranchNode("tensor",[a,c.getInstance().scriptNode_(o,"leftsub"),c.getInstance().scriptNode_(l,"leftsuper"),c.getInstance().scriptNode_(u,"rightsub"),c.getInstance().scriptNode_(p,"rightsuper")],[]);return h.role=a.role,h.embellished=d.isEmbellished(a),h}pseudoTensor(a,o,l){const u=E=>!d.isType(E,"empty"),p=o.filter(u).length,h=l.filter(u).length;if(!p&&!h)return a;const m=p?h?"MSUBSUP":"MSUB":"MSUP",g=[a];return p&&g.push(c.getInstance().scriptNode_(o,"rightsub",!0)),h&&g.push(c.getInstance().scriptNode_(l,"rightsuper",!0)),c.getInstance().limitNode(m,g)}font(a){return c.MATHJAX_FONTS[a]||a}proof(a,o,l){if(o.inference||o.axiom||console.log("Noise"),o.axiom){const p=c.getInstance().cleanInference(a.childNodes),h=p.length?c.getInstance().factory_.makeBranchNode("inference",l(p),[]):c.getInstance().factory_.makeEmptyNode();return h.role="axiom",h.mathmlTree=a,h}const u=c.getInstance().inference(a,o,l);return o.proof&&(u.role="proof",u.childNodes[0].role="final"),u}inference(a,o,l){if(o.inferenceRule){const E=c.getInstance().getFormulas(a,[],l);return c.getInstance().factory_.makeBranchNode("inference",[E.conclusion,E.premises],[])}const u=o.labelledRule,p=M.toArray(a.childNodes),h=[];u!=="left"&&u!=="both"||h.push(c.getInstance().getLabel(a,p,l,"left")),u!=="right"&&u!=="both"||h.push(c.getInstance().getLabel(a,p,l,"right"));const m=c.getInstance().getFormulas(a,p,l),g=c.getInstance().factory_.makeBranchNode("inference",[m.conclusion,m.premises],h);return g.mathmlTree=a,g}getLabel(a,o,l,u){const p=c.getInstance().findNestedRow(o,"prooflabel",u),h=c.getInstance().factory_.makeBranchNode("rulelabel",l(M.toArray(p.childNodes)),[]);return h.role=u,h.mathmlTree=p,h}getFormulas(a,o,l){const u=o.length?c.getInstance().findNestedRow(o,"inferenceRule"):a,p=c.getSemantics(u).inferenceRule==="up",h=p?u.childNodes[1]:u.childNodes[0],m=p?u.childNodes[0]:u.childNodes[1],g=h.childNodes[0].childNodes[0],E=M.toArray(g.childNodes[0].childNodes),S=[];let O=1;for(const w of E)O%2&&S.push(w.childNodes[0]),O++;const A=l(S),_=l(M.toArray(m.childNodes[0].childNodes))[0],T=c.getInstance().factory_.makeBranchNode("premises",A,[]);T.mathmlTree=g;const N=c.getInstance().factory_.makeBranchNode("conclusion",[_],[]);return N.mathmlTree=m.childNodes[0].childNodes[0],{conclusion:N,premises:T}}findNestedRow(a,o,l){return c.getInstance().findNestedRow_(a,o,0,l)}cleanInference(a){return M.toArray(a).filter(function(o){return M.tagName(o)!=="MSPACE"})}operatorNode(a){return a.type==="unknown"&&(a.type="operator"),x.run("multioperator",a)}implicitNode_(a){const o=c.getInstance().factory_.makeMultipleContentNodes(a.length-1,C.invisibleTimes());c.matchSpaces_(a,o);const l=c.getInstance().infixNode_(a,o[0]);return l.role="implicit",o.forEach(function(u){u.parent=l}),l.contentNodes=o,l}infixNode_(a,o){const l=c.getInstance().factory_.makeBranchNode("infixop",a,[o],f.getEmbellishedInner(o).textContent);return l.role=o.role,x.run("propagateSimpleFunction",l)}explicitMixed_(a){const o=f.partitionNodes(a,function(u){return u.textContent===C.invisiblePlus()});if(!o.rel.length)return a;let l=[];for(let u,p=0;u=o.rel[p];p++){const h=o.comp[p],m=o.comp[p+1],g=h.length-1;if(h[g]&&m[0]&&d.isType(h[g],"number")&&!d.isRole(h[g],"mixed")&&d.isType(m[0],"fraction")){const E=c.getInstance().factory_.makeBranchNode("number",[h[g],m[0]],[]);E.role="mixed",l=l.concat(h.slice(0,g)),l.push(E),m.shift()}else l=l.concat(h),l.push(u)}return l.concat(o.comp[o.comp.length-1])}concatNode_(a,o,l){if(o.length===0)return a;const u=o.map(function(h){return f.getEmbellishedInner(h).textContent}).join(" "),p=c.getInstance().factory_.makeBranchNode(l,[a],o,u);return o.length>1&&(p.role="multiop"),p}prefixNode_(a,o){const l=f.partitionNodes(o,p=>d.isRole(p,"subtraction"));let u=c.getInstance().concatNode_(a,l.comp.pop(),"prefixop");for(u.contentNodes.length===1&&u.contentNodes[0].role==="addition"&&u.contentNodes[0].textContent==="+"&&(u.role="positive");l.rel.length>0;)u=c.getInstance().concatNode_(u,[l.rel.pop()],"prefixop"),u.role="negative",u=c.getInstance().concatNode_(u,l.comp.pop(),"prefixop");return u}postfixNode_(a,o){return o.length?c.getInstance().concatNode_(a,o,"postfixop"):a}combineUnits_(a){const o=f.partitionNodes(a,function(h){return!d.isRole(h,"unit")});if(a.length===o.rel.length)return o.rel;const l=[];let u,p;do{const h=o.comp.shift();u=o.rel.shift();let m=null;p=l.pop(),p&&(h.length&&d.isUnitCounter(p)?h.unshift(p):l.push(p)),h.length===1&&(m=h.pop()),h.length>1&&(m=c.getInstance().implicitNode_(h),m.role="unit"),m&&l.push(m),u&&l.push(u)}while(u);return l}getMixedNumbers_(a){const o=f.partitionNodes(a,function(u){return d.isType(u,"fraction")&&d.isRole(u,"vulgar")});if(!o.rel.length)return a;let l=[];for(let u,p=0;u=o.rel[p];p++){const h=o.comp[p],m=h.length-1;if(h[m]&&d.isType(h[m],"number")&&(d.isRole(h[m],"integer")||d.isRole(h[m],"float"))){const g=c.getInstance().factory_.makeBranchNode("number",[h[m],u],[]);g.role="mixed",l=l.concat(h.slice(0,m)),l.push(g)}else l=l.concat(h),l.push(u)}return l.concat(o.comp[o.comp.length-1])}getTextInRow_(a){if(a.length<=1)return a;const o=f.partitionNodes(a,p=>d.isType(p,"text"));if(o.rel.length===0)return a;const l=[];let u=o.comp[0];u.length>0&&l.push(c.getInstance().row(u));for(let p,h=0;p=o.rel[h];h++)l.push(p),u=o.comp[h+1],u.length>0&&l.push(c.getInstance().row(u));return[c.getInstance().dummyNode_(l)]}relationsInRow_(a){const o=f.partitionNodes(a,d.isRelation),l=o.rel[0];if(!l)return c.getInstance().operationsInRow_(a);if(a.length===1)return a[0];const u=o.comp.map(c.getInstance().operationsInRow_);let p;return o.rel.some(function(h){return!h.equals(l)})?(p=c.getInstance().factory_.makeBranchNode("multirel",u,o.rel),o.rel.every(function(h){return h.role===l.role})&&(p.role=l.role),p):(p=c.getInstance().factory_.makeBranchNode("relseq",u,o.rel,f.getEmbellishedInner(l).textContent),p.role=l.role,p)}operationsInRow_(a){if(a.length===0)return c.getInstance().factory_.makeEmptyNode();if((a=c.getInstance().explicitMixed_(a)).length===1)return a[0];const o=[];for(;a.length>0&&d.isOperator(a[0]);)o.push(a.shift());if(a.length===0)return c.getInstance().prefixNode_(o.pop(),o);if(a.length===1)return c.getInstance().prefixNode_(a[0],o);a=x.run("convert_juxtaposition",a);const l=f.sliceNodes(a,d.isOperator),u=c.getInstance().prefixNode_(c.getInstance().implicitNode(l.head),o);return l.div?c.getInstance().operationsTree_(l.tail,u,l.div):u}operationsTree_(a,o,l,u){const p=u||[];if(a.length===0){if(p.unshift(l),o.type==="infixop"){const E=c.getInstance().postfixNode_(o.childNodes.pop(),p);return o.appendChild(E),o}return c.getInstance().postfixNode_(o,p)}const h=f.sliceNodes(a,d.isOperator);if(h.head.length===0)return p.push(h.div),c.getInstance().operationsTree_(h.tail,o,l,p);const m=c.getInstance().prefixNode_(c.getInstance().implicitNode(h.head),p),g=c.getInstance().appendOperand_(o,l,m);return h.div?c.getInstance().operationsTree_(h.tail,g,h.div,[]):g}appendOperand_(a,o,l){return a.type!=="infixop"?c.getInstance().infixNode_([a,l],o):c.getInstance().appendDivisionOp_(a,o,l)||(c.getInstance().appendExistingOperator_(a,o,l)?a:o.role==="multiplication"?c.getInstance().appendMultiplicativeOp_(a,o,l):c.getInstance().appendAdditiveOp_(a,o,l))}appendDivisionOp_(a,o,l){return o.role==="division"?d.isImplicit(a)?c.getInstance().infixNode_([a,l],o):c.getInstance().appendLastOperand_(a,o,l):a.role==="division"?c.getInstance().infixNode_([a,l],o):null}appendLastOperand_(a,o,l){let u=a,p=a.childNodes[a.childNodes.length-1];for(;p&&p.type==="infixop"&&!d.isImplicit(p);)u=p,p=u.childNodes[a.childNodes.length-1];const h=c.getInstance().infixNode_([u.childNodes.pop(),l],o);return u.appendChild(h),a}appendMultiplicativeOp_(a,o,l){if(d.isImplicit(a))return c.getInstance().infixNode_([a,l],o);let u=a,p=a.childNodes[a.childNodes.length-1];for(;p&&p.type==="infixop"&&!d.isImplicit(p);)u=p,p=u.childNodes[a.childNodes.length-1];const h=c.getInstance().infixNode_([u.childNodes.pop(),l],o);return u.appendChild(h),a}appendAdditiveOp_(a,o,l){return c.getInstance().infixNode_([a,l],o)}appendExistingOperator_(a,o,l){return!(!a||a.type!=="infixop"||d.isImplicit(a))&&(a.contentNodes[0].equals(o)?(a.appendContentNode(o),a.appendChild(l),!0):c.getInstance().appendExistingOperator_(a.childNodes[a.childNodes.length-1],o,l))}getFencesInRow_(a){let o=f.partitionNodes(a,d.isFence);o=c.purgeFences_(o);const l=o.comp.shift();return c.getInstance().fences_(o.rel,o.comp,[],[l])}fences_(a,o,l,u){if(a.length===0&&l.length===0)return u[0];const p=E=>d.isRole(E,"open");if(a.length===0){const E=u.shift();for(;l.length>0;){if(p(l[0])){const S=l.shift();c.fenceToPunct_(S),E.push(S)}else{const S=f.sliceNodes(l,p),O=S.head.length-1,A=c.getInstance().neutralFences_(S.head,u.slice(0,O));u=u.slice(O),E.push(...A),S.div&&S.tail.unshift(S.div),l=S.tail}E.push(...u.shift())}return E}const h=l[l.length-1],m=a[0].role;if(m==="open"||d.isNeutralFence(a[0])&&(!h||!d.compareNeutralFences(a[0],h))){l.push(a.shift());const E=o.shift();return E&&u.push(E),c.getInstance().fences_(a,o,l,u)}if(h&&m==="close"&&h.role==="open"){const E=c.getInstance().horizontalFencedNode_(l.pop(),a.shift(),u.pop());return u.push(u.pop().concat([E],o.shift())),c.getInstance().fences_(a,o,l,u)}if(h&&d.compareNeutralFences(a[0],h)){if(!d.elligibleLeftNeutral(h)||!d.elligibleRightNeutral(a[0])){l.push(a.shift());const S=o.shift();return S&&u.push(S),c.getInstance().fences_(a,o,l,u)}const E=c.getInstance().horizontalFencedNode_(l.pop(),a.shift(),u.pop());return u.push(u.pop().concat([E],o.shift())),c.getInstance().fences_(a,o,l,u)}if(h&&m==="close"&&d.isNeutralFence(h)&&l.some(p)){const E=f.sliceNodes(l,p,!0),S=u.pop(),O=u.length-E.tail.length+1,A=c.getInstance().neutralFences_(E.tail,u.slice(O));u=u.slice(0,O);const _=c.getInstance().horizontalFencedNode_(E.div,a.shift(),u.pop().concat(A,S));return u.push(u.pop().concat([_],o.shift())),c.getInstance().fences_(a,o,E.head,u)}const g=a.shift();return c.fenceToPunct_(g),u.push(u.pop().concat([g],o.shift())),c.getInstance().fences_(a,o,l,u)}neutralFences_(a,o){if(a.length===0)return a;if(a.length===1)return c.fenceToPunct_(a[0]),a;const l=a.shift();if(!d.elligibleLeftNeutral(l)){c.fenceToPunct_(l);const h=o.shift();return h.unshift(l),h.concat(c.getInstance().neutralFences_(a,o))}const u=f.sliceNodes(a,function(h){return d.compareNeutralFences(h,l)});if(!u.div){c.fenceToPunct_(l);const h=o.shift();return h.unshift(l),h.concat(c.getInstance().neutralFences_(a,o))}if(!d.elligibleRightNeutral(u.div))return c.fenceToPunct_(u.div),a.unshift(l),c.getInstance().neutralFences_(a,o);const p=c.getInstance().combineFencedContent_(l,u.div,u.head,o);if(u.tail.length>0){const h=p.shift(),m=c.getInstance().neutralFences_(u.tail,p);return h.concat(m)}return p[0]}combineFencedContent_(a,o,l,u){if(l.length===0){const O=c.getInstance().horizontalFencedNode_(a,o,u.shift());return u.length>0?u[0].unshift(O):u=[[O]],u}const p=u.shift(),h=l.length-1,m=u.slice(0,h),g=(u=u.slice(h)).shift(),E=c.getInstance().neutralFences_(l,m);p.push(...E),p.push(...g);const S=c.getInstance().horizontalFencedNode_(a,o,p);return u.length>0?u[0].unshift(S):u=[[S]],u}horizontalFencedNode_(a,o,l){const u=c.getInstance().row(l);let p=c.getInstance().factory_.makeBranchNode("fenced",[u],[a,o]);return a.role==="open"?(c.getInstance().classifyHorizontalFence_(p),p=x.run("propagateComposedFunction",p)):p.role=a.role,p=x.run("detect_cycle",p),c.rewriteFencedNode_(p)}classifyHorizontalFence_(a){a.role="leftright";const o=a.childNodes;if(!d.isSetNode(a)||o.length>1)return;if(o.length===0||o[0].type==="empty")return void(a.role="set empty");const l=o[0].type;if(o.length===1&&d.isSingletonSetContent(o[0]))return void(a.role="set singleton");const u=o[0].role;if(l==="punctuated"&&u==="sequence"){if(o[0].contentNodes[0].role!=="comma")return o[0].contentNodes.length!==1||o[0].contentNodes[0].role!=="vbar"&&o[0].contentNodes[0].role!=="colon"?void 0:(a.role="set extended",void c.getInstance().setExtension_(a));a.role="set collection"}}setExtension_(a){const o=a.childNodes[0].childNodes[0];o&&o.type==="infixop"&&o.contentNodes.length===1&&d.isMembership(o.contentNodes[0])&&(o.addAnnotation("set","intensional"),o.contentNodes[0].addAnnotation("set","intensional"))}getPunctuationInRow_(a){if(a.length<=1)return a;const o=m=>{const g=m.type;return g==="punctuation"||g==="text"||g==="operator"||g==="relation"},l=f.partitionNodes(a,function(m){if(!d.isPunctuation(m))return!1;if(d.isPunctuation(m)&&!d.isRole(m,"ellipsis"))return!0;const g=a.indexOf(m);if(g===0)return!a[1]||!o(a[1]);const E=a[g-1];if(g===a.length-1)return!o(E);const S=a[g+1];return!o(E)||!o(S)});if(l.rel.length===0)return a;const u=[];let p=l.comp.shift();p.length>0&&u.push(c.getInstance().row(p));let h=0;for(;l.comp.length>0;)u.push(l.rel[h++]),p=l.comp.shift(),p.length>0&&u.push(c.getInstance().row(p));return[c.getInstance().punctuatedNode_(u,l.rel)]}punctuatedNode_(a,o){const l=c.getInstance().factory_.makeBranchNode("punctuated",a,o);if(o.length===a.length){const u=o[0].role;if(u!=="unknown"&&o.every(function(p){return p.role===u}))return l.role=u,l}return d.singlePunctAtPosition(a,o,0)?l.role="startpunct":d.singlePunctAtPosition(a,o,a.length-1)?l.role="endpunct":o.every(u=>d.isRole(u,"dummy"))?l.role="text":o.every(u=>d.isRole(u,"space"))?l.role="space":l.role="sequence",l}dummyNode_(a){const o=c.getInstance().factory_.makeMultipleContentNodes(a.length-1,C.invisibleComma());return o.forEach(function(l){l.role="dummy"}),c.getInstance().punctuatedNode_(a,o)}accentRole_(a,o){if(!d.isAccent(a))return!1;const l=a.textContent,u=C.lookupSecondary("bar",l)||C.lookupSecondary("tilde",l)||a.role;return a.role=o==="underscore"?"underaccent":"overaccent",a.addAnnotation("accent",u),!0}accentNode_(a,o,l,u,p){const h=(o=o.slice(0,u+1))[1],m=o[2];let g;if(!p&&m&&(g=c.getInstance().factory_.makeBranchNode("subscript",[a,h],[]),g.role="subsup",o=[g,m],l="superscript"),p){const E=c.getInstance().accentRole_(h,l);m&&(c.getInstance().accentRole_(m,"overscore")&&!E?(g=c.getInstance().factory_.makeBranchNode("overscore",[a,m],[]),o=[g,h],l="underscore"):(g=c.getInstance().factory_.makeBranchNode("underscore",[a,h],[]),o=[g,m],l="overscore"),g.role="underover")}return c.getInstance().makeLimitNode_(a,o,g,l)}makeLimitNode_(a,o,l,u){if(u==="limupper"&&a.type==="limlower")return a.childNodes.push(o[1]),o[1].parent=a,a.type="limboth",a;if(u==="limlower"&&a.type==="limupper")return a.childNodes.splice(1,-1,o[1]),o[1].parent=a,a.type="limboth",a;const p=c.getInstance().factory_.makeBranchNode(u,o,[]),h=d.isEmbellished(a);return l&&(l.embellished=h),p.embellished=h,p.role=a.role,p}getFunctionsInRow_(a,o){const l=o||[];if(a.length===0)return l;const u=a.shift(),p=c.classifyFunction_(u,a);if(!p)return l.push(u),c.getInstance().getFunctionsInRow_(a,l);const h=c.getInstance().getFunctionsInRow_(a,[]),m=c.getInstance().getFunctionArgs_(u,h,p);return l.concat(m)}getFunctionArgs_(a,o,l){let u,p,h;switch(l){case"integral":{const m=c.getInstance().getIntegralArgs_(o);if(!m.intvar&&!m.integrand.length)return m.rest.unshift(a),m.rest;const g=c.getInstance().row(m.integrand);return h=c.getInstance().integralNode_(a,g,m.intvar),m.rest.unshift(h),m.rest}case"prefix":if(o[0]&&o[0].type==="fenced"){const m=o.shift();return d.isNeutralFence(m)||(m.role="leftright"),h=c.getInstance().functionNode_(a,m),o.unshift(h),o}if(u=f.sliceNodes(o,d.isPrefixFunctionBoundary),u.head.length)p=c.getInstance().row(u.head),u.div&&u.tail.unshift(u.div);else{if(!u.div||!d.isType(u.div,"appl"))return o.unshift(a),o;p=u.div}return h=c.getInstance().functionNode_(a,p),u.tail.unshift(h),u.tail;case"bigop":return u=f.sliceNodes(o,d.isBigOpBoundary),u.head.length?(p=c.getInstance().row(u.head),h=c.getInstance().bigOpNode_(a,p),u.div&&u.tail.unshift(u.div),u.tail.unshift(h),u.tail):(o.unshift(a),o);default:{if(o.length===0)return[a];const m=o[0];return m.type==="fenced"&&!d.isNeutralFence(m)&&d.isSimpleFunctionScope(m)?(m.role="leftright",c.propagateFunctionRole_(a,"simple function"),h=c.getInstance().functionNode_(a,o.shift()),o.unshift(h),o):(o.unshift(a),o)}}}getIntegralArgs_(a,o=[]){if(a.length===0)return{integrand:o,intvar:null,rest:a};const l=a[0];if(d.isGeneralFunctionBoundary(l))return{integrand:o,intvar:null,rest:a};if(d.isIntegralDxBoundarySingle(l))return l.role="integral",{integrand:o,intvar:l,rest:a.slice(1)};if(a[1]&&d.isIntegralDxBoundary(l,a[1])){const u=c.getInstance().prefixNode_(a[1],[l]);return u.role="integral",{integrand:o,intvar:u,rest:a.slice(2)}}return o.push(a.shift()),c.getInstance().getIntegralArgs_(a,o)}functionNode_(a,o){const l=c.getInstance().factory_.makeContentNode(C.functionApplication()),u=c.getInstance().funcAppls[a.id];u&&(l.mathmlTree=u.mathmlTree,l.mathml=u.mathml,l.annotation=u.annotation,l.attributes=u.attributes,delete c.getInstance().funcAppls[a.id]),l.type="punctuation",l.role="application";const p=c.getFunctionOp_(a,function(h){return d.isType(h,"function")||d.isType(h,"identifier")&&d.isRole(h,"simple function")});return c.getInstance().functionalNode_("appl",[a,o],p,[l])}bigOpNode_(a,o){const l=c.getFunctionOp_(a,u=>d.isType(u,"largeop"));return c.getInstance().functionalNode_("bigop",[a,o],l,[])}integralNode_(a,o,l){o=o||c.getInstance().factory_.makeEmptyNode(),l=l||c.getInstance().factory_.makeEmptyNode();const u=c.getFunctionOp_(a,p=>d.isType(p,"largeop"));return c.getInstance().functionalNode_("integral",[a,o,l],u,[])}functionalNode_(a,o,l,u){const p=o[0];let h;l&&(h=l.parent,u.push(l));const m=c.getInstance().factory_.makeBranchNode(a,o,u);return m.role=p.role,h&&(l.parent=h),m}fractionNode_(a,o){const l=c.getInstance().factory_.makeBranchNode("fraction",[a,o],[]);return l.role=l.childNodes.every(function(u){return d.isType(u,"number")&&d.isRole(u,"integer")})?"vulgar":l.childNodes.every(d.isPureUnit)?"unit":"division",x.run("propagateSimpleFunction",l)}scriptNode_(a,o,l){let u;switch(a.length){case 0:u=c.getInstance().factory_.makeEmptyNode();break;case 1:if(u=a[0],l)return u;break;default:u=c.getInstance().dummyNode_(a)}return u.role=o,u}findNestedRow_(a,o,l,u){if(l>3)return null;for(let p,h=0;p=a[h];h++){const m=M.tagName(p);if(m!=="MSPACE"){if(m==="MROW")return c.getInstance().findNestedRow_(M.toArray(p.childNodes),o,l+1,u);if(c.findSemantics(p,o,u))return p}}return null}}e.default=c,c.FENCE_TO_PUNCT_={metric:"metric",neutral:"vbar",open:"openfence",close:"closefence"},c.MML_TO_LIMIT_={MSUB:{type:"limlower",length:1},MUNDER:{type:"limlower",length:1},MSUP:{type:"limupper",length:1},MOVER:{type:"limupper",length:1},MSUBSUP:{type:"limboth",length:2},MUNDEROVER:{type:"limboth",length:2}},c.MML_TO_BOUNDS_={MSUB:{type:"subscript",length:1,accent:!1},MSUP:{type:"superscript",length:1,accent:!1},MSUBSUP:{type:"subscript",length:2,accent:!1},MUNDER:{type:"underscore",length:1,accent:!0},MOVER:{type:"overscore",length:1,accent:!0},MUNDEROVER:{type:"underscore",length:2,accent:!0}},c.CLASSIFY_FUNCTION_={integral:"integral",sum:"bigop","prefix function":"prefix","limit function":"prefix","simple function":"prefix","composed function":"prefix"},c.MATHJAX_FONTS={"-tex-caligraphic":"caligraphic","-tex-caligraphic-bold":"caligraphic-bold","-tex-calligraphic":"caligraphic","-tex-calligraphic-bold":"caligraphic-bold","-tex-oldstyle":"oldstyle","-tex-oldstyle-bold":"oldstyle-bold","-tex-mathit":"italic"}},5656:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticSkeleton=void 0;const M=v(707),C=v(5274),x=v(2298);class y{constructor(f){this.parents=null,this.levelsMap=null,f=f===0?f:f||[],this.array=f}static fromTree(f){return y.fromNode(f.root)}static fromNode(f){return new y(y.fromNode_(f))}static fromString(f){return new y(y.fromString_(f))}static simpleCollapseStructure(f){return typeof f=="number"}static contentCollapseStructure(f){return!!f&&!y.simpleCollapseStructure(f)&&f[0]==="c"}static interleaveIds(f,c){return M.interleaveLists(y.collapsedLeafs(f),y.collapsedLeafs(c))}static collapsedLeafs(...f){return f.reduce((c,s)=>{return c.concat((a=s,y.simpleCollapseStructure(a)?[a]:(a=a,y.contentCollapseStructure(a[1])?a.slice(2):a.slice(1))));var a},[])}static fromStructure(f,c){return new y(y.tree_(f,c.root))}static combineContentChildren(f,c,s){switch(f.type){case"relseq":case"infixop":case"multirel":return M.interleaveLists(s,c);case"prefixop":return c.concat(s);case"postfixop":return s.concat(c);case"fenced":return s.unshift(c[0]),s.push(c[1]),s;case"appl":return[s[0],c[0],s[1]];case"root":return[s[1],s[0]];case"row":case"line":return c.length&&s.unshift(c[0]),s;default:return s}}static makeSexp_(f){return y.simpleCollapseStructure(f)?f.toString():y.contentCollapseStructure(f)?"(c "+f.slice(1).map(y.makeSexp_).join(" ")+")":"("+f.map(y.makeSexp_).join(" ")+")"}static fromString_(f){let c=f.replace(/\(/g,"[");return c=c.replace(/\)/g,"]"),c=c.replace(/ /g,","),c=c.replace(/c/g,'"c"'),JSON.parse(c)}static fromNode_(f){if(!f)return[];const c=f.contentNodes;let s;c.length&&(s=c.map(y.fromNode_),s.unshift("c"));const a=f.childNodes;if(!a.length)return c.length?[f.id,s]:f.id;const o=a.map(y.fromNode_);return c.length&&o.unshift(s),o.unshift(f.id),o}static tree_(f,c){if(!c)return[];if(!c.childNodes.length)return c.id;const s=c.id,a=[s],o=C.evalXPath(`.//self::*[@${x.Attribute.ID}=${s}]`,f)[0],l=y.combineContentChildren(c,c.contentNodes.map(function(u){return u}),c.childNodes.map(function(u){return u}));o&&y.addOwns_(o,l);for(let u,p=0;u=l[p];p++)a.push(y.tree_(f,u));return a}static addOwns_(f,c){const s=f.getAttribute(x.Attribute.COLLAPSED),a=s?y.realLeafs_(y.fromString(s).array):c.map(o=>o.id);f.setAttribute(x.Attribute.OWNS,a.join(" "))}static realLeafs_(f){if(y.simpleCollapseStructure(f))return[f];if(y.contentCollapseStructure(f))return[];f=f;let c=[];for(let s=1;s<f.length;s++)c=c.concat(y.realLeafs_(f[s]));return c}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return y.makeSexp_(this.array)}populate_(f,c,s){if(y.simpleCollapseStructure(f))return f=f,this.levelsMap[f]=c,void(this.parents[f]=f===s[0]?s.slice(1):s);const a=y.contentCollapseStructure(f)?f.slice(1):f,o=[a[0]].concat(s);for(let l=0,u=a.length;l<u;l++){const p=a[l];this.populate_(p,f,o)}}isRoot(f){return f===this.levelsMap[f][0]}directChildren(f){return this.isRoot(f)?this.levelsMap[f].slice(1).map(c=>y.simpleCollapseStructure(c)?c:y.contentCollapseStructure(c)?c[1]:c[0]):[]}subtreeNodes(f){if(!this.isRoot(f))return[];const c=(o,l)=>{y.simpleCollapseStructure(o)?l.push(o):(o=o,y.contentCollapseStructure(o)&&(o=o.slice(1)),o.forEach(u=>c(u,l)))},s=this.levelsMap[f],a=[];return c(s.slice(1),a),a}}e.SemanticSkeleton=y},7075:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTree=void 0;const M=v(5740),C=v(7630),x=v(9265),y=v(7228),d=v(5952),f=v(5609);v(94);class c{constructor(o){this.mathml=o,this.parser=new y.SemanticMathml,this.root=this.parser.parse(o),this.collator=this.parser.getFactory().leafMap.collateMeaning();const l=this.collator.newDefault();l&&(this.parser=new y.SemanticMathml,this.parser.getFactory().defaultMap=l,this.root=this.parser.parse(o)),s.visit(this.root,{}),(0,C.annotate)(this.root)}static empty(){const o=M.parseInput("<math/>"),l=new c(o);return l.mathml=o,l}static fromNode(o,l){const u=c.empty();return u.root=o,l&&(u.mathml=l),u}static fromRoot(o,l){let u=o;for(;u.parent;)u=u.parent;const p=c.fromNode(u);return l&&(p.mathml=l),p}static fromXml(o){const l=c.empty();return o.childNodes[0]&&(l.root=d.SemanticNode.fromXml(o.childNodes[0])),l}xml(o){const l=M.parseInput("<stree></stree>"),u=this.root.xml(l.ownerDocument,o);return l.appendChild(u),l}toString(o){return M.serializeXml(this.xml(o))}formatXml(o){const l=this.toString(o);return M.formatXml(l)}displayTree(){this.root.displayTree()}replaceNode(o,l){const u=o.parent;u?u.replaceChild(o,l):this.root=l}toJson(){const o={};return o.stree=this.root.toJson(),o}}e.SemanticTree=c;const s=new x.SemanticVisitor("general","unit",(a,o)=>{if(a.type==="infixop"&&(a.role==="multiplication"||a.role==="implicit")){const l=a.childNodes;l.length&&(f.isPureUnit(l[0])||f.isUnitCounter(l[0]))&&a.childNodes.slice(1).every(f.isPureUnit)&&(a.role="unit")}return!1})},4795:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.partitionNodes=e.sliceNodes=e.getEmbellishedInner=e.addAttributes=e.isZeroLength=e.purgeNodes=e.isOrphanedGlyph=e.hasDisplayTag=e.hasEmptyTag=e.hasIgnoreTag=e.hasLeafTag=e.hasMathTag=e.directSpeechKeys=e.DISPLAYTAGS=e.EMPTYTAGS=e.IGNORETAGS=e.LEAFTAGS=void 0;const M=v(5740);function C(y){return!!y&&e.LEAFTAGS.indexOf(M.tagName(y))!==-1}function x(y,d,f){f&&y.reverse();const c=[];for(let s,a=0;s=y[a];a++){if(d(s))return f?{head:y.slice(a+1).reverse(),div:s,tail:c.reverse()}:{head:c,div:s,tail:y.slice(a+1)};c.push(s)}return f?{head:[],div:null,tail:c.reverse()}:{head:c,div:null,tail:[]}}e.LEAFTAGS=["MO","MI","MN","MTEXT","MS","MSPACE"],e.IGNORETAGS=["MERROR","MPHANTOM","MALIGNGROUP","MALIGNMARK","MPRESCRIPTS","ANNOTATION","ANNOTATION-XML"],e.EMPTYTAGS=["MATH","MROW","MPADDED","MACTION","NONE","MSTYLE","SEMANTICS"],e.DISPLAYTAGS=["MROOT","MSQRT"],e.directSpeechKeys=["aria-label","exact-speech","alt"],e.hasMathTag=function(y){return!!y&&M.tagName(y)==="MATH"},e.hasLeafTag=C,e.hasIgnoreTag=function(y){return!!y&&e.IGNORETAGS.indexOf(M.tagName(y))!==-1},e.hasEmptyTag=function(y){return!!y&&e.EMPTYTAGS.indexOf(M.tagName(y))!==-1},e.hasDisplayTag=function(y){return!!y&&e.DISPLAYTAGS.indexOf(M.tagName(y))!==-1},e.isOrphanedGlyph=function(y){return!!y&&M.tagName(y)==="MGLYPH"&&!C(y.parentNode)},e.purgeNodes=function(y){const d=[];for(let f,c=0;f=y[c];c++){if(f.nodeType!==M.NodeType.ELEMENT_NODE)continue;const s=M.tagName(f);e.IGNORETAGS.indexOf(s)===-1&&(e.EMPTYTAGS.indexOf(s)!==-1&&f.childNodes.length===0||d.push(f))}return d},e.isZeroLength=function(y){if(!y)return!1;if(["negativeveryverythinmathspace","negativeverythinmathspace","negativethinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace"].indexOf(y)!==-1)return!0;const d=y.match(/[0-9.]+/);return!!d&&parseFloat(d[0])===0},e.addAttributes=function(y,d){if(d.hasAttributes()){const f=d.attributes;for(let c=f.length-1;c>=0;c--){const s=f[c].name;s.match(/^ext/)&&(y.attributes[s]=f[c].value,y.nobreaking=!0),e.directSpeechKeys.indexOf(s)!==-1&&(y.attributes["ext-speech"]=f[c].value,y.nobreaking=!0),s.match(/texclass$/)&&(y.attributes.texclass=f[c].value),s==="href"&&(y.attributes.href=f[c].value,y.nobreaking=!0)}}},e.getEmbellishedInner=function y(d){return d&&d.embellished&&d.childNodes.length>0?y(d.childNodes[0]):d},e.sliceNodes=x,e.partitionNodes=function(y,d){let f=y;const c=[],s=[];let a=null;do a=x(f,d),s.push(a.head),c.push(a.div),f=a.tail;while(a.div);return c.pop(),{rel:c,comp:s}}},6278:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractSpeechGenerator=void 0;const M=v(6828),C=v(2298),x=v(1214),y=v(9543);e.AbstractSpeechGenerator=class{constructor(){this.modality=C.addPrefix("speech"),this.rebuilt_=null,this.options_={}}getRebuilt(){return this.rebuilt_}setRebuilt(d){this.rebuilt_=d}setOptions(d){this.options_=d||{},this.modality=C.addPrefix(this.options_.modality||"speech")}getOptions(){return this.options_}start(){}end(){}generateSpeech(d,f){return this.rebuilt_||(this.rebuilt_=new x.RebuildStree(f)),(0,M.setup)(this.options_),y.computeMarkup(this.getRebuilt().xml)}}},1452:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AdhocSpeechGenerator=void 0;const M=v(6278);class C extends M.AbstractSpeechGenerator{getSpeech(y,d){const f=this.generateSpeech(y,d);return y.setAttribute(this.modality,f),f}}e.AdhocSpeechGenerator=C},5152:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorGenerator=void 0;const M=v(2298),C=v(8396),x=v(1214),y=v(1204),d=v(6278);class f extends d.AbstractSpeechGenerator{constructor(){super(...arguments),this.modality=(0,M.addPrefix)("foreground"),this.contrast=new C.ContrastPicker}static visitStree_(s,a,o){if(s.childNodes.length){if(s.contentNodes.length&&(s.type==="punctuated"&&s.contentNodes.forEach(l=>o[l.id]=!0),s.role!=="implicit"&&a.push(s.contentNodes.map(l=>l.id))),s.childNodes.length){if(s.role==="implicit"){const l=[];let u=[];for(const p of s.childNodes){const h=[];f.visitStree_(p,h,o),h.length<=2&&l.push(h.shift()),u=u.concat(h)}return a.push(l),void u.forEach(p=>a.push(p))}s.childNodes.forEach(l=>f.visitStree_(l,a,o))}}else o[s.id]||a.push(s.id)}getSpeech(s,a){return y.getAttribute(s,this.modality)}generateSpeech(s,a){return this.getRebuilt()||this.setRebuilt(new x.RebuildStree(s)),this.colorLeaves_(s),y.getAttribute(s,this.modality)}colorLeaves_(s){const a=[];f.visitStree_(this.getRebuilt().streeRoot,a,{});for(const o of a){const l=this.contrast.generate();let u=!1;u=Array.isArray(o)?o.map(p=>this.colorLeave_(s,p,l)).reduce((p,h)=>p||h,!1):this.colorLeave_(s,o.toString(),l),u&&this.contrast.increment()}}colorLeave_(s,a,o){const l=y.getBySemanticId(s,a);return!!l&&(l.setAttribute(this.modality,o),!0)}}e.ColorGenerator=f},6604:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.DirectSpeechGenerator=void 0;const M=v(1204),C=v(6278);class x extends C.AbstractSpeechGenerator{getSpeech(d,f){return M.getAttribute(d,this.modality)}}e.DirectSpeechGenerator=x},3123:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.DummySpeechGenerator=void 0;const M=v(6278);class C extends M.AbstractSpeechGenerator{getSpeech(y,d){return""}}e.DummySpeechGenerator=C},5858:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.NodeSpeechGenerator=void 0;const M=v(1204),C=v(4598);class x extends C.TreeSpeechGenerator{getSpeech(d,f){return super.getSpeech(d,f),M.getAttribute(d,this.modality)}}e.NodeSpeechGenerator=x},9552:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.generatorMapping_=e.generator=void 0;const M=v(1452),C=v(5152),x=v(6604),y=v(3123),d=v(5858),f=v(597),c=v(4598);e.generator=function(s){return(e.generatorMapping_[s]||e.generatorMapping_.Direct)()},e.generatorMapping_={Adhoc:()=>new M.AdhocSpeechGenerator,Color:()=>new C.ColorGenerator,Direct:()=>new x.DirectSpeechGenerator,Dummy:()=>new y.DummySpeechGenerator,Node:()=>new d.NodeSpeechGenerator,Summary:()=>new f.SummarySpeechGenerator,Tree:()=>new c.TreeSpeechGenerator}},9543:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.computeSummary_=e.retrieveSummary=e.connectAllMactions=e.connectMactions=e.nodeAtPosition_=e.computePrefix_=e.retrievePrefix=e.addPrefix=e.addModality=e.addSpeech=e.recomputeMarkup=e.computeMarkup=e.recomputeSpeech=e.computeSpeech=void 0;const M=v(8290),C=v(5740),x=v(5274),y=v(2298),d=v(2362),f=v(7075),c=v(1204);function s(m){return d.SpeechRuleEngine.getInstance().evaluateNode(m)}function a(m){return s(f.SemanticTree.fromNode(m).xml())}function o(m){const g=a(m);return M.markup(g)}function l(m){const g=u(m);return M.markup(g)}function u(m){const g=f.SemanticTree.fromRoot(m),E=x.evalXPath('.//*[@id="'+m.id+'"]',g.xml());let S=E[0];return E.length>1&&(S=p(m,E)||S),S?d.SpeechRuleEngine.getInstance().runInSetting({modality:"prefix",domain:"default",style:"default",strict:!0,speech:!0},function(){return d.SpeechRuleEngine.getInstance().evaluateNode(S)}):[]}function p(m,g){const E=g[0];if(!m.parent)return E;const S=[];for(;m;)S.push(m.id),m=m.parent;const O=function(A,_){for(;_.length&&_.shift().toString()===A.getAttribute("id")&&A.parentNode&&A.parentNode.parentNode;)A=A.parentNode.parentNode;return!_.length};for(let A,_=0;A=g[_];_++)if(O(A,S.slice()))return A;return E}function h(m){return m?d.SpeechRuleEngine.getInstance().runInSetting({modality:"summary",strict:!1,speech:!0},function(){return d.SpeechRuleEngine.getInstance().evaluateNode(m)}):[]}e.computeSpeech=s,e.recomputeSpeech=a,e.computeMarkup=function(m){const g=s(m);return M.markup(g)},e.recomputeMarkup=o,e.addSpeech=function(m,g,E){const S=C.querySelectorAllByAttrValue(E,"id",g.id.toString())[0],O=S?M.markup(s(S)):o(g);m.setAttribute(y.Attribute.SPEECH,O)},e.addModality=function(m,g,E){const S=o(g);m.setAttribute(E,S)},e.addPrefix=function(m,g){const E=l(g);E&&m.setAttribute(y.Attribute.PREFIX,E)},e.retrievePrefix=l,e.computePrefix_=u,e.nodeAtPosition_=p,e.connectMactions=function(m,g,E){const S=C.querySelectorAll(g,"maction");for(let O,A=0;O=S[A];A++){const _=O.getAttribute("id"),T=C.querySelectorAllByAttrValue(m,"id",_)[0];if(!T)continue;const N=O.childNodes[1],w=N.getAttribute(y.Attribute.ID);let L=c.getBySemanticId(m,w);if(L&&L.getAttribute(y.Attribute.TYPE)!=="dummy"||(L=T.childNodes[0],L.getAttribute("sre-highlighter-added")))continue;const I=N.getAttribute(y.Attribute.PARENT);I&&L.setAttribute(y.Attribute.PARENT,I),L.setAttribute(y.Attribute.TYPE,"dummy"),L.setAttribute(y.Attribute.ID,w),C.querySelectorAllByAttrValue(E,"id",w)[0].setAttribute("alternative",w)}},e.connectAllMactions=function(m,g){const E=C.querySelectorAll(m,"maction");for(let S,O=0;S=E[O];O++){const A=S.childNodes[1].getAttribute(y.Attribute.ID);C.querySelectorAllByAttrValue(g,"id",A)[0].setAttribute("alternative",A)}},e.retrieveSummary=function(m){const g=h(m);return M.markup(g)},e.computeSummary_=h},597:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SummarySpeechGenerator=void 0;const M=v(6278),C=v(9543);class x extends M.AbstractSpeechGenerator{getSpeech(d,f){return C.connectAllMactions(f,this.getRebuilt().xml),this.generateSpeech(d,f)}}e.SummarySpeechGenerator=x},4598:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.TreeSpeechGenerator=void 0;const M=v(2298),C=v(1204),x=v(6278),y=v(9543);class d extends x.AbstractSpeechGenerator{getSpeech(c,s){const a=this.generateSpeech(c,s),o=this.getRebuilt().nodeDict;for(const l in o){const u=o[l],p=C.getBySemanticId(s,l),h=C.getBySemanticId(c,l);p&&h&&(this.modality&&this.modality!==M.Attribute.SPEECH?y.addModality(h,u,this.modality):y.addSpeech(h,u,this.getRebuilt().xml),this.modality===M.Attribute.SPEECH&&y.addPrefix(h,u))}return a}}e.TreeSpeechGenerator=d},313:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.INTERVALS=e.makeLetter=e.numberRules=e.alphabetRules=e.getFont=e.makeInterval=e.generate=e.makeDomains_=e.Domains_=e.Base=e.Embellish=e.Font=void 0;const M=v(5897),C=v(7491),x=v(4356),y=v(2536),d=v(2780);var f,c,s;function a(){const g=x.LOCALE.ALPHABETS,E=(S,O)=>{const A={};return Object.keys(S).forEach(_=>A[_]=!0),Object.keys(O).forEach(_=>A[_]=!0),Object.keys(A)};e.Domains_.small=E(g.smallPrefix,g.letterTrans),e.Domains_.capital=E(g.capPrefix,g.letterTrans),e.Domains_.digit=E(g.digitPrefix,g.digitTrans)}function o(g){const E=g.toString(16).toUpperCase();return E.length>3?E:("000"+E).slice(-4)}function l([g,E],S){const O=parseInt(g,16),A=parseInt(E,16),_=[];for(let T=O;T<=A;T++){let N=o(T);S[N]!==!1&&(N=S[N]||N,_.push(N))}return _}function u(g){const E=g==="normal"||g==="fullwidth"?"":x.LOCALE.MESSAGES.font[g]||x.LOCALE.MESSAGES.embellish[g]||"";return(0,y.localeFontCombiner)(E)}function p(g,E,S,O,A,_){const T=u(O);for(let N,w,L,I=0;N=g[I],w=E[I],L=S[I];I++){const P=_?x.LOCALE.ALPHABETS.capPrefix:x.LOCALE.ALPHABETS.smallPrefix,k=_?e.Domains_.capital:e.Domains_.small;m(T.combiner,N,w,L,T.font,P,A,x.LOCALE.ALPHABETS.letterTrans,k)}}function h(g,E,S,O,A){const _=u(S);for(let T,N,w=0;T=g[w],N=E[w];w++){const L=x.LOCALE.ALPHABETS.digitPrefix,I=w+A;m(_.combiner,T,N,I,_.font,L,O,x.LOCALE.ALPHABETS.digitTrans,e.Domains_.digit)}}function m(g,E,S,O,A,_,T,N,w){for(let L,I=0;L=w[I];I++){const P=L in N?N[L]:N.default,k=L in _?_[L]:_.default;d.defineRule(E.toString(),L,"default",T,S,g(P(O),A,k))}}(function(g){g.BOLD="bold",g.BOLDFRAKTUR="bold-fraktur",g.BOLDITALIC="bold-italic",g.BOLDSCRIPT="bold-script",g.DOUBLESTRUCK="double-struck",g.FULLWIDTH="fullwidth",g.FRAKTUR="fraktur",g.ITALIC="italic",g.MONOSPACE="monospace",g.NORMAL="normal",g.SCRIPT="script",g.SANSSERIF="sans-serif",g.SANSSERIFITALIC="sans-serif-italic",g.SANSSERIFBOLD="sans-serif-bold",g.SANSSERIFBOLDITALIC="sans-serif-bold-italic"})(f=e.Font||(e.Font={})),function(g){g.SUPER="super",g.SUB="sub",g.CIRCLED="circled",g.PARENTHESIZED="parenthesized",g.PERIOD="period",g.NEGATIVECIRCLED="negative-circled",g.DOUBLECIRCLED="double-circled",g.CIRCLEDSANSSERIF="circled-sans-serif",g.NEGATIVECIRCLEDSANSSERIF="negative-circled-sans-serif",g.COMMA="comma",g.SQUARED="squared",g.NEGATIVESQUARED="negative-squared"}(c=e.Embellish||(e.Embellish={})),function(g){g.LATINCAP="latinCap",g.LATINSMALL="latinSmall",g.GREEKCAP="greekCap",g.GREEKSMALL="greekSmall",g.DIGIT="digit"}(s=e.Base||(e.Base={})),e.Domains_={small:["default"],capital:["default"],digit:["default"]},e.makeDomains_=a,e.generate=function(g){const E=M.default.getInstance().locale;M.default.getInstance().locale=g,C.setLocale(),d.addSymbolRules({locale:g}),a();const S=e.INTERVALS;for(let O,A=0;O=S[A];A++){const _=l(O.interval,O.subst),T=_.map(function(N){return String.fromCodePoint(parseInt(N,16))});"offset"in O?h(_,T,O.font,O.category,O.offset||0):p(_,T,x.LOCALE.ALPHABETS[O.base],O.font,O.category,!!O.capital)}M.default.getInstance().locale=E,C.setLocale()},e.makeInterval=l,e.getFont=u,e.alphabetRules=p,e.numberRules=h,e.makeLetter=m,e.INTERVALS=[{interval:["1D400","1D419"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.BOLD},{interval:["1D41A","1D433"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.BOLD},{interval:["1D56C","1D585"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.BOLDFRAKTUR},{interval:["1D468","1D481"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.BOLDITALIC},{interval:["1D482","1D49B"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.BOLDSCRIPT},{interval:["1D538","1D551"],base:s.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:f.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:s.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:f.FRAKTUR},{interval:["1D51E","1D537"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.FRAKTUR},{interval:["FF21","FF3A"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.FULLWIDTH},{interval:["FF41","FF5A"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.FULLWIDTH},{interval:["1D434","1D44D"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.ITALIC},{interval:["1D44E","1D467"],base:s.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:f.ITALIC},{interval:["1D670","1D689"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.MONOSPACE},{interval:["1D68A","1D6A3"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.MONOSPACE},{interval:["0041","005A"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.NORMAL},{interval:["0061","007A"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.NORMAL},{interval:["1D49C","1D4B5"],base:s.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:f.SCRIPT},{interval:["1D4B6","1D4CF"],base:s.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:f.SCRIPT},{interval:["1D5A0","1D5B9"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.SANSSERIF},{interval:["1D5BA","1D5D3"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.SANSSERIF},{interval:["1D608","1D621"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:s.LATINCAP,subst:{},capital:!0,category:"Lu",font:f.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:s.LATINSMALL,subst:{},capital:!1,category:"Ll",font:f.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:s.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:f.NORMAL},{interval:["03B0","03D0"],base:s.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:f.NORMAL},{interval:["1D6A8","1D6C0"],base:s.GREEKCAP,subst:{},capital:!0,category:"Lu",font:f.BOLD},{interval:["1D6C1","1D6E1"],base:s.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:f.BOLD},{interval:["1D6E2","1D6FA"],base:s.GREEKCAP,subst:{},capital:!0,category:"Lu",font:f.ITALIC},{interval:["1D6FB","1D71B"],base:s.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:f.ITALIC},{interval:["1D71C","1D734"],base:s.GREEKCAP,subst:{},capital:!0,category:"Lu",font:f.BOLDITALIC},{interval:["1D735","1D755"],base:s.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:f.BOLDITALIC},{interval:["1D756","1D76E"],base:s.GREEKCAP,subst:{},capital:!0,category:"Lu",font:f.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:s.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:f.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:s.GREEKCAP,subst:{},capital:!0,category:"Lu",font:f.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:s.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:f.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:s.DIGIT,subst:{},offset:0,category:"Nd",font:f.NORMAL},{interval:["2070","2079"],base:s.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:c.SUPER},{interval:["2080","2089"],base:s.DIGIT,subst:{},offset:0,category:"No",font:c.SUB},{interval:["245F","2473"],base:s.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:c.CIRCLED},{interval:["3251","325F"],base:s.DIGIT,subst:{},offset:21,category:"No",font:c.CIRCLED},{interval:["32B1","32BF"],base:s.DIGIT,subst:{},offset:36,category:"No",font:c.CIRCLED},{interval:["2474","2487"],base:s.DIGIT,subst:{},offset:1,category:"No",font:c.PARENTHESIZED},{interval:["2487","249B"],base:s.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:c.PERIOD},{interval:["2775","277F"],base:s.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:c.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:s.DIGIT,subst:{},offset:11,category:"No",font:c.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:s.DIGIT,subst:{},offset:1,category:"No",font:c.DOUBLECIRCLED},{interval:["277F","2789"],base:s.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:c.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:s.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:c.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:s.DIGIT,subst:{},offset:0,category:"Nd",font:f.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:s.DIGIT,subst:{},offset:0,category:"Nd",font:f.BOLD},{interval:["1D7D8","1D7E1"],base:s.DIGIT,subst:{},offset:0,category:"Nd",font:f.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:s.DIGIT,subst:{},offset:0,category:"Nd",font:f.SANSSERIF},{interval:["1D7EC","1D7F5"],base:s.DIGIT,subst:{},offset:0,category:"Nd",font:f.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:s.DIGIT,subst:{},offset:0,category:"Nd",font:f.MONOSPACE},{interval:["1F101","1F10A"],base:s.DIGIT,subst:{},offset:0,category:"No",font:c.COMMA},{interval:["24B6","24CF"],base:s.LATINCAP,subst:{},capital:!0,category:"So",font:c.CIRCLED},{interval:["24D0","24E9"],base:s.LATINSMALL,subst:{},capital:!1,category:"So",font:c.CIRCLED},{interval:["1F110","1F129"],base:s.LATINCAP,subst:{},capital:!0,category:"So",font:c.PARENTHESIZED},{interval:["249C","24B5"],base:s.LATINSMALL,subst:{},capital:!1,category:"So",font:c.PARENTHESIZED},{interval:["1F130","1F149"],base:s.LATINCAP,subst:{},capital:!0,category:"So",font:c.SQUARED},{interval:["1F170","1F189"],base:s.LATINCAP,subst:{},capital:!0,category:"So",font:c.NEGATIVESQUARED},{interval:["1F150","1F169"],base:s.LATINCAP,subst:{},capital:!0,category:"So",font:c.NEGATIVECIRCLED}]},8504:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.Comparator=e.ClearspeakPreferences=void 0;const M=v(5897),C=v(4440),x=v(1676),y=v(1676),d=v(2780),f=v(2362);class c extends x.DynamicCstr{constructor(h,m){super(h),this.preference=m}static comparator(){return new a(M.default.getInstance().dynamicCstr,y.DynamicProperties.createProp([x.DynamicCstr.DEFAULT_VALUES[y.Axis.LOCALE]],[x.DynamicCstr.DEFAULT_VALUES[y.Axis.MODALITY]],[x.DynamicCstr.DEFAULT_VALUES[y.Axis.DOMAIN]],[x.DynamicCstr.DEFAULT_VALUES[y.Axis.STYLE]]))}static fromPreference(h){const m=h.split(":"),g={},E=s.getProperties(),S=Object.keys(E);for(let O,A=0;O=m[A];A++){const _=O.split("_");if(S.indexOf(_[0])===-1)continue;const T=_[1];T&&T!==c.AUTO&&E[_[0]].indexOf(T)!==-1&&(g[_[0]]=_[1])}return g}static toPreference(h){const m=Object.keys(h),g=[];for(let E=0;E<m.length;E++)g.push(m[E]+"_"+h[m[E]]);return g.length?g.join(":"):x.DynamicCstr.DEFAULT_VALUE}static getLocalePreferences(h){const m=h||d.enumerate(f.SpeechRuleEngine.getInstance().enumerate());return c.getLocalePreferences_(m)}static smartPreferences(h,m){const g=c.getLocalePreferences()[m];if(!g)return[];const E=h.explorers.speech,S=c.relevantPreferences(E.walker.getFocus().getSemanticPrimary()),O=C.DOMAIN_TO_STYLES.clearspeak;return[{type:"radio",content:"No Preferences",id:"clearspeak-default",variable:"speechRules"},{type:"radio",content:"Current Preferences",id:"clearspeak-"+O,variable:"speechRules"},{type:"rule"},{type:"label",content:"Preferences for "+S},{type:"rule"}].concat(g[S].map(function(A){const _=A.split("_");return{type:"radio",content:_[1],id:"clearspeak-"+c.addPreference(O,_[0],_[1]),variable:"speechRules"}}))}static relevantPreferences(h){const m=u[h.type];return m&&(m[h.role]||m[""])||"ImpliedTimes"}static findPreference(h,m){return h==="default"?c.AUTO:c.fromPreference(h)[m]||c.AUTO}static addPreference(h,m,g){if(h==="default")return m+"_"+g;const E=c.fromPreference(h);return E[m]=g,c.toPreference(E)}static getLocalePreferences_(h){const m={};for(const g in h){if(!h[g].speech||!h[g].speech.clearspeak)continue;const E=Object.keys(h[g].speech.clearspeak),S=m[g]={};for(const O in s.getProperties()){const A=s.getProperties()[O],_=[O+"_Auto"];if(A)for(const T of A)E.indexOf(O+"_"+T)!==-1&&_.push(O+"_"+T);S[O]=_}}return m}equal(h){if(!super.equal(h))return!1;const m=Object.keys(this.preference),g=h.preference;if(m.length!==Object.keys(g).length)return!1;for(let E,S=0;E=m[S];S++)if(this.preference[E]!==g[E])return!1;return!0}}e.ClearspeakPreferences=c,c.AUTO="Auto";const s=new y.DynamicProperties({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Enclosed:["Auto","EndEnclose"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:["Auto","EndFrac","FracOver","General","GeneralEndFrac","Ordinal","Over","OverEndFrac","Per"],Functions:["Auto","None","Reciprocal"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:["Auto","Combinatoric","EndMatrix","EndVector","SilentColNum","SpeakColNum","Vector"],MultiLineLabel:["Auto","Case","Constraint","Equation","Line","None","Row","Step"],MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:["Auto","CoordPoint","Interval","Silent","Speak","SpeakNestingLevel"],Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member","In"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]});class a extends y.DefaultComparator{constructor(h,m){super(h,m),this.preference=h instanceof c?h.preference:{}}match(h){if(!(h instanceof c))return super.match(h);if(h.getComponents()[y.Axis.STYLE]==="default")return!0;const m=Object.keys(h.preference);for(let g,E=0;g=m[E];E++)if(this.preference[g]!==h.preference[g])return!1;return!0}compare(h,m){const g=super.compare(h,m);if(g!==0)return g;const E=h instanceof c,S=m instanceof c;if(!E&&S)return 1;if(E&&!S)return-1;if(!E&&!S)return 0;const O=Object.keys(h.preference).length,A=Object.keys(m.preference).length;return O>A?-1:O<A?1:0}}e.Comparator=a;class o extends y.DynamicCstrParser{constructor(){super([y.Axis.LOCALE,y.Axis.MODALITY,y.Axis.DOMAIN,y.Axis.STYLE])}parse(h){const m=super.parse(h);let g=m.getValue(y.Axis.STYLE);const E=m.getValue(y.Axis.LOCALE),S=m.getValue(y.Axis.MODALITY);let O={};return g!==x.DynamicCstr.DEFAULT_VALUE&&(O=this.fromPreference(g),g=this.toPreference(O)),new c({locale:E,modality:S,domain:"clearspeak",style:g},O)}fromPreference(h){return c.fromPreference(h)}toPreference(h){return c.toPreference(h)}}e.Parser=o;const l=[["AbsoluteValue","fenced","neutral","metric"],["Bar","overscore","overaccent"],["Caps","identifier","latinletter"],["CombinationPermutation","appl","unknown"],["Ellipses","punctuation","ellipsis"],["Exponent","superscript",""],["Fraction","fraction",""],["Functions","appl","simple function"],["ImpliedTimes","operator","implicit"],["Log","appl","prefix function"],["Matrix","matrix",""],["Matrix","vector",""],["MultiLineLabel","multiline","label"],["MultiLineOverview","multiline","table"],["MultiLinePausesBetweenColumns","multiline","table"],["MultiLineLabel","table","label"],["MultiLineOverview","table","table"],["MultiLinePausesBetweenColumns","table","table"],["MultiLineLabel","cases","label"],["MultiLineOverview","cases","table"],["MultiLinePausesBetweenColumns","cases","table"],["MultsymbolDot","operator","multiplication"],["MultsymbolX","operator","multiplication"],["Paren","fenced","leftright"],["Prime","superscript","prime"],["Roots","root",""],["Roots","sqrt",""],["SetMemberSymbol","relation","element"],["Sets","fenced","set extended"],["TriangleSymbol","identifier","greekletter"],["Trig","appl","prefix function"],["VerticalLine","punctuated","vbar"]],u=function(){const p={};for(let h,m=0;h=l[m];m++){const g=h[0];let E=p[h[1]];E||(E={},p[h[1]]=E),E[h[2]]=g}return p}();M.default.getInstance().comparators.clearspeak=c.comparator,M.default.getInstance().parsers.clearspeak=new o},5425:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.ClearspeakRules=void 0;const M=v(1676),C=v(365),x=v(9912),y=v(1378),d=v(8437),f=v(7283);e.ClearspeakRules=function(){f.addStore(M.DynamicCstr.BASE_LOCALE+".speech.clearspeak","",{CTFpauseSeparator:C.pauseSeparator,CTFnodeCounter:x.nodeCounter,CTFcontentIterator:C.contentIterator,CSFvulgarFraction:d.vulgarFraction,CQFvulgarFractionSmall:x.isSmallVulgarFraction,CQFcellsSimple:x.allCellsSimple,CSFordinalExponent:x.ordinalExponent,CSFwordOrdinal:x.wordOrdinal,CQFmatchingFences:x.matchingFences,CSFnestingDepth:x.nestingDepth,CQFfencedArguments:x.fencedArguments,CQFsimpleArguments:x.simpleArguments,CQFspaceoutNumber:y.spaceoutNumber})}},9912:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.wordOrdinal=e.layoutFactor_=e.fencedFactor_=e.simpleFactor_=e.simpleArguments=e.fencedArguments=e.insertNesting=e.matchingFences=e.nestingDepth=e.NESTING_DEPTH=e.ordinalExponent=e.allTextLastContent_=e.isUnitExpression=e.isSmallVulgarFraction=e.allCellsSimple=e.allIndices_=e.isInteger_=e.simpleCell_=e.simpleNode=e.hasPreference=e.isSimpleFraction_=e.isSimpleNumber_=e.isNumber_=e.isLetter_=e.isSimple_=e.isSimpleLetters_=e.isSimpleDegree_=e.isSimpleNegative_=e.isSimpleFunction_=e.isSimpleExpression=e.nodeCounter=void 0;const M=v(5740),C=v(5897),x=v(5274),y=v(4356),d=v(4977),f=v(2105),c=v(365),s=v(7630),a=v(9265),o=v(3588);function l(j){return O(j)||m(j)||h(j)||p(j)||u(j)}function u(j){return j.type==="appl"&&(j.childNodes[0].role==="prefix function"||j.childNodes[0].role==="simple function")&&(g(j.childNodes[1])||j.childNodes[1].type==="fenced"&&g(j.childNodes[1].childNodes[0]))}function p(j){return j.type==="prefixop"&&j.role==="negative"&&g(j.childNodes[0])&&j.childNodes[0].type!=="prefixop"&&j.childNodes[0].type!=="appl"&&j.childNodes[0].type!=="punctuated"}function h(j){return j.type==="punctuated"&&j.role==="endpunct"&&j.childNodes.length===2&&j.childNodes[1].role==="degree"&&(E(j.childNodes[0])||S(j.childNodes[0])||j.childNodes[0].type==="prefixop"&&j.childNodes[0].role==="negative"&&(E(j.childNodes[0].childNodes[0])||S(j.childNodes[0].childNodes[0])))}function m(j){return E(j)||j.type==="infixop"&&j.role==="implicit"&&(j.childNodes.length===2&&(E(j.childNodes[0])||O(j.childNodes[0]))&&E(j.childNodes[1])||j.childNodes.length===3&&O(j.childNodes[0])&&E(j.childNodes[1])&&E(j.childNodes[2]))}function g(j){return j.hasAnnotation("clearspeak","simple")}function E(j){return j.type==="identifier"&&(j.role==="latinletter"||j.role==="greekletter"||j.role==="otherletter"||j.role==="simple function")}function S(j){return j.type==="number"&&(j.role==="integer"||j.role==="float")}function O(j){return S(j)||A(j)}function A(j){if(_("Fraction_Over")||_("Fraction_FracOver")||j.type!=="fraction"||j.role!=="vulgar")return!1;if(_("Fraction_Ordinal"))return!0;const U=parseInt(j.childNodes[0].textContent,10),z=parseInt(j.childNodes[1].textContent,10);return U>0&&U<20&&z>0&&z<11}function _(j){return C.default.getInstance().style===j}function T(j){if(!j.hasAttribute("annotation"))return!1;const U=j.getAttribute("annotation");return!!/clearspeak:simple$|clearspeak:simple;/.exec(U)}function N(j){if(T(j))return!0;if(j.tagName!=="subscript")return!1;const U=j.childNodes[0].childNodes,z=U[1];return U[0].tagName==="identifier"&&(w(z)||z.tagName==="infixop"&&z.hasAttribute("role")&&z.getAttribute("role")==="implicit"&&L(z))}function w(j){return j.tagName==="number"&&j.hasAttribute("role")&&j.getAttribute("role")==="integer"}function L(j){return x.evalXPath("children/*",j).every(U=>w(U)||U.tagName==="identifier")}function I(j){return j.type==="text"||j.type==="punctuated"&&j.role==="text"&&S(j.childNodes[0])&&P(j.childNodes.slice(1))||j.type==="identifier"&&j.role==="unit"||j.type==="infixop"&&(j.role==="implicit"||j.role==="unit")}function P(j){for(let U=0;U<j.length-1;U++)if(j[U].type!=="text"||j[U].textContent!=="")return!1;return j[j.length-1].type==="text"}function k(j,U){if(!U||!j)return j;const z=j.match(/^(open|close) /);return z?z[0]+U+" "+j.substring(z[0].length):U+" "+j}function B(j){return!!j&&(j.tagName==="number"||j.tagName==="identifier"||j.tagName==="function"||j.tagName==="appl"||j.tagName==="fraction")}function F(j){return j&&(j.tagName==="fenced"||j.hasAttribute("role")&&j.getAttribute("role")==="leftright"||H(j))}function H(j){return!!j&&(j.tagName==="matrix"||j.tagName==="vector")}e.nodeCounter=function(j,U){const z=U.split("-"),K=c.nodeCounter(j,z[0]||""),W=z[1]||"",q=z[2]||"";let X=!0;return function(){const D=K();return X?(X=!1,q+D+W):D+W}},e.isSimpleExpression=l,e.isSimpleFunction_=u,e.isSimpleNegative_=p,e.isSimpleDegree_=h,e.isSimpleLetters_=m,e.isSimple_=g,e.isLetter_=E,e.isNumber_=S,e.isSimpleNumber_=O,e.isSimpleFraction_=A,e.hasPreference=_,(0,s.register)(new a.SemanticAnnotator("clearspeak","simple",function(j){return l(j)?"simple":""})),e.simpleNode=T,e.simpleCell_=N,e.isInteger_=w,e.allIndices_=L,e.allCellsSimple=function(j){const U=j.tagName==="matrix"?"children/row/children/cell/children/*":"children/line/children/*";return x.evalXPath(U,j).every(N)?[j]:[]},e.isSmallVulgarFraction=function(j){return(0,d.vulgarFractionSmall)(j,20,11)?[j]:[]},e.isUnitExpression=I,e.allTextLastContent_=P,(0,s.register)(new a.SemanticAnnotator("clearspeak","unit",function(j){return I(j)?"unit":""})),e.ordinalExponent=function(j){const U=parseInt(j.textContent,10);return isNaN(U)?j.textContent:U>10?y.LOCALE.NUMBERS.numericOrdinal(U):y.LOCALE.NUMBERS.wordOrdinal(U)},e.NESTING_DEPTH=null,e.nestingDepth=function(j){let U=0;const z=j.textContent,K=j.getAttribute("role")==="open"?0:1;let W=j.parentNode;for(;W;)W.tagName==="fenced"&&W.childNodes[0].childNodes[K].textContent===z&&U++,W=W.parentNode;return e.NESTING_DEPTH=U>1?y.LOCALE.NUMBERS.wordOrdinal(U):"",e.NESTING_DEPTH},e.matchingFences=function(j){const U=j.previousSibling;let z,K;return U?(z=U,K=j):(z=j,K=j.nextSibling),K&&(0,o.isMatchingFence)(z.textContent,K.textContent)?[j]:[]},e.insertNesting=k,f.Grammar.getInstance().setCorrection("insertNesting",k),e.fencedArguments=function(j){const U=M.toArray(j.parentNode.childNodes),z=x.evalXPath("../../children/*",j),K=U.indexOf(j);return F(z[K])||F(z[K+1])?[j]:[]},e.simpleArguments=function(j){const U=M.toArray(j.parentNode.childNodes),z=x.evalXPath("../../children/*",j),K=U.indexOf(j);return B(z[K])&&z[K+1]&&(B(z[K+1])||z[K+1].tagName==="root"||z[K+1].tagName==="sqrt"||z[K+1].tagName==="superscript"&&z[K+1].childNodes[0].childNodes[0]&&(z[K+1].childNodes[0].childNodes[0].tagName==="number"||z[K+1].childNodes[0].childNodes[0].tagName==="identifier")&&(z[K+1].childNodes[0].childNodes[1].textContent==="2"||z[K+1].childNodes[0].childNodes[1].textContent==="3"))?[j]:[]},e.simpleFactor_=B,e.fencedFactor_=F,e.layoutFactor_=H,e.wordOrdinal=function(j){return y.LOCALE.NUMBERS.wordOrdinal(parseInt(j.textContent,10))}},6141:function(R,e,v){var M=this&&this.__awaiter||function(N,w,L,I){return new(L||(L=Promise))(function(P,k){function B(j){try{H(I.next(j))}catch(U){k(U)}}function F(j){try{H(I.throw(j))}catch(U){k(U)}}function H(j){var U;j.done?P(j.value):(U=j.value,U instanceof L?U:new L(function(z){z(U)})).then(B,F)}H((I=I.apply(N,w||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.loadAjax=e.loadFileSync=e.loadFile=e.parseMaps=e.retrieveFiles=e.standardLoader=e.loadLocale=e.store=void 0;const C=v(2139),x=v(5897),y=v(4440),d=v(7248),f=v(2315),c=v(1676),s=v(2780),a=v(2362),o=v(7491),l=v(313);e.store=s;const u={functions:s.addFunctionRules,symbols:s.addSymbolRules,units:s.addUnitRules,si:s.setSiPrefixes};let p=!1;function h(N=x.default.getInstance().locale){x.EnginePromise.loaded[N]||(x.EnginePromise.loaded[N]=[!1,!1],function(w){if(x.default.getInstance().isIE&&x.default.getInstance().mode===y.Mode.HTTP)return void O(w);g(w)}(N))}function m(){switch(x.default.getInstance().mode){case y.Mode.ASYNC:return A;case y.Mode.HTTP:return T;case y.Mode.SYNC:default:return _}}function g(N){const w=x.default.getInstance().customLoader?x.default.getInstance().customLoader:m(),L=new Promise(I=>{w(N).then(P=>{E(P),x.EnginePromise.loaded[N]=[!0,!0],I(N)},P=>{x.EnginePromise.loaded[N]=[!0,!1],console.error(`Unable to load locale: ${N}`),x.default.getInstance().locale=x.default.getInstance().defaultLocale,I(N)})});x.EnginePromise.promises[N]=L}function E(N){S(JSON.parse(N))}function S(N,w){let L=!0;for(let I,P=0;I=Object.keys(N)[P];P++){const k=I.split("/");w&&w!==k[0]||(k[1]==="rules"?a.SpeechRuleEngine.getInstance().addStore(N[I]):k[1]==="messages"?(0,o.completeLocale)(N[I]):(L&&(l.generate(k[0]),L=!1),N[I].forEach(u[k[1]])))}}function O(N,w){let L=w||1;C.mapsForIE?S(C.mapsForIE,N):L<=5&&setTimeout((()=>O(N,L++)).bind(this),300)}function A(N){const w=d.localePath(N);return new Promise((L,I)=>{f.default.fs.readFile(w,"utf8",(P,k)=>{if(P)return I(P);L(k)})})}function _(N){const w=d.localePath(N);return new Promise((L,I)=>{let P="{}";try{P=f.default.fs.readFileSync(w,"utf8")}catch(k){return I(k)}L(P)})}function T(N){const w=d.localePath(N),L=new XMLHttpRequest;return new Promise((I,P)=>{L.onreadystatechange=function(){if(L.readyState===4){const k=L.status;k===0||k>=200&&k<400?I(L.responseText):P(k)}},L.open("GET",w,!0),L.send()})}e.loadLocale=function(N=x.default.getInstance().locale){return M(this,void 0,void 0,function*(){return p||(h(c.DynamicCstr.BASE_LOCALE),p=!0),x.EnginePromise.promises[c.DynamicCstr.BASE_LOCALE].then(()=>M(this,void 0,void 0,function*(){const w=x.default.getInstance().defaultLocale;return w?(h(w),x.EnginePromise.promises[w].then(()=>M(this,void 0,void 0,function*(){return h(N),x.EnginePromise.promises[N]}))):(h(N),x.EnginePromise.promises[N])}))})},e.standardLoader=m,e.retrieveFiles=g,e.parseMaps=E,e.loadFile=A,e.loadFileSync=_,e.loadAjax=T},7088:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.leftSubscriptBrief=e.leftSuperscriptBrief=e.leftSubscriptVerbose=e.leftSuperscriptVerbose=e.baselineBrief=e.baselineVerbose=void 0;const M=v(1378);e.baselineVerbose=function(C){return M.baselineVerbose(C).replace(/-$/,"")},e.baselineBrief=function(C){return M.baselineBrief(C).replace(/-$/,"")},e.leftSuperscriptVerbose=function(C){return M.superscriptVerbose(C).replace(/^exposant/,"exposant gauche")},e.leftSubscriptVerbose=function(C){return M.subscriptVerbose(C).replace(/^indice/,"indice gauche")},e.leftSuperscriptBrief=function(C){return M.superscriptBrief(C).replace(/^sup/,"sup gauche")},e.leftSubscriptBrief=function(C){return M.subscriptBrief(C).replace(/^sub/,"sub gauche")}},9577:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.MathspeakRules=void 0;const M=v(1676),C=v(365),x=v(7088),y=v(1378),d=v(8437),f=v(7283),c=v(7598);e.MathspeakRules=function(){f.addStore(M.DynamicCstr.BASE_LOCALE+".speech.mathspeak","",{CQFspaceoutNumber:y.spaceoutNumber,CQFspaceoutIdentifier:y.spaceoutIdentifier,CSFspaceoutText:y.spaceoutText,CSFopenFracVerbose:y.openingFractionVerbose,CSFcloseFracVerbose:y.closingFractionVerbose,CSFoverFracVerbose:y.overFractionVerbose,CSFopenFracBrief:y.openingFractionBrief,CSFcloseFracBrief:y.closingFractionBrief,CSFopenFracSbrief:y.openingFractionSbrief,CSFcloseFracSbrief:y.closingFractionSbrief,CSFoverFracSbrief:y.overFractionSbrief,CSFvulgarFraction:d.vulgarFraction,CQFvulgarFractionSmall:y.isSmallVulgarFraction,CSFopenRadicalVerbose:y.openingRadicalVerbose,CSFcloseRadicalVerbose:y.closingRadicalVerbose,CSFindexRadicalVerbose:y.indexRadicalVerbose,CSFopenRadicalBrief:y.openingRadicalBrief,CSFcloseRadicalBrief:y.closingRadicalBrief,CSFindexRadicalBrief:y.indexRadicalBrief,CSFopenRadicalSbrief:y.openingRadicalSbrief,CSFindexRadicalSbrief:y.indexRadicalSbrief,CQFisSmallRoot:y.smallRoot,CSFsuperscriptVerbose:y.superscriptVerbose,CSFsuperscriptBrief:y.superscriptBrief,CSFsubscriptVerbose:y.subscriptVerbose,CSFsubscriptBrief:y.subscriptBrief,CSFbaselineVerbose:y.baselineVerbose,CSFbaselineBrief:y.baselineBrief,CSFleftsuperscriptVerbose:y.superscriptVerbose,CSFleftsubscriptVerbose:y.subscriptVerbose,CSFrightsuperscriptVerbose:y.superscriptVerbose,CSFrightsubscriptVerbose:y.subscriptVerbose,CSFleftsuperscriptBrief:y.superscriptBrief,CSFleftsubscriptBrief:y.subscriptBrief,CSFrightsuperscriptBrief:y.superscriptBrief,CSFrightsubscriptBrief:y.subscriptBrief,CSFunderscript:y.nestedUnderscript,CSFoverscript:y.nestedOverscript,CSFendscripts:y.endscripts,CTFordinalCounter:d.ordinalCounter,CTFwordCounter:d.wordCounter,CTFcontentIterator:C.contentIterator,CQFdetIsSimple:y.determinantIsSimple,CSFRemoveParens:y.removeParens,CQFresetNesting:y.resetNestingDepth,CGFbaselineConstraint:y.generateBaselineConstraint,CGFtensorRules:y.generateTensorRules}),f.addStore("es.speech.mathspeak",M.DynamicCstr.BASE_LOCALE+".speech.mathspeak",{CTFunitMultipliers:c.unitMultipliers,CQFoneLeft:c.oneLeft}),f.addStore("fr.speech.mathspeak",M.DynamicCstr.BASE_LOCALE+".speech.mathspeak",{CSFbaselineVerbose:x.baselineVerbose,CSFbaselineBrief:x.baselineBrief,CSFleftsuperscriptVerbose:x.leftSuperscriptVerbose,CSFleftsubscriptVerbose:x.leftSubscriptVerbose,CSFleftsuperscriptBrief:x.leftSuperscriptBrief,CSFleftsubscriptBrief:x.leftSubscriptBrief})}},1378:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.smallRoot=e.generateTensorRules=e.removeParens=e.generateBaselineConstraint=e.determinantIsSimple=e.nestedOverscript=e.endscripts=e.overscoreNestingDepth=e.nestedUnderscript=e.underscoreNestingDepth=e.indexRadicalSbrief=e.openingRadicalSbrief=e.indexRadicalBrief=e.closingRadicalBrief=e.openingRadicalBrief=e.indexRadicalVerbose=e.closingRadicalVerbose=e.openingRadicalVerbose=e.getRootIndex=e.nestedRadical=e.radicalNestingDepth=e.baselineBrief=e.baselineVerbose=e.superscriptBrief=e.superscriptVerbose=e.subscriptBrief=e.subscriptVerbose=e.nestedSubSuper=e.isSmallVulgarFraction=e.overFractionSbrief=e.closingFractionSbrief=e.openingFractionSbrief=e.closingFractionBrief=e.openingFractionBrief=e.overFractionVerbose=e.closingFractionVerbose=e.openingFractionVerbose=e.nestedFraction=e.fractionNestingDepth=e.computeNestingDepth_=e.containsAttr=e.getNestingDepth=e.resetNestingDepth=e.nestingBarriers=e.spaceoutIdentifier=e.spaceoutNumber=e.spaceoutNodes=e.spaceoutText=void 0;const M=v(707),C=v(5740),x=v(5274),y=v(4356),d=v(3308);let f={};function c(T,N){const w=Array.from(T.textContent),L=[],I=d.default.getInstance(),P=T.ownerDocument;for(let k,B=0;k=w[B];B++){const F=I.getNodeFactory().makeLeafNode(k,"unknown"),H=I.identifierNode(F,"unknown","");N(H),L.push(H.xml(P))}return L}function s(T,N,w,L,I,P){L=L||e.nestingBarriers,I=I||{},P=P||function(F){return!1};const k=C.serializeXml(N);if(f[T]||(f[T]={}),f[T][k])return f[T][k];if(P(N)||w.indexOf(N.tagName)<0)return 0;const B=o(N,w,M.setdifference(L,w),I,P,0);return f[T][k]=B,B}function a(T,N){if(!T.attributes)return!1;const w=C.toArray(T.attributes);for(let L,I=0;L=w[I];I++)if(N[L.nodeName]===L.nodeValue)return!0;return!1}function o(T,N,w,L,I,P){if(I(T)||w.indexOf(T.tagName)>-1||a(T,L)||(N.indexOf(T.tagName)>-1&&P++,!T.childNodes||T.childNodes.length===0))return P;const k=C.toArray(T.childNodes);return Math.max.apply(null,k.map(function(B){return o(B,N,w,L,I,P)}))}function l(T){return s("fraction",T,["fraction"],e.nestingBarriers,{},y.LOCALE.FUNCTIONS.fracNestDepth)}function u(T,N,w){const L=l(T),I=Array(L).fill(N);return w&&I.push(w),I.join(y.LOCALE.MESSAGES.regexp.JOINER_FRAC)}function p(T,N,w){for(;T.parentNode;){const L=T.parentNode,I=L.parentNode;if(!I)break;const P=T.getAttribute&&T.getAttribute("role");(I.tagName==="subscript"&&T===L.childNodes[1]||I.tagName==="tensor"&&P&&(P==="leftsub"||P==="rightsub"))&&(N=w.sub+y.LOCALE.MESSAGES.regexp.JOINER_SUBSUPER+N),(I.tagName==="superscript"&&T===L.childNodes[1]||I.tagName==="tensor"&&P&&(P==="leftsuper"||P==="rightsuper"))&&(N=w.sup+y.LOCALE.MESSAGES.regexp.JOINER_SUBSUPER+N),T=I}return N.trim()}function h(T){return s("radical",T,["sqrt","root"],e.nestingBarriers,{})}function m(T,N,w){const L=h(T),I=g(T);return w=I?y.LOCALE.FUNCTIONS.combineRootIndex(w,I):w,L===1?w:y.LOCALE.FUNCTIONS.combineNestedRadical(N,y.LOCALE.FUNCTIONS.radicalNestDepth(L-1),w)}function g(T){const N=T.tagName==="sqrt"?"2":x.evalXPath("children/*[1]",T)[0].textContent.trim();return y.LOCALE.MESSAGES.MSroots[N]||""}function E(T){return s("underscore",T,["underscore"],e.nestingBarriers,{},function(N){return N.tagName&&N.tagName==="underscore"&&N.childNodes[0].childNodes[1].getAttribute("role")==="underaccent"})}function S(T){return s("overscore",T,["overscore"],e.nestingBarriers,{},function(N){return N.tagName&&N.tagName==="overscore"&&N.childNodes[0].childNodes[1].getAttribute("role")==="overaccent"})}e.spaceoutText=function(T){return Array.from(T.textContent).join(" ")},e.spaceoutNodes=c,e.spaceoutNumber=function(T){return c(T,function(N){N.textContent.match(/\W/)||(N.type="number")})},e.spaceoutIdentifier=function(T){return c(T,function(N){N.font="unknown",N.type="identifier"})},e.nestingBarriers=["cases","cell","integral","line","matrix","multiline","overscore","root","row","sqrt","subscript","superscript","table","underscore","vector"],e.resetNestingDepth=function(T){return f={},[T]},e.getNestingDepth=s,e.containsAttr=a,e.computeNestingDepth_=o,e.fractionNestingDepth=l,e.nestedFraction=u,e.openingFractionVerbose=function(T){return u(T,y.LOCALE.MESSAGES.MS.START,y.LOCALE.MESSAGES.MS.FRAC_V)},e.closingFractionVerbose=function(T){return u(T,y.LOCALE.MESSAGES.MS.END,y.LOCALE.MESSAGES.MS.FRAC_V)},e.overFractionVerbose=function(T){return u(T,y.LOCALE.MESSAGES.MS.FRAC_OVER)},e.openingFractionBrief=function(T){return u(T,y.LOCALE.MESSAGES.MS.START,y.LOCALE.MESSAGES.MS.FRAC_B)},e.closingFractionBrief=function(T){return u(T,y.LOCALE.MESSAGES.MS.END,y.LOCALE.MESSAGES.MS.FRAC_B)},e.openingFractionSbrief=function(T){const N=l(T);return N===1?y.LOCALE.MESSAGES.MS.FRAC_S:y.LOCALE.FUNCTIONS.combineNestedFraction(y.LOCALE.MESSAGES.MS.NEST_FRAC,y.LOCALE.FUNCTIONS.radicalNestDepth(N-1),y.LOCALE.MESSAGES.MS.FRAC_S)},e.closingFractionSbrief=function(T){const N=l(T);return N===1?y.LOCALE.MESSAGES.MS.ENDFRAC:y.LOCALE.FUNCTIONS.combineNestedFraction(y.LOCALE.MESSAGES.MS.NEST_FRAC,y.LOCALE.FUNCTIONS.radicalNestDepth(N-1),y.LOCALE.MESSAGES.MS.ENDFRAC)},e.overFractionSbrief=function(T){const N=l(T);return N===1?y.LOCALE.MESSAGES.MS.FRAC_OVER:y.LOCALE.FUNCTIONS.combineNestedFraction(y.LOCALE.MESSAGES.MS.NEST_FRAC,y.LOCALE.FUNCTIONS.radicalNestDepth(N-1),y.LOCALE.MESSAGES.MS.FRAC_OVER)},e.isSmallVulgarFraction=function(T){return y.LOCALE.FUNCTIONS.fracNestDepth(T)?[T]:[]},e.nestedSubSuper=p,e.subscriptVerbose=function(T){return p(T,y.LOCALE.MESSAGES.MS.SUBSCRIPT,{sup:y.LOCALE.MESSAGES.MS.SUPER,sub:y.LOCALE.MESSAGES.MS.SUB})},e.subscriptBrief=function(T){return p(T,y.LOCALE.MESSAGES.MS.SUB,{sup:y.LOCALE.MESSAGES.MS.SUP,sub:y.LOCALE.MESSAGES.MS.SUB})},e.superscriptVerbose=function(T){return p(T,y.LOCALE.MESSAGES.MS.SUPERSCRIPT,{sup:y.LOCALE.MESSAGES.MS.SUPER,sub:y.LOCALE.MESSAGES.MS.SUB})},e.superscriptBrief=function(T){return p(T,y.LOCALE.MESSAGES.MS.SUP,{sup:y.LOCALE.MESSAGES.MS.SUP,sub:y.LOCALE.MESSAGES.MS.SUB})},e.baselineVerbose=function(T){const N=p(T,"",{sup:y.LOCALE.MESSAGES.MS.SUPER,sub:y.LOCALE.MESSAGES.MS.SUB});return N?N.replace(new RegExp(y.LOCALE.MESSAGES.MS.SUB+"$"),y.LOCALE.MESSAGES.MS.SUBSCRIPT).replace(new RegExp(y.LOCALE.MESSAGES.MS.SUPER+"$"),y.LOCALE.MESSAGES.MS.SUPERSCRIPT):y.LOCALE.MESSAGES.MS.BASELINE},e.baselineBrief=function(T){return p(T,"",{sup:y.LOCALE.MESSAGES.MS.SUP,sub:y.LOCALE.MESSAGES.MS.SUB})||y.LOCALE.MESSAGES.MS.BASE},e.radicalNestingDepth=h,e.nestedRadical=m,e.getRootIndex=g,e.openingRadicalVerbose=function(T){return m(T,y.LOCALE.MESSAGES.MS.NESTED,y.LOCALE.MESSAGES.MS.STARTROOT)},e.closingRadicalVerbose=function(T){return m(T,y.LOCALE.MESSAGES.MS.NESTED,y.LOCALE.MESSAGES.MS.ENDROOT)},e.indexRadicalVerbose=function(T){return m(T,y.LOCALE.MESSAGES.MS.NESTED,y.LOCALE.MESSAGES.MS.ROOTINDEX)},e.openingRadicalBrief=function(T){return m(T,y.LOCALE.MESSAGES.MS.NEST_ROOT,y.LOCALE.MESSAGES.MS.STARTROOT)},e.closingRadicalBrief=function(T){return m(T,y.LOCALE.MESSAGES.MS.NEST_ROOT,y.LOCALE.MESSAGES.MS.ENDROOT)},e.indexRadicalBrief=function(T){return m(T,y.LOCALE.MESSAGES.MS.NEST_ROOT,y.LOCALE.MESSAGES.MS.ROOTINDEX)},e.openingRadicalSbrief=function(T){return m(T,y.LOCALE.MESSAGES.MS.NEST_ROOT,y.LOCALE.MESSAGES.MS.ROOT)},e.indexRadicalSbrief=function(T){return m(T,y.LOCALE.MESSAGES.MS.NEST_ROOT,y.LOCALE.MESSAGES.MS.INDEX)},e.underscoreNestingDepth=E,e.nestedUnderscript=function(T){const N=E(T);return Array(N).join(y.LOCALE.MESSAGES.MS.UNDER)+y.LOCALE.MESSAGES.MS.UNDERSCRIPT},e.overscoreNestingDepth=S,e.endscripts=function(T){return y.LOCALE.MESSAGES.MS.ENDSCRIPTS},e.nestedOverscript=function(T){const N=S(T);return Array(N).join(y.LOCALE.MESSAGES.MS.OVER)+y.LOCALE.MESSAGES.MS.OVERSCRIPT},e.determinantIsSimple=function(T){if(T.tagName!=="matrix"||T.getAttribute("role")!=="determinant")return[];const N=x.evalXPath("children/row/children/cell/children/*",T);for(let w,L=0;w=N[L];L++)if(w.tagName!=="number"){if(w.tagName==="identifier"){const I=w.getAttribute("role");if(I==="latinletter"||I==="greekletter"||I==="otherletter")continue}return[]}return[T]},e.generateBaselineConstraint=function(){const T=k=>k.map(B=>"ancestor::"+B),N=k=>"not("+k+")",w=N(T(["subscript","superscript","tensor"]).join(" or ")),L=T(["relseq","multrel"]),I=T(["fraction","punctuation","fenced","sqrt","root"]);let P=[];for(let k,B=0;k=I[B];B++)P=P.concat(L.map(function(F){return k+"/"+F}));return[["ancestor::*/following-sibling::*",w,N(P.join(" | "))].join(" and ")]},e.removeParens=function(T){if(!T.childNodes.length||!T.childNodes[0].childNodes.length||!T.childNodes[0].childNodes[0].childNodes.length)return"";const N=T.childNodes[0].childNodes[0].childNodes[0].textContent;return N.match(/^\(.+\)$/)?N.slice(1,-1):N};const O=new Map([[3,"CSFleftsuperscript"],[4,"CSFleftsubscript"],[2,"CSFbaseline"],[1,"CSFrightsubscript"],[0,"CSFrightsuperscript"]]),A=new Map([[4,2],[3,3],[2,1],[1,4],[0,5]]);function _(T){const N=[];let w="",L="",I=parseInt(T,2);for(let P=0;P<5;P++){const k="children/*["+A.get(P)+"]";if(1&I){const B=O.get(P%5);w="[t] "+B+"Verbose; [n] "+k+";"+w,L="[t] "+B+"Brief; [n] "+k+";"+L}else N.unshift("name("+k+')="empty"');I>>=1}return[N,w,L]}e.generateTensorRules=function(T,N=!0){const w=["11111","11110","11101","11100","10111","10110","10101","10100","01111","01110","01101","01100"];for(let L,I=0;L=w[I];I++){let P="tensor"+L,[k,B,F]=_(L);T.defineRule(P,"default",B,"self::tensor",...k),N&&(T.defineRule(P,"brief",F,"self::tensor",...k),T.defineRule(P,"sbrief",F,"self::tensor",...k));const H=O.get(2);B+="; [t]"+H+"Verbose",F+="; [t]"+H+"Brief",P+="-baseline";const j="((.//*[not(*)])[last()]/@id)!=(((.//ancestor::fraction|ancestor::root|ancestor::sqrt|ancestor::cell|ancestor::line|ancestor::stree)[1]//*[not(*)])[last()]/@id)";T.defineRule(P,"default",B,"self::tensor",j,...k),N&&(T.defineRule(P,"brief",F,"self::tensor",j,...k),T.defineRule(P,"sbrief",F,"self::tensor",j,...k))}},e.smallRoot=function(T){let N=Object.keys(y.LOCALE.MESSAGES.MSroots).length;if(!N)return[];if(N++,!T.childNodes||T.childNodes.length===0||!T.childNodes[0].childNodes)return[];const w=T.childNodes[0].childNodes[0].textContent;if(!/^\d+$/.test(w))return[];const L=parseInt(w,10);return L>1&&L<=N?[T]:[]}},6922:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.implicitIterator=e.relationIterator=e.propagateNumber=e.checkParent_=e.NUMBER_INHIBITORS_=e.NUMBER_PROPAGATORS_=e.enlargeFence=e.indexRadical=e.closingRadical=e.openingRadical=e.radicalNestingDepth=e.nestedRadical=e.overBevelledFraction=e.overFraction=e.closingFraction=e.openingFraction=void 0;const M=v(7052),C=v(5740),x=v(5274),y=v(2105),d=v(5897),f=v(7630),c=v(9265),s=v(4356),a=v(1378);function o(m,g){const E=l(m);return E===1?g:new Array(E).join(s.LOCALE.MESSAGES.MS.NESTED)+g}function l(m,g){const E=g||0;return m.parentNode?l(m.parentNode,m.tagName==="root"||m.tagName==="sqrt"?E+1:E):E}function u(m){const g="";if(m.length===1)return g+m;const E=m.split("");return E.every(function(S){return S===""})?g+E.join(g):m.slice(0,-1)+g+m.slice(-1)}function p(m,g){const E=m.parent;if(!E)return!1;const S=E.type;return e.NUMBER_PROPAGATORS_.indexOf(S)!==-1||S==="prefixop"&&E.role==="negative"&&!g.script||S==="prefixop"&&E.role==="geometry"||!(S!=="punctuated"||g.enclosed&&E.role!=="text")}function h(m,g){return m.childNodes.length?(e.NUMBER_INHIBITORS_.indexOf(m.type)!==-1&&(g.script=!0),m.type==="fenced"?(g.number=!1,g.enclosed=!0,["",g]):(p(m,g)&&(g.number=!0,g.enclosed=!1),["",g])):(p(m,g)&&(g.number=!0,g.script=!1,g.enclosed=!1),[g.number?"number":"",{number:!1,enclosed:g.enclosed,script:g.script}])}e.openingFraction=function(m){const g=a.fractionNestingDepth(m);return new Array(g).join(s.LOCALE.MESSAGES.MS.FRACTION_REPEAT)+s.LOCALE.MESSAGES.MS.FRACTION_START},e.closingFraction=function(m){const g=a.fractionNestingDepth(m);return new Array(g).join(s.LOCALE.MESSAGES.MS.FRACTION_REPEAT)+s.LOCALE.MESSAGES.MS.FRACTION_END},e.overFraction=function(m){const g=a.fractionNestingDepth(m);return new Array(g).join(s.LOCALE.MESSAGES.MS.FRACTION_REPEAT)+s.LOCALE.MESSAGES.MS.FRACTION_OVER},e.overBevelledFraction=function(m){const g=a.fractionNestingDepth(m);return new Array(g).join(s.LOCALE.MESSAGES.MS.FRACTION_REPEAT)+""+s.LOCALE.MESSAGES.MS.FRACTION_OVER},e.nestedRadical=o,e.radicalNestingDepth=l,e.openingRadical=function(m){return o(m,s.LOCALE.MESSAGES.MS.STARTROOT)},e.closingRadical=function(m){return o(m,s.LOCALE.MESSAGES.MS.ENDROOT)},e.indexRadical=function(m){return o(m,s.LOCALE.MESSAGES.MS.ROOTINDEX)},e.enlargeFence=u,y.Grammar.getInstance().setCorrection("enlargeFence",u),e.NUMBER_PROPAGATORS_=["multirel","relseq","appl","row","line"],e.NUMBER_INHIBITORS_=["subscript","superscript","overscore","underscore"],e.checkParent_=p,e.propagateNumber=h,(0,f.register)(new c.SemanticVisitor("nemeth","number",h,{number:!0})),e.relationIterator=function(m,g){const E=m.slice(0);let S,O=!0;return S=m.length>0?x.evalXPath("../../content/*",m[0]):[],function(){const A=S.shift(),_=E.shift(),T=E[0],N=g?[M.AuditoryDescription.create({text:g},{translate:!0})]:[];if(!A)return N;const w=_?a.nestedSubSuper(_,"",{sup:s.LOCALE.MESSAGES.MS.SUPER,sub:s.LOCALE.MESSAGES.MS.SUB}):"",L=_&&C.tagName(_)!=="EMPTY"||O&&A.parentNode.parentNode&&A.parentNode.parentNode.previousSibling?[M.AuditoryDescription.create({text:""+w},{})]:[],I=T&&C.tagName(T)!=="EMPTY"||!S.length&&A.parentNode.parentNode&&A.parentNode.parentNode.nextSibling?[M.AuditoryDescription.create({text:""},{})]:[],P=d.default.evaluateNode(A);return O=!1,N.concat(L,P,I)}},e.implicitIterator=function(m,g){const E=m.slice(0);let S;return S=m.length>0?x.evalXPath("../../content/*",m[0]):[],function(){const O=E.shift(),A=E[0],_=S.shift(),T=g?[M.AuditoryDescription.create({text:g},{translate:!0})]:[];if(!_)return T;const N=O&&C.tagName(O)==="NUMBER",w=A&&C.tagName(A)==="NUMBER";return T.concat(N&&w&&_.getAttribute("role")==="space"?[M.AuditoryDescription.create({text:""},{})]:[])}}},8437:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.ordinalPosition=e.vulgarFraction=e.wordCounter=e.ordinalCounter=void 0;const M=v(9536),C=v(5740),x=v(4356),y=v(4977);e.ordinalCounter=function(d,f){let c=0;return function(){return x.LOCALE.NUMBERS.numericOrdinal(++c)+" "+f}},e.wordCounter=function(d,f){let c=0;return function(){return x.LOCALE.NUMBERS.numberToOrdinal(++c,!1)+" "+f}},e.vulgarFraction=function(d){const f=(0,y.convertVulgarFraction)(d,x.LOCALE.MESSAGES.MS.FRAC_OVER);return f.convertible&&f.enumerator&&f.denominator?[new M.Span(x.LOCALE.NUMBERS.numberToWords(f.enumerator),{extid:d.childNodes[0].childNodes[0].getAttribute("extid"),separator:""}),new M.Span(x.LOCALE.NUMBERS.vulgarSep,{separator:""}),new M.Span(x.LOCALE.NUMBERS.numberToOrdinal(f.denominator,f.enumerator!==1),{extid:d.childNodes[0].childNodes[1].getAttribute("extid")})]:[new M.Span(f.content||"",{extid:d.getAttribute("extid")})]},e.ordinalPosition=function(d){const f=C.toArray(d.parentNode.childNodes);return x.LOCALE.NUMBERS.numericOrdinal(f.indexOf(d)+1).toString()}},9284:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.BrailleRules=e.OtherRules=e.PrefixRules=void 0;const M=v(1676),C=v(365),x=v(1378),y=v(6922),d=v(8437),f=v(7283);e.PrefixRules=function(){f.addStore("en.prefix.default","",{CSFordinalPosition:d.ordinalPosition})},e.OtherRules=function(){f.addStore("en.speech.chromevox","",{CTFnodeCounter:C.nodeCounter,CTFcontentIterator:C.contentIterator}),f.addStore("en.speech.emacspeak","en.speech.chromevox",{CQFvulgarFractionSmall:x.isSmallVulgarFraction,CSFvulgarFraction:d.vulgarFraction})},e.BrailleRules=function(){f.addStore("nemeth.braille.default",M.DynamicCstr.BASE_LOCALE+".speech.mathspeak",{CSFopenFraction:y.openingFraction,CSFcloseFraction:y.closingFraction,CSFoverFraction:y.overFraction,CSFoverBevFraction:y.overBevelledFraction,CSFopenRadical:y.openingRadical,CSFcloseRadical:y.closingRadical,CSFindexRadical:y.indexRadical,CSFsubscript:x.subscriptVerbose,CSFsuperscript:x.superscriptVerbose,CSFbaseline:x.baselineVerbose,CGFtensorRules:c=>x.generateTensorRules(c,!1),CTFrelationIterator:y.relationIterator,CTFimplicitIterator:y.implicitIterator})}},7599:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.init=e.INIT_=void 0;const M=v(5425),C=v(9577),x=v(9284);e.INIT_=!1,e.init=function(){e.INIT_||((0,C.MathspeakRules)(),(0,M.ClearspeakRules)(),(0,x.PrefixRules)(),(0,x.OtherRules)(),(0,x.BrailleRules)(),e.INIT_=!0)}},7283:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.getStore=e.addStore=e.funcStore=void 0;const M=v(1676);e.funcStore=new Map,e.addStore=function(C,x,y){const d={};if(x){const f=e.funcStore.get(x)||{};Object.assign(d,f)}e.funcStore.set(C,Object.assign(d,y))},e.getStore=function(C,x,y){return e.funcStore.get([C,x,y].join("."))||e.funcStore.get([M.DynamicCstr.DEFAULT_VALUES[M.Axis.LOCALE],x,y].join("."))||e.funcStore.get([M.DynamicCstr.BASE_LOCALE,x,y].join("."))||{}}},7598:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.oneLeft=e.leftMostUnit=e.rightMostUnit=e.unitMultipliers=void 0;const M=v(7052),C=v(5274),x=v(4356);e.unitMultipliers=function(c,s){const a=c;let o=0;return function(){const l=M.AuditoryDescription.create({text:d(a[o])&&f(a[o+1])?x.LOCALE.MESSAGES.unitTimes:""},{});return o++,[l]}};const y=["superscript","subscript","overscore","underscore"];function d(c){for(;c;){if(c.getAttribute("role")==="unit")return!0;const s=c.tagName,a=C.evalXPath("children/*",c);c=y.indexOf(s)!==-1?a[0]:a[a.length-1]}return!1}function f(c){for(;c;){if(c.getAttribute("role")==="unit")return!0;c=C.evalXPath("children/*",c)[0]}return!1}e.rightMostUnit=d,e.leftMostUnit=f,e.oneLeft=function(c){for(;c;){if(c.tagName==="number"&&c.textContent==="1")return[c];if(c.tagName!=="infixop"||c.getAttribute("role")!=="multiplication"&&c.getAttribute("role")!=="implicit")return[];c=C.evalXPath("children/*",c)[0]}return[]}},3284:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractWalker=void 0;const M=v(7052),C=v(8290),x=v(5740),y=v(4440),d=v(6828),f=v(8496),c=v(2298),s=v(4356),a=v(2105),o=v(5656),l=v(9552),u=v(9543),p=v(8504),h=v(7730),m=v(1214),g=v(179),E=v(1204),S=v(5274);class O{constructor(_,T,N,w){this.node=_,this.generator=T,this.highlighter=N,this.modifier=!1,this.keyMapping=new Map([[f.KeyCode.UP,this.up.bind(this)],[f.KeyCode.DOWN,this.down.bind(this)],[f.KeyCode.RIGHT,this.right.bind(this)],[f.KeyCode.LEFT,this.left.bind(this)],[f.KeyCode.TAB,this.repeat.bind(this)],[f.KeyCode.DASH,this.expand.bind(this)],[f.KeyCode.SPACE,this.depth.bind(this)],[f.KeyCode.HOME,this.home.bind(this)],[f.KeyCode.X,this.summary.bind(this)],[f.KeyCode.Z,this.detail.bind(this)],[f.KeyCode.V,this.virtualize.bind(this)],[f.KeyCode.P,this.previous.bind(this)],[f.KeyCode.U,this.undo.bind(this)],[f.KeyCode.LESS,this.previousRules.bind(this)],[f.KeyCode.GREATER,this.nextRules.bind(this)]]),this.cursors=[],this.xml_=null,this.rebuilt_=null,this.focus_=null,this.active_=!1,this.node.id?this.id=this.node.id:this.node.hasAttribute(O.SRE_ID_ATTR)?this.id=this.node.getAttribute(O.SRE_ID_ATTR):(this.node.setAttribute(O.SRE_ID_ATTR,O.ID_COUNTER.toString()),this.id=O.ID_COUNTER++),this.rootNode=E.getSemanticRoot(_),this.rootId=this.rootNode.getAttribute(c.Attribute.ID),this.xmlString_=w,this.moved=g.WalkerMoves.ENTER}getXml(){return this.xml_||(this.xml_=x.parseInput(this.xmlString_)),this.xml_}getRebuilt(){return this.rebuilt_||this.rebuildStree(),this.rebuilt_}isActive(){return this.active_}activate(){this.isActive()||(this.generator.start(),this.toggleActive_())}deactivate(){this.isActive()&&(g.WalkerState.setState(this.id,this.primaryId()),this.generator.end(),this.toggleActive_())}getFocus(_=!1){return this.focus_||(this.focus_=this.singletonFocus(this.rootId)),_&&this.updateFocus(),this.focus_}setFocus(_){this.focus_=_}getDepth(){return this.levels.depth()-1}isSpeech(){return this.generator.modality===c.Attribute.SPEECH}focusDomNodes(){return this.getFocus().getDomNodes()}focusSemanticNodes(){return this.getFocus().getSemanticNodes()}speech(){const _=this.focusDomNodes();if(!_.length)return"";const T=this.specialMove();if(T!==null)return T;switch(this.moved){case g.WalkerMoves.DEPTH:return this.depth_();case g.WalkerMoves.SUMMARY:return this.summary_();case g.WalkerMoves.DETAIL:return this.detail_();default:{const N=[],w=this.focusSemanticNodes();for(let L=0,I=_.length;L<I;L++){const P=_[L],k=w[L];N.push(P?this.generator.getSpeech(P,this.getXml()):u.recomputeMarkup(k))}return this.mergePrefix_(N)}}}move(_){const T=this.keyMapping.get(_);if(!T)return null;const N=T();return!(!N||N===this.getFocus())&&(this.setFocus(N),this.moved===g.WalkerMoves.HOME&&(this.levels=this.initLevels()),!0)}up(){return this.moved=g.WalkerMoves.UP,this.getFocus()}down(){return this.moved=g.WalkerMoves.DOWN,this.getFocus()}left(){return this.moved=g.WalkerMoves.LEFT,this.getFocus()}right(){return this.moved=g.WalkerMoves.RIGHT,this.getFocus()}repeat(){return this.moved=g.WalkerMoves.REPEAT,this.getFocus().clone()}depth(){return this.moved=this.isSpeech()?g.WalkerMoves.DEPTH:g.WalkerMoves.REPEAT,this.getFocus().clone()}home(){return this.moved=g.WalkerMoves.HOME,this.singletonFocus(this.rootId)}getBySemanticId(_){return E.getBySemanticId(this.node,_)}primaryId(){return this.getFocus().getSemanticPrimary().id.toString()}expand(){const _=this.getFocus().getDomPrimary(),T=this.actionable_(_);return T?(this.moved=g.WalkerMoves.EXPAND,T.dispatchEvent(new Event("click")),this.getFocus().clone()):this.getFocus()}expandable(_){return!!this.actionable_(_)&&_.childNodes.length===0}collapsible(_){return!!this.actionable_(_)&&_.childNodes.length>0}restoreState(){if(!this.highlighter)return;const _=g.WalkerState.getState(this.id);if(!_)return;let T=this.getRebuilt().nodeDict[_];const N=[];for(;T;)N.push(T.id),T=T.parent;for(N.pop();N.length>0;){this.down();const w=N.pop(),L=this.findFocusOnLevel(w);if(!L)break;this.setFocus(L)}this.moved=g.WalkerMoves.ENTER}updateFocus(){this.setFocus(h.Focus.factory(this.getFocus().getSemanticPrimary().id.toString(),this.getFocus().getSemanticNodes().map(_=>_.id.toString()),this.getRebuilt(),this.node))}rebuildStree(){this.rebuilt_=new m.RebuildStree(this.getXml()),this.rootId=this.rebuilt_.stree.root.id.toString(),this.generator.setRebuilt(this.rebuilt_),this.skeleton=o.SemanticSkeleton.fromTree(this.rebuilt_.stree),this.skeleton.populate(),this.focus_=this.singletonFocus(this.rootId),this.levels=this.initLevels(),u.connectMactions(this.node,this.getXml(),this.rebuilt_.xml)}previousLevel(){const _=this.getFocus().getDomPrimary();return _?E.getAttribute(_,c.Attribute.PARENT):this.getFocus().getSemanticPrimary().parent.id.toString()}nextLevel(){const _=this.getFocus().getDomPrimary();let T,N;if(_){T=E.splitAttribute(E.getAttribute(_,c.Attribute.CHILDREN)),N=E.splitAttribute(E.getAttribute(_,c.Attribute.CONTENT));const I=E.getAttribute(_,c.Attribute.TYPE),P=E.getAttribute(_,c.Attribute.ROLE);return this.combineContentChildren(I,P,N,T)}const w=I=>I.id.toString(),L=this.getRebuilt().nodeDict[this.primaryId()];return T=L.childNodes.map(w),N=L.contentNodes.map(w),T.length===0?[]:this.combineContentChildren(L.type,L.role,N,T)}singletonFocus(_){this.getRebuilt();const T=this.retrieveVisuals(_);return this.focusFromId(_,T)}retrieveVisuals(_){if(!this.skeleton)return[_];const T=parseInt(_,10),N=this.skeleton.subtreeNodes(T);if(!N.length)return[_];N.unshift(T);const w={},L=[];S.updateEvaluator(this.getXml());for(const I of N)w[I]||(L.push(I.toString()),w[I]=!0,this.subtreeIds(I,w));return L}subtreeIds(_,T){const N=S.evalXPath(`//*[@data-semantic-id="${_}"]`,this.getXml());S.evalXPath("*//@data-semantic-id",N[0]).forEach(w=>T[parseInt(w.textContent,10)]=!0)}focusFromId(_,T){return h.Focus.factory(_,T,this.getRebuilt(),this.node)}summary(){return this.moved=this.isSpeech()?g.WalkerMoves.SUMMARY:g.WalkerMoves.REPEAT,this.getFocus().clone()}detail(){return this.moved=this.isSpeech()?g.WalkerMoves.DETAIL:g.WalkerMoves.REPEAT,this.getFocus().clone()}specialMove(){return null}virtualize(_){return this.cursors.push({focus:this.getFocus(),levels:this.levels,undo:_||!this.cursors.length}),this.levels=this.levels.clone(),this.getFocus().clone()}previous(){const _=this.cursors.pop();return _?(this.levels=_.levels,_.focus):this.getFocus()}undo(){let _;do _=this.cursors.pop();while(_&&!_.undo);return _?(this.levels=_.levels,_.focus):this.getFocus()}update(_){this.generator.setOptions(_),(0,d.setup)(_).then(()=>l.generator("Tree").getSpeech(this.node,this.getXml()))}nextRules(){const _=this.generator.getOptions();return _.modality!=="speech"?this.getFocus():(y.DOMAIN_TO_STYLES[_.domain]=_.style,_.domain=_.domain==="mathspeak"?"clearspeak":"mathspeak",_.style=y.DOMAIN_TO_STYLES[_.domain],this.update(_),this.moved=g.WalkerMoves.REPEAT,this.getFocus().clone())}nextStyle(_,T){if(_==="mathspeak"){const N=["default","brief","sbrief"],w=N.indexOf(T);return w===-1?T:w>=N.length-1?N[0]:N[w+1]}if(_==="clearspeak"){const N=p.ClearspeakPreferences.getLocalePreferences().en;if(!N)return"default";const w=p.ClearspeakPreferences.relevantPreferences(this.getFocus().getSemanticPrimary()),L=p.ClearspeakPreferences.findPreference(T,w),I=N[w].map(function(B){return B.split("_")[1]}),P=I.indexOf(L);if(P===-1)return T;const k=P>=I.length-1?I[0]:I[P+1];return p.ClearspeakPreferences.addPreference(T,w,k)}return T}previousRules(){const _=this.generator.getOptions();return _.modality!=="speech"?this.getFocus():(_.style=this.nextStyle(_.domain,_.style),this.update(_),this.moved=g.WalkerMoves.REPEAT,this.getFocus().clone())}refocus(){let _,T=this.getFocus();for(;!T.getNodes().length;){_=this.levels.peek();const N=this.up();if(!N)break;this.setFocus(N),T=this.getFocus(!0)}this.levels.push(_),this.setFocus(T)}toggleActive_(){this.active_=!this.active_}mergePrefix_(_,T=[]){const N=this.isSpeech()?this.prefix_():"";N&&_.unshift(N);const w=this.isSpeech()?this.postfix_():"";return w&&_.push(w),C.finalize(C.merge(T.concat(_)))}prefix_(){const _=this.getFocus().getDomNodes(),T=this.getFocus().getSemanticNodes();return _[0]?E.getAttribute(_[0],c.Attribute.PREFIX):u.retrievePrefix(T[0])}postfix_(){const _=this.getFocus().getDomNodes();return _[0]?E.getAttribute(_[0],c.Attribute.POSTFIX):""}depth_(){const _=a.Grammar.getInstance().getParameter("depth");a.Grammar.getInstance().setParameter("depth",!0);const T=this.getFocus().getDomPrimary(),N=this.expandable(T)?s.LOCALE.MESSAGES.navigate.EXPANDABLE:this.collapsible(T)?s.LOCALE.MESSAGES.navigate.COLLAPSIBLE:"",w=s.LOCALE.MESSAGES.navigate.LEVEL+" "+this.getDepth(),L=this.getFocus().getSemanticNodes(),I=u.retrievePrefix(L[0]),P=[new M.AuditoryDescription({text:w,personality:{}}),new M.AuditoryDescription({text:I,personality:{}}),new M.AuditoryDescription({text:N,personality:{}})];return a.Grammar.getInstance().setParameter("depth",_),C.finalize(C.markup(P))}actionable_(_){const T=_==null?void 0:_.parentNode;return T&&this.highlighter.isMactionNode(T)?T:null}summary_(){const _=this.getFocus().getSemanticPrimary().id.toString(),T=this.getRebuilt().xml.getAttribute("id")===_?this.getRebuilt().xml:x.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",_)[0],N=u.retrieveSummary(T);return this.mergePrefix_([N])}detail_(){const _=this.getFocus().getSemanticPrimary().id.toString(),T=this.getRebuilt().xml.getAttribute("id")===_?this.getRebuilt().xml:x.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",_)[0],N=T.getAttribute("alternative");T.removeAttribute("alternative");const w=u.computeMarkup(T),L=this.mergePrefix_([w]);return T.setAttribute("alternative",N),L}}e.AbstractWalker=O,O.ID_COUNTER=0,O.SRE_ID_ATTR="sre-explorer-id"},162:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.DummyWalker=void 0;const M=v(3284);class C extends M.AbstractWalker{up(){return null}down(){return null}left(){return null}right(){return null}repeat(){return null}depth(){return null}home(){return null}getDepth(){return 0}initLevels(){return null}combineContentChildren(y,d,f,c){return[]}findFocusOnLevel(y){return null}}e.DummyWalker=C},7730:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.Focus=void 0;const M=v(1204);class C{constructor(y,d){this.nodes=y,this.primary=d,this.domNodes=[],this.domPrimary_=null,this.allNodes=[]}static factory(y,d,f,c){const s=h=>M.getBySemanticId(c,h),a=f.nodeDict,o=s(y),l=d.map(s),u=d.map(function(h){return a[h]}),p=new C(u,a[y]);return p.domNodes=l,p.domPrimary_=o,p.allNodes=C.generateAllVisibleNodes_(d,l,a,c),p}static generateAllVisibleNodes_(y,d,f,c){const s=o=>M.getBySemanticId(c,o);let a=[];for(let o=0,l=y.length;o<l;o++){if(d[o]){a.push(d[o]);continue}const u=f[y[o]];if(!u)continue;const p=u.childNodes.map(function(m){return m.id.toString()}),h=p.map(s);a=a.concat(C.generateAllVisibleNodes_(p,h,f,c))}return a}getSemanticPrimary(){return this.primary}getSemanticNodes(){return this.nodes}getNodes(){return this.allNodes}getDomNodes(){return this.domNodes}getDomPrimary(){return this.domPrimary_}toString(){return"Primary:"+this.domPrimary_+" Nodes:"+this.domNodes}clone(){const y=new C(this.nodes,this.primary);return y.domNodes=this.domNodes,y.domPrimary_=this.domPrimary_,y.allNodes=this.allNodes,y}}e.Focus=C},9797:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Levels=void 0;class v{constructor(){this.level_=[]}push(C){this.level_.push(C)}pop(){return this.level_.pop()}peek(){return this.level_[this.level_.length-1]||null}indexOf(C){const x=this.peek();return x?x.indexOf(C):null}find(C){const x=this.peek();if(!x)return null;for(let y=0,d=x.length;y<d;y++)if(C(x[y]))return x[y];return null}get(C){const x=this.peek();return!x||C<0||C>=x.length?null:x[C]}depth(){return this.level_.length}clone(){const C=new v;return C.level_=this.level_.slice(0),C}toString(){let C="";for(let x,y=0;x=this.level_[y];y++)C+=`
`+x.map(function(d){return d.toString()});return C}}e.Levels=v},1214:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.RebuildStree=void 0;const M=v(5740),C=v(2298),x=v(3588),y=v(6537),d=v(3308),f=v(5656),c=v(7075),s=v(4795),a=v(1204);class o{constructor(u){this.mathml=u,this.factory=new y.SemanticNodeFactory,this.nodeDict={},this.mmlRoot=a.getSemanticRoot(u),this.streeRoot=this.assembleTree(this.mmlRoot),this.stree=c.SemanticTree.fromNode(this.streeRoot,this.mathml),this.xml=this.stree.xml(),d.default.getInstance().setNodeFactory(this.factory)}static addAttributes(u,p,h){h&&p.childNodes.length===1&&p.childNodes[0].nodeType!==M.NodeType.TEXT_NODE&&s.addAttributes(u,p.childNodes[0]),s.addAttributes(u,p)}static textContent(u,p,h){if(!h&&p.textContent)return void(u.textContent=p.textContent);const m=a.splitAttribute(a.getAttribute(p,C.Attribute.OPERATOR));m.length>1&&(u.textContent=m[1])}static isPunctuated(u){return!f.SemanticSkeleton.simpleCollapseStructure(u)&&u[1]&&f.SemanticSkeleton.contentCollapseStructure(u[1])}getTree(){return this.stree}assembleTree(u){const p=this.makeNode(u),h=a.splitAttribute(a.getAttribute(u,C.Attribute.CHILDREN)),m=a.splitAttribute(a.getAttribute(u,C.Attribute.CONTENT));if(o.addAttributes(p,u,!(h.length||m.length)),m.length===0&&h.length===0)return o.textContent(p,u),p;if(m.length>0){const E=a.getBySemanticId(this.mathml,m[0]);E&&o.textContent(p,E,!0)}p.contentNodes=m.map(E=>this.setParent(E,p)),p.childNodes=h.map(E=>this.setParent(E,p));const g=a.getAttribute(u,C.Attribute.COLLAPSED);return g?this.postProcess(p,g):p}makeNode(u){const p=a.getAttribute(u,C.Attribute.TYPE),h=a.getAttribute(u,C.Attribute.ROLE),m=a.getAttribute(u,C.Attribute.FONT),g=a.getAttribute(u,C.Attribute.ANNOTATION)||"",E=a.getAttribute(u,C.Attribute.ID),S=a.getAttribute(u,C.Attribute.EMBELLISHED),O=a.getAttribute(u,C.Attribute.FENCEPOINTER),A=this.createNode(parseInt(E,10));return A.type=p,A.role=h,A.font=m||"unknown",A.parseAnnotation(g),O&&(A.fencePointer=O),S&&(A.embellished=S),A}makePunctuation(u){const p=this.createNode(u);return p.updateContent((0,x.invisibleComma)()),p.role="dummy",p}makePunctuated(u,p,h){const m=this.createNode(p[0]);m.type="punctuated",m.embellished=u.embellished,m.fencePointer=u.fencePointer,m.role=h;const g=p.splice(1,1)[0].slice(1);m.contentNodes=g.map(this.makePunctuation.bind(this)),this.collapsedChildren_(p)}makeEmpty(u,p,h){const m=this.createNode(p);m.type="empty",m.embellished=u.embellished,m.fencePointer=u.fencePointer,m.role=h}makeIndex(u,p,h){if(o.isPunctuated(p))return this.makePunctuated(u,p,h),void(p=p[0]);f.SemanticSkeleton.simpleCollapseStructure(p)&&!this.nodeDict[p.toString()]&&this.makeEmpty(u,p,h)}postProcess(u,p){const h=f.SemanticSkeleton.fromString(p).array;if(u.type==="subsup"){const m=this.createNode(h[1][0]);return m.type="subscript",m.role="subsup",u.type="superscript",m.embellished=u.embellished,m.fencePointer=u.fencePointer,this.makeIndex(u,h[1][2],"rightsub"),this.makeIndex(u,h[2],"rightsuper"),this.collapsedChildren_(h),u}if(u.type==="subscript")return this.makeIndex(u,h[2],"rightsub"),this.collapsedChildren_(h),u;if(u.type==="superscript")return this.makeIndex(u,h[2],"rightsuper"),this.collapsedChildren_(h),u;if(u.type==="tensor")return this.makeIndex(u,h[2],"leftsub"),this.makeIndex(u,h[3],"leftsuper"),this.makeIndex(u,h[4],"rightsub"),this.makeIndex(u,h[5],"rightsuper"),this.collapsedChildren_(h),u;if(u.type==="punctuated"){if(o.isPunctuated(h)){const m=h.splice(1,1)[0].slice(1);u.contentNodes=m.map(this.makePunctuation.bind(this))}return u}if(u.type==="underover"){const m=this.createNode(h[1][0]);return u.childNodes[1].role==="overaccent"?(m.type="overscore",u.type="underscore"):(m.type="underscore",u.type="overscore"),m.role="underover",m.embellished=u.embellished,m.fencePointer=u.fencePointer,this.collapsedChildren_(h),u}return u}createNode(u){const p=this.factory.makeNode(u);return this.nodeDict[u.toString()]=p,p}collapsedChildren_(u){const p=h=>{const m=this.nodeDict[h[0]];m.childNodes=[];for(let g=1,E=h.length;g<E;g++){const S=h[g];m.childNodes.push(f.SemanticSkeleton.simpleCollapseStructure(S)?this.nodeDict[S]:p(S))}return m};p(u)}setParent(u,p){const h=a.getBySemanticId(this.mathml,u),m=this.assembleTree(h);return m.parent=p,m}}e.RebuildStree=o},6295:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticWalker=void 0;const M=v(3284),C=v(9797);class x extends M.AbstractWalker{constructor(d,f,c,s){super(d,f,c,s),this.node=d,this.generator=f,this.highlighter=c,this.levels=null,this.restoreState()}initLevels(){const d=new C.Levels;return d.push([this.getFocus()]),d}up(){super.up();const d=this.previousLevel();return d?(this.levels.pop(),this.levels.find(function(f){return f.getSemanticNodes().some(function(c){return c.id.toString()===d})})):null}down(){super.down();const d=this.nextLevel();return d.length===0?null:(this.levels.push(d),d[0])}combineContentChildren(d,f,c,s){switch(d){case"relseq":case"infixop":case"multirel":return this.makePairList(s,c);case"prefixop":return[this.focusFromId(s[0],c.concat(s))];case"postfixop":return[this.focusFromId(s[0],s.concat(c))];case"matrix":case"vector":case"fenced":return[this.focusFromId(s[0],[c[0],s[0],c[1]])];case"cases":return[this.focusFromId(s[0],[c[0],s[0]])];case"punctuated":return f==="text"?s.map(this.singletonFocus.bind(this)):s.length===c.length?c.map(this.singletonFocus.bind(this)):this.combinePunctuations(s,c,[],[]);case"appl":return[this.focusFromId(s[0],[s[0],c[0]]),this.singletonFocus(s[1])];case"root":return[this.singletonFocus(s[1]),this.singletonFocus(s[0])];default:return s.map(this.singletonFocus.bind(this))}}combinePunctuations(d,f,c,s){if(d.length===0)return s;const a=d.shift(),o=f.shift();return a===o?(c.push(o),this.combinePunctuations(d,f,c,s)):(f.unshift(o),c.push(a),d.length===f.length?(s.push(this.focusFromId(a,c.concat(f))),s):(s.push(this.focusFromId(a,c)),this.combinePunctuations(d,f,[],s)))}makePairList(d,f){if(d.length===0)return[];if(d.length===1)return[this.singletonFocus(d[0])];const c=[this.singletonFocus(d.shift())];for(let s=0,a=d.length;s<a;s++)c.push(this.focusFromId(d[s],[f[s],d[s]]));return c}left(){super.left();const d=this.levels.indexOf(this.getFocus());return d===null?null:this.levels.get(d-1)||null}right(){super.right();const d=this.levels.indexOf(this.getFocus());return d===null?null:this.levels.get(d+1)||null}findFocusOnLevel(d){return this.levels.find(f=>f.getSemanticPrimary().id===d)}}e.SemanticWalker=x},9806:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.SyntaxWalker=void 0;const M=v(707),C=v(3284),x=v(9797);class y extends C.AbstractWalker{constructor(f,c,s,a){super(f,c,s,a),this.node=f,this.generator=c,this.highlighter=s,this.levels=null,this.restoreState()}initLevels(){const f=new x.Levels;return f.push([this.primaryId()]),f}up(){super.up();const f=this.previousLevel();return f?(this.levels.pop(),this.singletonFocus(f)):null}down(){super.down();const f=this.nextLevel();if(f.length===0)return null;const c=this.singletonFocus(f[0]);return c&&this.levels.push(f),c}combineContentChildren(f,c,s,a){switch(f){case"relseq":case"infixop":case"multirel":return(0,M.interleaveLists)(a,s);case"prefixop":return s.concat(a);case"postfixop":return a.concat(s);case"matrix":case"vector":case"fenced":return a.unshift(s[0]),a.push(s[1]),a;case"cases":return a.unshift(s[0]),a;case"punctuated":return c==="text"?(0,M.interleaveLists)(a,s):a;case"appl":return[a[0],s[0],a[1]];case"root":return[a[1],a[0]];default:return a}}left(){super.left();const f=this.levels.indexOf(this.primaryId());if(f===null)return null;const c=this.levels.get(f-1);return c?this.singletonFocus(c):null}right(){super.right();const f=this.levels.indexOf(this.primaryId());if(f===null)return null;const c=this.levels.get(f+1);return c?this.singletonFocus(c):null}findFocusOnLevel(f){return this.singletonFocus(f.toString())}focusDomNodes(){return[this.getFocus().getDomPrimary()]}focusSemanticNodes(){return[this.getFocus().getSemanticPrimary()]}}e.SyntaxWalker=y},1799:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.TableWalker=void 0;const M=v(5740),C=v(8496),x=v(9806),y=v(179);class d extends x.SyntaxWalker{constructor(c,s,a,o){super(c,s,a,o),this.node=c,this.generator=s,this.highlighter=a,this.firstJump=null,this.key_=null,this.row_=0,this.currentTable_=null,this.keyMapping.set(C.KeyCode.ZERO,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.ONE,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.TWO,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.THREE,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.FOUR,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.FIVE,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.SIX,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.SEVEN,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.EIGHT,this.jumpCell.bind(this)),this.keyMapping.set(C.KeyCode.NINE,this.jumpCell.bind(this))}move(c){this.key_=c;const s=super.move(c);return this.modifier=!1,s}up(){return this.moved=y.WalkerMoves.UP,this.eligibleCell_()?this.verticalMove_(!1):super.up()}down(){return this.moved=y.WalkerMoves.DOWN,this.eligibleCell_()?this.verticalMove_(!0):super.down()}jumpCell(){if(!this.isInTable_()||this.key_===null)return this.getFocus();if(this.moved===y.WalkerMoves.ROW){this.moved=y.WalkerMoves.CELL;const s=this.key_-C.KeyCode.ZERO;return this.isLegalJump_(this.row_,s)?this.jumpCell_(this.row_,s):this.getFocus()}const c=this.key_-C.KeyCode.ZERO;return c>this.currentTable_.childNodes.length?this.getFocus():(this.row_=c,this.moved=y.WalkerMoves.ROW,this.getFocus().clone())}undo(){const c=super.undo();return c===this.firstJump&&(this.firstJump=null),c}eligibleCell_(){const c=this.getFocus().getSemanticPrimary();return this.modifier&&c.type==="cell"&&d.ELIGIBLE_CELL_ROLES.indexOf(c.role)!==-1}verticalMove_(c){const s=this.previousLevel();if(!s)return null;const a=this.getFocus(),o=this.levels.indexOf(this.primaryId()),l=this.levels.pop(),u=this.levels.indexOf(s),p=this.levels.get(c?u+1:u-1);if(!p)return this.levels.push(l),null;this.setFocus(this.singletonFocus(p));const h=this.nextLevel();return h[o]?(this.levels.push(h),this.singletonFocus(h[o])):(this.setFocus(a),this.levels.push(l),null)}jumpCell_(c,s){this.firstJump?this.virtualize(!1):(this.firstJump=this.getFocus(),this.virtualize(!0));const a=this.currentTable_.id.toString();let o;do o=this.levels.pop();while(o.indexOf(a)===-1);this.levels.push(o),this.setFocus(this.singletonFocus(a)),this.levels.push(this.nextLevel());const l=this.currentTable_.childNodes[c-1];return this.setFocus(this.singletonFocus(l.id.toString())),this.levels.push(this.nextLevel()),this.singletonFocus(l.childNodes[s-1].id.toString())}isLegalJump_(c,s){const a=M.querySelectorAllByAttrValue(this.getRebuilt().xml,"id",this.currentTable_.id.toString())[0];if(!a||a.hasAttribute("alternative"))return!1;const o=this.currentTable_.childNodes[c-1];if(!o)return!1;const l=M.querySelectorAllByAttrValue(a,"id",o.id.toString())[0];return!(!l||l.hasAttribute("alternative"))&&!(!o||!o.childNodes[s-1])}isInTable_(){let c=this.getFocus().getSemanticPrimary();for(;c;){if(d.ELIGIBLE_TABLE_TYPES.indexOf(c.type)!==-1)return this.currentTable_=c,!0;c=c.parent}return!1}}e.TableWalker=d,d.ELIGIBLE_CELL_ROLES=["determinant","rowvector","binomial","squarematrix","multiline","matrix","vector","cases","table"],d.ELIGIBLE_TABLE_TYPES=["multiline","matrix","vector","cases","table"]},179:function(R,e){Object.defineProperty(e,"__esModule",{value:!0}),e.WalkerState=e.WalkerMoves=void 0,function(M){M.UP="up",M.DOWN="down",M.LEFT="left",M.RIGHT="right",M.REPEAT="repeat",M.DEPTH="depth",M.ENTER="enter",M.EXPAND="expand",M.HOME="home",M.SUMMARY="summary",M.DETAIL="detail",M.ROW="row",M.CELL="cell"}(e.WalkerMoves||(e.WalkerMoves={}));class v{static resetState(C){delete v.STATE[C]}static setState(C,x){v.STATE[C]=x}static getState(C){return v.STATE[C]}}e.WalkerState=v,v.STATE={}},3362:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.walkerMapping_=e.walker=void 0;const M=v(162),C=v(6295),x=v(9806),y=v(1799);e.walker=function(d,f,c,s,a){return(e.walkerMapping_[d.toLowerCase()]||e.walkerMapping_.dummy)(f,c,s,a)},e.walkerMapping_={dummy:(d,f,c,s)=>new M.DummyWalker(d,f,c,s),semantic:(d,f,c,s)=>new C.SemanticWalker(d,f,c,s),syntax:(d,f,c,s)=>new x.SyntaxWalker(d,f,c,s),table:(d,f,c,s)=>new y.TableWalker(d,f,c,s)}},1204:function(R,e,v){Object.defineProperty(e,"__esModule",{value:!0}),e.getBySemanticId=e.getSemanticRoot=e.getAttribute=e.splitAttribute=void 0;const M=v(5740),C=v(2298);e.splitAttribute=function(x){return x?x.split(/,/):[]},e.getAttribute=function(x,y){return x.getAttribute(y)},e.getSemanticRoot=function(x){if(x.hasAttribute(C.Attribute.TYPE)&&!x.hasAttribute(C.Attribute.PARENT))return x;const y=M.querySelectorAllByAttr(x,C.Attribute.TYPE);for(let d,f=0;d=y[f];f++)if(!d.hasAttribute(C.Attribute.PARENT))return d;return x},e.getBySemanticId=function(x,y){return x.getAttribute(C.Attribute.ID)===y?x:M.querySelectorAllByAttrValue(x,C.Attribute.ID,y)[0]}}},__webpack_module_cache__={};function __webpack_require__(R){var e=__webpack_module_cache__[R];if(e!==void 0)return e.exports;var v=__webpack_module_cache__[R]={exports:{}};return __webpack_modules__[R].call(v.exports,v,v.exports,__webpack_require__),v.exports}__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),function(){var R=__webpack_require__(9515),e=__webpack_require__(3282),v=__webpack_require__(235),M=__webpack_require__(265),C=__webpack_require__(2388);function x(Z,tt){(tt==null||tt>Z.length)&&(tt=Z.length);for(var ot=0,st=new Array(tt);ot<tt;ot++)st[ot]=Z[ot];return st}MathJax.loader&&MathJax.loader.checkVersion("startup",e.VERSION,"startup"),(0,R.combineWithMathJax)({_:{components:{loader:v,package:M,startup:C}}});var y,d={"a11y/semantic-enrich":["input/mml","a11y/sre"],"a11y/complexity":["a11y/semantic-enrich"],"a11y/explorer":["a11y/semantic-enrich","ui/menu"],"[mml]/mml3":["input/mml"],"[tex]/all-packages":["input/tex-base"],"[tex]/action":["input/tex-base","[tex]/newcommand"],"[tex]/autoload":["input/tex-base","[tex]/require"],"[tex]/ams":["input/tex-base"],"[tex]/amscd":["input/tex-base"],"[tex]/bbox":["input/tex-base","[tex]/ams","[tex]/newcommand"],"[tex]/boldsymbol":["input/tex-base"],"[tex]/braket":["input/tex-base"],"[tex]/bussproofs":["input/tex-base"],"[tex]/cancel":["input/tex-base","[tex]/enclose"],"[tex]/centernot":["input/tex-base"],"[tex]/color":["input/tex-base"],"[tex]/colorv2":["input/tex-base"],"[tex]/colortbl":["input/tex-base","[tex]/color"],"[tex]/configmacros":["input/tex-base","[tex]/newcommand"],"[tex]/enclose":["input/tex-base"],"[tex]/extpfeil":["input/tex-base","[tex]/newcommand","[tex]/ams"],"[tex]/html":["input/tex-base"],"[tex]/mathtools":["input/tex-base","[tex]/newcommand","[tex]/ams"],"[tex]/mhchem":["input/tex-base","[tex]/ams"],"[tex]/newcommand":["input/tex-base"],"[tex]/noerrors":["input/tex-base"],"[tex]/noundefined":["input/tex-base"],"[tex]/physics":["input/tex-base"],"[tex]/require":["input/tex-base"],"[tex]/setoptions":["input/tex-base"],"[tex]/tagformat":["input/tex-base"],"[tex]/textcomp":["input/tex-base","[tex]/textmacros"],"[tex]/textmacros":["input/tex-base"],"[tex]/unicode":["input/tex-base"],"[tex]/verb":["input/tex-base"],"[tex]/cases":["[tex]/empheq"],"[tex]/empheq":["input/tex-base","[tex]/ams"]},f=Array.from(Object.keys(d)).filter(function(Z){return Z.substr(0,5)==="[tex]"&&Z!=="[tex]/autoload"&&Z!=="[tex]/colorv2"&&Z!=="[tex]/all-packages"}),c={startup:["loader"],"input/tex":["input/tex-base","[tex]/ams","[tex]/newcommand","[tex]/noundefined","[tex]/require","[tex]/autoload","[tex]/configmacros"],"input/tex-full":["input/tex-base","[tex]/all-packages"].concat((y=f,function(Z){if(Array.isArray(Z))return x(Z)}(y)||function(Z){if(typeof Symbol<"u"&&Z[Symbol.iterator]!=null||Z["@@iterator"]!=null)return Array.from(Z)}(y)||function(Z,tt){if(Z){if(typeof Z=="string")return x(Z,tt);var ot=Object.prototype.toString.call(Z).slice(8,-1);return ot==="Object"&&Z.constructor&&(ot=Z.constructor.name),ot==="Map"||ot==="Set"?Array.from(Z):ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot)?x(Z,tt):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),"[tex]/all-packages":f};(0,R.combineDefaults)(MathJax.config.loader,"dependencies",d),(0,R.combineDefaults)(MathJax.config.loader,"paths",{tex:"[mathjax]/input/tex/extensions",mml:"[mathjax]/input/mml/extensions",sre:"[mathjax]/sre/mathmaps"}),(0,R.combineDefaults)(MathJax.config.loader,"provides",c),(0,R.combineDefaults)(MathJax.config.loader,"source",{"[tex]/amsCd":"[tex]/amscd","[tex]/colorV2":"[tex]/colorv2","[tex]/configMacros":"[tex]/configmacros","[tex]/tagFormat":"[tex]/tagformat"}),v.Loader.preLoad("loader","startup","core","input/tex","input/mml","output/chtml","output/chtml/fonts/tex.js","ui/menu","a11y/assistive-mml");var s=__webpack_require__(444),a=__webpack_require__(6191),o=__webpack_require__(5009),l=__webpack_require__(3494),u=__webpack_require__(3670),p=__webpack_require__(805),h=__webpack_require__(9206),m=__webpack_require__(5722),g=__webpack_require__(4474),E=__webpack_require__(9e3),S=__webpack_require__(91),O=__webpack_require__(6336),A=__webpack_require__(1759),_=__webpack_require__(3909),T=__webpack_require__(9007),N=__webpack_require__(3948),w=__webpack_require__(9145),L=__webpack_require__(142),I=__webpack_require__(7590),P=__webpack_require__(3233),k=__webpack_require__(1334),B=__webpack_require__(6661),F=__webpack_require__(1581),H=__webpack_require__(5410),j=__webpack_require__(6850),U=__webpack_require__(3985),z=__webpack_require__(450),K=__webpack_require__(6405),W=__webpack_require__(3050),q=__webpack_require__(2756),X=__webpack_require__(7238),D=__webpack_require__(5741),V=__webpack_require__(6145),G=__webpack_require__(9878),J=__webpack_require__(7265),$=__webpack_require__(6030),Y=__webpack_require__(7131),et=__webpack_require__(1314),it=__webpack_require__(4461),nt=__webpack_require__(1349),at=__webpack_require__(4359),lt=__webpack_require__(4770),ht=__webpack_require__(5022),dt=__webpack_require__(5184),mt=__webpack_require__(9102),yt=__webpack_require__(6325),gt=__webpack_require__(4082),bt=__webpack_require__(9259),vt=__webpack_require__(2975),St=__webpack_require__(4574),Mt=__webpack_require__(4596),Ot=__webpack_require__(7860),_t=__webpack_require__(8823),Lt=__webpack_require__(8912),xt=__webpack_require__(3811),Et=__webpack_require__(6272),At=__webpack_require__(3683),Ct=__webpack_require__(5138),Tt=__webpack_require__(3726),It=__webpack_require__(3363),Pt=__webpack_require__(3335),Rt=__webpack_require__(5713),kt=__webpack_require__(9923),ut=__webpack_require__(6469),Nt=__webpack_require__(6751),wt=__webpack_require__(5368),ft=__webpack_require__(7525),Q=__webpack_require__(103),rt=__webpack_require__(7233),ct=__webpack_require__(8666),pt=__webpack_require__(4542),Vt=__webpack_require__(4139),qt=__webpack_require__(8054),Wt=__webpack_require__(6010),Gt=__webpack_require__(7875),zt=__webpack_require__(505);MathJax.loader&&MathJax.loader.checkVersion("core",e.VERSION,"core"),(0,R.combineWithMathJax)({_:{adaptors:{HTMLAdaptor:s,browserAdaptor:a},components:{global:R},core:{DOMAdaptor:o,FindMath:l,Handler:u,HandlerList:p,InputJax:h,MathDocument:m,MathItem:g,MathList:E,MmlTree:{Attributes:S,MML:O,MathMLVisitor:A,MmlFactory:_,MmlNode:T,MmlNodes:{TeXAtom:N,maction:w,maligngroup:L,malignmark:I,math:P,mathchoice:k,menclose:B,merror:F,mfenced:H,mfrac:j,mglyph:U,mi:z,mmultiscripts:K,mn:W,mo:q,mpadded:X,mphantom:D,mroot:V,mrow:G,ms:J,mspace:$,msqrt:Y,mstyle:et,msubsup:it,mtable:nt,mtd:at,mtext:lt,mtr:ht,munderover:dt,semantics:mt},MmlVisitor:yt,OperatorDictionary:gt,SerializedMmlVisitor:bt},OutputJax:vt,Tree:{Factory:St,Node:Mt,NodeFactory:Ot,Visitor:_t,Wrapper:Lt,WrapperFactory:xt}},handlers:{html_ts:Et,html:{HTMLDocument:At,HTMLDomStrings:Ct,HTMLHandler:Tt,HTMLMathItem:It,HTMLMathList:Pt}},mathjax:Rt,util:{AsyncLoad:kt,BBox:ut,BitField:Nt,Entities:wt,FunctionList:ft,LinkedList:Q,Options:rt,PrioritizedList:ct,Retries:pt,StyleList:Vt,Styles:qt,lengths:Wt,numeric:Gt,string:zt}}}),MathJax.startup&&(MathJax.startup.registerConstructor("HTMLHandler",Tt.HTMLHandler),MathJax.startup.registerConstructor("browserAdaptor",a.browserAdaptor),MathJax.startup.useHandler("HTMLHandler"),MathJax.startup.useAdaptor("browserAdaptor")),MathJax.loader&&(MathJax._.mathjax.mathjax.asyncLoad=function(Z){return MathJax.loader.load(Z)});var Jt=__webpack_require__(8462),Kt=__webpack_require__(9899),$t=__webpack_require__(4676),Yt=__webpack_require__(7073),Zt=__webpack_require__(2947),Qt=__webpack_require__(8929),te=__webpack_require__(1256),ee=__webpack_require__(5450),re=__webpack_require__(8562),ne=__webpack_require__(1130),oe=__webpack_require__(9497),ie=__webpack_require__(8292),se=__webpack_require__(5453),ae=__webpack_require__(8803),le=__webpack_require__(9140),ce=__webpack_require__(6521),ue=__webpack_require__(8317),fe=__webpack_require__(3971),pe=__webpack_require__(8417),he=__webpack_require__(8021),de=__webpack_require__(2790),me=__webpack_require__(4387),ye=__webpack_require__(1275),ge=__webpack_require__(2942),be=__webpack_require__(1181),ve=__webpack_require__(7693),Se=__webpack_require__(8458),Me=__webpack_require__(1496),Oe=__webpack_require__(6793),_e=__webpack_require__(1110),xe=__webpack_require__(5579),Ee=__webpack_require__(4898),Ae=__webpack_require__(7741);MathJax.loader&&MathJax.loader.checkVersion("input/tex",e.VERSION,"input"),(0,R.combineWithMathJax)({_:{input:{tex_ts:Jt,tex:{Configuration:Kt,FilterUtil:$t,FindTeX:Yt,MapHandler:Zt,NodeFactory:Qt,NodeUtil:te,ParseMethods:ee,ParseOptions:re,ParseUtil:ne,Stack:oe,StackItem:ie,StackItemFactory:se,Symbol:ae,SymbolMap:le,Tags:ce,TexConstants:ue,TexError:fe,TexParser:pe,ams:{AmsConfiguration:he,AmsItems:de,AmsMethods:me},autoload:{AutoloadConfiguration:ye},base:{BaseConfiguration:ge,BaseItems:be,BaseMethods:ve},configmacros:{ConfigMacrosConfiguration:Se},newcommand:{NewcommandConfiguration:Me,NewcommandItems:Oe,NewcommandMethods:_e,NewcommandUtil:xe},noundefined:{NoUndefinedConfiguration:Ee},require:{RequireConfiguration:Ae}}}}}),v.Loader.preLoad("input/tex-base","[tex]/ams","[tex]/newcommand","[tex]/noundefined","[tex]/require","[tex]/autoload","[tex]/configmacros"),function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],tt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(MathJax.startup){tt&&(MathJax.startup.registerConstructor("tex",MathJax._.input.tex_ts.TeX),MathJax.startup.useInput("tex")),MathJax.config.tex||(MathJax.config.tex={});var ot=MathJax.config.tex.packages;MathJax.config.tex.packages=Z,ot&&(0,rt.insert)(MathJax.config.tex,{packages:ot})}}(["base","ams","newcommand","noundefined","require","autoload","configmacros"]);var Ft=__webpack_require__(2892),Ce=__webpack_require__(625),Te=__webpack_require__(2769);MathJax.loader&&MathJax.loader.checkVersion("input/mml",e.VERSION,"input"),(0,R.combineWithMathJax)({_:{input:{mathml_ts:Ft,mathml:{FindMathML:Ce,MathMLCompile:Te}}}}),MathJax.startup&&(MathJax.startup.registerConstructor("mml",Ft.MathML),MathJax.startup.useInput("mml")),MathJax.loader&&MathJax.loader.pathFilters.add(function(Z){return Z.name=Z.name.replace(/\/util\/entities\/.*?\.js/,"/input/mml/entities.js"),!0});var Ht=__webpack_require__(50),Ne=__webpack_require__(8042),we=__webpack_require__(8270),Le=__webpack_require__(6797),Ie=__webpack_require__(5355),Pe=__webpack_require__(9261),Re=__webpack_require__(9086),ke=__webpack_require__(95),je=__webpack_require__(1148),Be=__webpack_require__(8102),De=__webpack_require__(804),Fe=__webpack_require__(8147),He=__webpack_require__(2275),Ue=__webpack_require__(9063),Xe=__webpack_require__(6911),Ve=__webpack_require__(1653),qe=__webpack_require__(6781),We=__webpack_require__(6460),Ge=__webpack_require__(6287),ze=__webpack_require__(5964),Je=__webpack_require__(8776),Ke=__webpack_require__(4798),$e=__webpack_require__(4597),Ye=__webpack_require__(2970),Ze=__webpack_require__(5610),Qe=__webpack_require__(4300),tr=__webpack_require__(8002),er=__webpack_require__(7056),rr=__webpack_require__(1259),nr=__webpack_require__(3571),or=__webpack_require__(6590),ir=__webpack_require__(8650),sr=__webpack_require__(421),ar=__webpack_require__(5884),lr=__webpack_require__(5552),cr=__webpack_require__(3055),ur=__webpack_require__(7519),fr=__webpack_require__(4420),pr=__webpack_require__(9800),hr=__webpack_require__(1160),dr=__webpack_require__(1956),mr=__webpack_require__(7490),yr=__webpack_require__(7313),gr=__webpack_require__(7555),br=__webpack_require__(2688),vr=__webpack_require__(5636),Sr=__webpack_require__(5723),Mr=__webpack_require__(8009),Or=__webpack_require__(5023),_r=__webpack_require__(7096),xr=__webpack_require__(6898),Er=__webpack_require__(6991),Ar=__webpack_require__(8411),Cr=__webpack_require__(4126),Tr=__webpack_require__(258),Nr=__webpack_require__(4093),wr=__webpack_require__(905),Lr=__webpack_require__(6237),Ir=__webpack_require__(5164),Pr=__webpack_require__(6319),Rr=__webpack_require__(5766),kr=__webpack_require__(1971),jr=__webpack_require__(167),Br=__webpack_require__(5806);MathJax.loader&&MathJax.loader.checkVersion("output/chtml",e.VERSION,"output"),(0,R.combineWithMathJax)({_:{output:{chtml_ts:Ht,chtml:{FontData:Ne,Notation:we,Usage:Le,Wrapper:Ie,WrapperFactory:Pe,Wrappers_ts:Re,Wrappers:{TeXAtom:ke,TextNode:je,maction:Be,math:De,menclose:Fe,mfenced:He,mfrac:Ue,mglyph:Xe,mi:Ve,mmultiscripts:qe,mn:We,mo:Ge,mpadded:ze,mroot:Je,mrow:Ke,ms:$e,mspace:Ye,msqrt:Ze,msubsup:Qe,mtable:tr,mtd:er,mtext:rr,mtr:nr,munderover:or,scriptbase:ir,semantics:sr}},common:{FontData:ar,Notation:lr,OutputJax:cr,Wrapper:ur,WrapperFactory:fr,Wrappers:{TeXAtom:pr,TextNode:hr,maction:dr,math:mr,menclose:yr,mfenced:gr,mfrac:br,mglyph:vr,mi:Sr,mmultiscripts:Mr,mn:Or,mo:_r,mpadded:xr,mroot:Er,mrow:Ar,ms:Cr,mspace:Tr,msqrt:Nr,msubsup:wr,mtable:Lr,mtd:Ir,mtext:Pr,mtr:Rr,munderover:kr,scriptbase:jr,semantics:Br}}}}}),MathJax.loader&&(0,R.combineDefaults)(MathJax.config.loader,"output/chtml",{checkReady:function(){return MathJax.loader.load("output/chtml/fonts/tex")}}),MathJax.startup&&(MathJax.startup.registerConstructor("chtml",Ht.CHTML),MathJax.startup.useOutput("chtml"));var jt=__webpack_require__(2760),Dr=__webpack_require__(4005),Fr=__webpack_require__(1015),Hr=__webpack_require__(6555),Ur=__webpack_require__(2183),Xr=__webpack_require__(3490),Vr=__webpack_require__(9056),qr=__webpack_require__(3019),Wr=__webpack_require__(2713),Gr=__webpack_require__(7517),zr=__webpack_require__(4182),Jr=__webpack_require__(2679),Kr=__webpack_require__(5469),$r=__webpack_require__(775),Yr=__webpack_require__(9551),Zr=__webpack_require__(6530),Qr=__webpack_require__(4409),tn=__webpack_require__(5292),en=__webpack_require__(3980),rn=__webpack_require__(1103),nn=__webpack_require__(9124),on=__webpack_require__(6001),sn=__webpack_require__(3696),an=__webpack_require__(9587),ln=__webpack_require__(8348),cn=__webpack_require__(1376),un=__webpack_require__(1439),fn=__webpack_require__(331),pn=__webpack_require__(4886),hn=__webpack_require__(4471),dn=__webpack_require__(5181),mn=__webpack_require__(3526),yn=__webpack_require__(5649),gn=__webpack_require__(7153),bn=__webpack_require__(5745),vn=__webpack_require__(1411),Sn=__webpack_require__(6384),Mn=__webpack_require__(6041),On=__webpack_require__(8199),_n=__webpack_require__(9848),xn=__webpack_require__(7906),En=__webpack_require__(2644),An=__webpack_require__(4926);if(MathJax.loader&&MathJax.loader.checkVersion("output/chtml/fonts/tex",e.VERSION,"chtml-font"),(0,R.combineWithMathJax)({_:{output:{chtml:{fonts:{tex_ts:jt,tex:{"bold-italic":Dr,bold:Fr,"fraktur-bold":Hr,fraktur:Ur,italic:Xr,largeop:Vr,monospace:qr,normal:Wr,"sans-serif-bold-italic":Gr,"sans-serif-bold":zr,"sans-serif-italic":Jr,"sans-serif":Kr,smallop:$r,"tex-calligraphic-bold":Yr,"tex-size3":Zr,"tex-size4":Qr,"tex-variant":tn}}},common:{fonts:{tex:{"bold-italic":en,bold:rn,delimiters:nn,"double-struck":on,"fraktur-bold":sn,fraktur:an,italic:ln,largeop:cn,monospace:un,normal:fn,"sans-serif-bold-italic":pn,"sans-serif-bold":hn,"sans-serif-italic":dn,"sans-serif":mn,"script-bold":yn,script:gn,smallop:bn,"tex-calligraphic-bold":vn,"tex-calligraphic":Sn,"tex-mathit":Mn,"tex-oldstyle-bold":On,"tex-oldstyle":_n,"tex-size3":xn,"tex-size4":En,"tex-variant":An}}}}}}),MathJax.startup){(0,R.combineDefaults)(MathJax.config,"chtml",{fontURL:M.Package.resolvePath("output/chtml/fonts/woff-v2",!1)});var Cn=(0,rt.selectOptionsFromKeys)(MathJax.config.chtml||{},jt.TeXFont.OPTIONS);(0,R.combineDefaults)(MathJax.config,"chtml",{font:new jt.TeXFont(Cn)})}var Tn=__webpack_require__(5865),Nn=__webpack_require__(8310),Ut=__webpack_require__(4001),wn=__webpack_require__(473),Ln=__webpack_require__(4414);MathJax.loader&&MathJax.loader.checkVersion("ui/menu",e.VERSION,"ui"),(0,R.combineWithMathJax)({_:{ui:{menu:{MJContextMenu:Tn,Menu:Nn,MenuHandler:Ut,MmlVisitor:wn,SelectableInfo:Ln}}}}),MathJax.startup&&typeof window<"u"&&MathJax.startup.extendHandler(function(Z){return(0,Ut.MenuHandler)(Z)},20);var Xt=__webpack_require__(351);function Bt(Z,tt){(tt==null||tt>Z.length)&&(tt=Z.length);for(var ot=0,st=new Array(tt);ot<tt;ot++)st[ot]=Z[ot];return st}MathJax.loader&&MathJax.loader.checkVersion("a11y/assistive-mml",e.VERSION,"a11y"),(0,R.combineWithMathJax)({_:{a11y:{"assistive-mml":Xt}}}),MathJax.startup&&MathJax.startup.extendHandler(function(Z){return(0,Xt.AssistiveMmlHandler)(Z)}),v.Loader.preLoad("loader"),v.Loader.load.apply(v.Loader,function(Z){return function(tt){if(Array.isArray(tt))return Bt(tt)}(Z)||function(tt){if(typeof Symbol<"u"&&tt[Symbol.iterator]!=null||tt["@@iterator"]!=null)return Array.from(tt)}(Z)||function(tt,ot){if(tt){if(typeof tt=="string")return Bt(tt,ot);var st=Object.prototype.toString.call(tt).slice(8,-1);if(st==="Object"&&tt.constructor&&(st=tt.constructor.name),st==="Map"||st==="Set")return Array.from(tt);if(st==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(st))return Bt(tt,ot)}}(Z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(v.CONFIG.load)).then(function(){return v.CONFIG.ready()}).catch(function(Z){return v.CONFIG.failed(Z)})}()})()})();const styles=i`@font-face{font-family:IBMPlexMath-Regular;font-style:normal;font-weight:400;src:url(${r(""+new URL("IBMPlexMath-Regular-Dq8G3Twh.otf",import.meta.url).href)}) format("opentype")}:host(clabs-chat-formula){overflow:hidden;font-family:IBMPlexMath-Regular,serif;font-size:22px;inline-size:100%;pointer-events:none}:host(clabs-chat-formula) .clabs--chat-formula-container{box-sizing:border-box;padding:16px;inline-size:100%}`;var __defProp=Object.defineProperty,__decorateClass$1=(R,e,v,M)=>{for(var C=void 0,x=R.length-1,y;x>=0;x--)(y=R[x])&&(C=y(e,v,C)||C);return C&&__defProp(e,v,C),C};const{stablePrefix:clabsPrefix$2}=settings,Dt=class Dt extends i$1{async startMathJax(){MathJax.startup.getComponents=()=>{MathJax.startup.document=MathJax.startup.document.constructor({options:MathJax.config.options,renderActions:MathJax.startup.renderActions,inputJax:MathJax.startup.input,outputJax:MathJax.startup.output,adaptor:MathJax.startup.adaptor}),MathJax.startup.document.document=this.shadowRoot},await MathJax.startup.promise}firstUpdated(){this.content!==null&&this._prepareFormula()}async updated(e){super.updated(e),e.has("formula")&&await this._renderFormula()}async _prepareFormula(){this.formula=this.content}async _renderFormula(){var v;await this.startMathJax();const e=(v=this.shadowRoot)==null?void 0:v.querySelector("."+clabsPrefix$2+"--chat-formula-container");if(e instanceof HTMLElement)try{await MathJax.typesetPromise([e]).then(()=>{console.log("success")}).catch(M=>{console.error(M)})}catch(M){console.error(M)}}_renderFormula2(){var v;const e=(v=this.shadowRoot)==null?void 0:v.querySelector("."+clabsPrefix$2+"--chat-formula-container");if(e instanceof HTMLElement)try{MathJax.tex2svgPromise(this.content,{display:!0}).then(M=>{const C=M.querySelector("svg");e.innerHTML="",e.append(C)}).catch(M=>{console.error(M)})}catch(M){console.error(M)}}};Dt.styles=styles;let formulaElement=Dt;__decorateClass$1([n({type:String,attribute:"content",reflect:!0})],formulaElement.prototype,"content");__decorateClass$1([r$1()],formulaElement.prototype,"formula");/**
 * @license
 *
 * Copyright IBM Corp. 2023
 *
 * This source code is licensed under the Apache-2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */const{stablePrefix:clabsPrefix$1}=settings;function formulaElementTemplate(R){const{content:e}=R;return b` <div class="${clabsPrefix$1}--chat-formula-container">
    ${e}
  </div>`}var __getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(R,e,v,M)=>{for(var C=M>1?void 0:M?__getOwnPropDesc(e,v):e,x=R.length-1,y;x>=0;x--)(y=R[x])&&(C=y(C)||C);return C};const{stablePrefix:clabsPrefix}=settings;let CLABSFormulaElement=class extends formulaElement{render(){return formulaElementTemplate(this)}};CLABSFormulaElement=__decorateClass([t(`${clabsPrefix}-chat-formula`)],CLABSFormulaElement);
